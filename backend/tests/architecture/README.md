# Clean Architecture 테스트

이 테스트는 애플리케이션의 아키텍처가 Clean Architecture 원칙을 준수하는지 검증합니다.

## 설치 및 실행

필요한 패키지 설치:

```bash
npm install --save-dev typescript
```

테스트 실행:

```bash
npm test tests/architecture/cleanArchitecture.test.ts
```

## 검증 항목

1. **계층 간 의존성 방향**: 내부 계층이 외부 계층에 의존하지 않는지 확인
   - 도메인 모델 → 서비스 → 컨트롤러 → 라우터/미들웨어 방향으로만 의존성이 존재해야 함

2. **순환 의존성**: 모듈 간 순환 의존성이 없는지 확인
   - A가 B를 참조하고 B가 A를 참조하는 구조 방지

3. **의존성 주입 패턴**: 컴포넌트들이 직접 의존성을 생성하지 않고 외부에서 주입받는지 확인
   - 컨트롤러가 서비스 계층 참조
   - 서비스가 도메인 모델 참조

4. **인터페이스 사용**: 계층 간 통신이 인터페이스를 통해 이루어지는지 확인
   - 인터페이스/타입 정의 사용 여부 확인

5. **단일 책임 원칙**: 모듈이 단일 책임을 가지는지 확인
   - 모듈의 의존성 수로 근사 계산

6. **의존성 역전 원칙**: 고수준 모듈이 저수준 모듈에 의존하지 않고 추상화에 의존하는지 확인
   - 인터페이스를 통한 의존성 관리

## 계층 구조 설정

이 테스트는 다음과 같은 계층 구조를 가정합니다:

- **도메인 모델 (models)**: 핵심 엔티티 및 비즈니스 규칙
- **유스케이스 (services)**: 애플리케이션 비즈니스 규칙
- **인터페이스 어댑터 (controllers)**: 컨트롤러, 프레젠터
- **인프라 (middleware, routes, config)**: 프레임워크 및 인프라 코드

프로젝트 구조가 다른 경우 `cleanArchitecture.test.ts` 파일에서 `layers` 객체를 수정해 주세요.