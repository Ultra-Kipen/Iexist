
> iexist-backend@1.0.0 test
> cross-env NODE_ENV=test jest --config ./jest.config.ts --detectOpenHandles --forceExit

PASS tests/database/transaction-isolation.test.ts (54.651 s)
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 671 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      데이터베이스 연결 성공

      at Object.<anonymous> (tests/database/transaction-isolation.test.ts:17:15)

    console.log
      테스트 데이터 생성 완료: { testUserId1: 2, testUserId2: 3, postId: 2 }

      at Object.<anonymous> (tests/database/transaction-isolation.test.ts:66:15)

    console.log
      예상된 직렬화 오류: Error
          at Query.run (C:\app_build\Iexist\backend\node_modules\sequelize\src\dialects\mysql\query.js:46:25)
          at C:\app_build\Iexist\backend\node_modules\sequelize\src\sequelize.js:650:28
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at async MySQLQueryInterface.insert (C:\app_build\Iexist\backend\node_modules\sequelize\src\dialects\abstract\query-interface.js:795:21)
          at async MyDayLike.save (C:\app_build\Iexist\backend\node_modules\sequelize\src\model.js:4154:35)
          at async Function.create (C:\app_build\Iexist\backend\node_modules\sequelize\src\model.js:2305:12)
          at async Object.<anonymous> (C:\app_build\Iexist\backend\tests\database\transaction-isolation.test.ts:298:9) {
        name: 'SequelizeDatabaseError',
        parent: Error: Lock wait timeout exceeded; try restarting transaction
            at Packet.asError (C:\app_build\Iexist\backend\node_modules\mysql2\lib\packets\packet.js:740:17)
            at Execute.execute (C:\app_build\Iexist\backend\node_modules\mysql2\lib\commands\command.js:29:26)
            at Connection.handlePacket (C:\app_build\Iexist\backend\node_modules\mysql2\lib\base\connection.js:475:34)
            at PacketParser.onPacket (C:\app_build\Iexist\backend\node_modules\mysql2\lib\base\connection.js:93:12)
            at PacketParser.executeStart (C:\app_build\Iexist\backend\node_modules\mysql2\lib\packet_parser.js:75:16)
            at Socket.<anonymous> (C:\app_build\Iexist\backend\node_modules\mysql2\lib\base\connection.js:100:25)
            at Socket.emit (node:events:519:28)
            at Socket.emit (node:domain:488:12)
            at addChunk (node:internal/streams/readable:559:12)
            at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
            at Socket.Readable.push (node:internal/streams/readable:390:5)
            at TCP.onStreamRead (node:internal/stream_base_commons:191:23) {
          code: 'ER_LOCK_WAIT_TIMEOUT',
          errno: 1205,
          sqlState: 'HY000',
          sqlMessage: 'Lock wait timeout exceeded; try restarting transaction',
          sql: 'INSERT INTO `my_day_likes` (`user_id`,`post_id`,`created_at`,`updated_at`) VALUES (?,?,?,?);',
          parameters: [ 3, 2, '2025-03-21 03:29:29', '2025-03-21 03:29:29' ]
        },
        original: Error: Lock wait timeout exceeded; try restarting transaction
            at Packet.asError (C:\app_build\Iexist\backend\node_modules\mysql2\lib\packets\packet.js:740:17)
            at Execute.execute (C:\app_build\Iexist\backend\node_modules\mysql2\lib\commands\command.js:29:26)
            at Connection.handlePacket (C:\app_build\Iexist\backend\node_modules\mysql2\lib\base\connection.js:475:34)
            at PacketParser.onPacket (C:\app_build\Iexist\backend\node_modules\mysql2\lib\base\connection.js:93:12)
            at PacketParser.executeStart (C:\app_build\Iexist\backend\node_modules\mysql2\lib\packet_parser.js:75:16)
            at Socket.<anonymous> (C:\app_build\Iexist\backend\node_modules\mysql2\lib\base\connection.js:100:25)
            at Socket.emit (node:events:519:28)
            at Socket.emit (node:domain:488:12)
            at addChunk (node:internal/streams/readable:559:12)
            at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
            at Socket.Readable.push (node:internal/streams/readable:390:5)
            at TCP.onStreamRead (node:internal/stream_base_commons:191:23) {
          code: 'ER_LOCK_WAIT_TIMEOUT',
          errno: 1205,
          sqlState: 'HY000',
          sqlMessage: 'Lock wait timeout exceeded; try restarting transaction',
          sql: 'INSERT INTO `my_day_likes` (`user_id`,`post_id`,`created_at`,`updated_at`) VALUES (?,?,?,?);',
          parameters: [ 3, 2, '2025-03-21 03:29:29', '2025-03-21 03:29:29' ]
        },
        sql: 'INSERT INTO `my_day_likes` (`user_id`,`post_id`,`created_at`,`updated_at`) VALUES (?,?,?,?);',
        parameters: [ 3, 2, '2025-03-21 03:29:29', '2025-03-21 03:29:29' ]
      }

      at Object.<anonymous> (tests/database/transaction-isolation.test.ts:314:17)

    console.log
      충돌 감지 여부: false

      at Object.<anonymous> (tests/database/transaction-isolation.test.ts:378:15)

    console.log
      테스트 데이터 정리 완료

      at Object.<anonymous> (tests/database/transaction-isolation.test.ts:92:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/api/api-schema-validation.test.ts (34.407 s)
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 585 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      404 Not Found: GET /api/non-existent-endpoint

      at app.ts:103:11

    console.log
      테스트 환경에서 프로필 조회: { user_id: 1 }

      at getProfile (controllers/userController.ts:592:15)

    console.info
      엔드포인트 확인 중 스킵됨: /api/challenges - Timeout of 30000ms exceeded

      at Object.<anonymous> (tests/api/api-schema-validation.test.ts:642:19)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 1 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/resilience/serviceResilience.test.ts (15.23 s)
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 573 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 서버가 포트 5017에서 시작됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:136:15)

    console.log
      서버 재시작 시작...

      at restartServer (tests/resilience/serviceResilience.test.ts:74:11)

    console.log
      기존 서버 인스턴스 종료됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:80:17)

    console.log
      기존 DB 연결 종료됨

      at restartServer (tests/resilience/serviceResilience.test.ts:90:15)

    console.log
      데이터베이스 새 연결 성공

      at restartServer (tests/resilience/serviceResilience.test.ts:105:13)

    console.log
      테스트 서버가 포트 5017에서 다시 시작됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:112:15)

    console.log
      서버 재시작 완료

      at restartServer (tests/resilience/serviceResilience.test.ts:117:13)

    console.log
      서버 재시작 시작...

      at restartServer (tests/resilience/serviceResilience.test.ts:74:11)

    console.log
      기존 서버 인스턴스 종료됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:80:17)

    console.log
      기존 DB 연결 종료됨

      at restartServer (tests/resilience/serviceResilience.test.ts:90:15)

    console.log
      데이터베이스 새 연결 성공

      at restartServer (tests/resilience/serviceResilience.test.ts:105:13)

    console.log
      테스트 서버가 포트 5017에서 다시 시작됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:112:15)

    console.log
      서버 재시작 완료

      at restartServer (tests/resilience/serviceResilience.test.ts:117:13)

    console.log
      서버 재시작 시작...

      at restartServer (tests/resilience/serviceResilience.test.ts:74:11)

    console.log
      기존 서버 인스턴스 종료됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:80:17)

    console.log
      기존 DB 연결 종료됨

      at restartServer (tests/resilience/serviceResilience.test.ts:90:15)

    console.log
      데이터베이스 새 연결 성공

      at restartServer (tests/resilience/serviceResilience.test.ts:105:13)

    console.log
      테스트 서버가 포트 5017에서 다시 시작됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:112:15)

    console.log
      서버 재시작 완료

      at restartServer (tests/resilience/serviceResilience.test.ts:117:13)

    console.log
      서버 재시작 시작...

      at restartServer (tests/resilience/serviceResilience.test.ts:74:11)

    console.log
      기존 서버 인스턴스 종료됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:80:17)

    console.log
      기존 DB 연결 종료됨

      at restartServer (tests/resilience/serviceResilience.test.ts:90:15)

    console.log
      데이터베이스 새 연결 성공

      at restartServer (tests/resilience/serviceResilience.test.ts:105:13)

    console.log
      테스트 서버가 포트 5017에서 다시 시작됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:112:15)

    console.log
      서버 재시작 완료

      at restartServer (tests/resilience/serviceResilience.test.ts:117:13)

    console.log
      테스트 서버 종료됨

      at Server.<anonymous> (tests/resilience/serviceResilience.test.ts:148:19)

    console.log
      테스트 DB 연결 종료됨

      at Object.<anonymous> (tests/resilience/serviceResilience.test.ts:158:17)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/controllers/myDayController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 599 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      myDayController 테스트 정리 작업 완료

      at Object.<anonymous> (tests/integration/controllers/myDayController.test.ts:167:13)

    console.log
      myDayController 테스트 종료

      at Object.<anonymous> (tests/integration/controllers/myDayController.test.ts:180:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/controllers/userController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 604 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      Response body: {"status":"error","errors":[{"field":"email","message":"유효한 이메일을 입력해주세요."},{"field":"password","message":"비밀번호는 최소 6자 이상이어야 합니다."}]}

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:91:15)

    console.log
      Duplicate username response status: 409

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:152:15)

    console.log
      Response body: { status: 'error', message: '이미 존재하는 사용자 이름입니다.' }

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:153:15)

    console.log
      로그인 요청 본문: { email: 'test@example.com', password: 'Test123!@#' }

      at login (controllers/userController.ts:415:13)

    console.log
      로그인 요청 본문: { email: 'nonexistent@example.com', password: 'Test123!@#' }

      at login (controllers/userController.ts:415:13)

    console.log
      로그인 요청 본문: { email: 'test@example.com', password: 'WrongPass123!@#' }

      at login (controllers/userController.ts:415:13)

    console.log
      Response Status: 200

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:247:15)

    console.log
      Response Body: {
        status: 'success',
        message: '프로필이 성공적으로 업데이트되었습니다.',
        data: { nickname: 'UpdatedUser_1742527876982', theme_preference: 'dark' }
      }

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:248:15)

    console.log
      Invalid user response: 404 { status: 'error', message: '사용자를 찾을 수 없습니다.' }

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:264:15)

    console.log
      Password change response: 400 {
        status: 'error',
        errors: [ { field: 'newPassword', message: '비밀번호는 영문과 숫자를 포함해야 합니다.' } ]
      }

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:319:15)

    console.log
      Password change API not implemented or returned non-200 status, skipping test

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:336:17)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 1 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      Withdrawal response: 200 { status: 'success', message: '회원 탈퇴가 완료되었습니다.' }

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:427:15)

    console.log
      로그인 요청 본문: {
        email: 'withdrawal_1742527877888@example.com',
        password: 'Test123!@#'
      }

      at login (controllers/userController.ts:415:13)

    console.log
      Incorrect password withdrawal response: 400 { status: 'error', message: '비밀번호가 일치하지 않습니다.' }

      at Object.<anonymous> (tests/integration/controllers/userController.test.ts:459:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/e2e/fullServiceFlow.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 592 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 초기화 시작...

      at setupTestDatabase (tests/e2e/fullServiceFlow.test.ts:28:13)

    console.log
      테이블이 이미 존재합니다. 초기화 스킵

      at setupTestDatabase (tests/e2e/fullServiceFlow.test.ts:35:15)

    console.log
      테스트 환경 준비 완료, 사용자 ID: 2

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:217:15)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 2 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      프로필 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:232:17)

    console.log
      감정 목록 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:249:17)

    console.log
      MyDay 게시물 생성 완료: 2

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:305:19)

    console.log
      MyDay 게시물 목록 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:323:17)

    console.log
      SomeoneDay 게시물 생성 완료: 1

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:385:19)

    console.log
      게시물 좋아요 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:410:21)

    console.log
      게시물 댓글 결과: 201

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:423:21)

    console.log
      SomeoneDay 게시물 상세 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:434:21)

    console.log
      격려 메시지 전송 결과: 201

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:447:21)

    console.log
      챌린지 생성 완료: 2

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:518:19)

    console.log
      챌린지 상세 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:584:13)

    console.log
      사용자 통계 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:605:19)

    console.log
      감정 통계 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:617:19)

    console.log
      알림 목록 조회 결과: 200

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:629:19)

    console.log
      테스트 데이터 정리 시작...

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:642:15)

    console.log
      데이터베이스 연결 상태 확인 완료

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:647:17)

    console.log
      challenge_participants 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      challenges 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      encouragement_messages 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      someone_day_posts 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      my_day_comments 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      my_day_likes 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      my_day_posts 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      notifications 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      emotion_logs 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      user_stats 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      users 테이블 데이터 삭제 완료

      at deleteRecord (tests/e2e/fullServiceFlow.test.ts:661:19)

    console.log
      테스트 데이터 정리 완료

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:692:15)

    console.log
      데이터베이스 연결 종료 완료

      at Object.<anonymous> (tests/e2e/fullServiceFlow.test.ts:699:17)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/websocket.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 575 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      서버 소켓에 클라이언트 연결됨

      at Namespace.<anonymous> (tests/websocket.test.ts:46:17)

    console.log
      클라이언트 소켓 연결됨

      at Socket.<anonymous> (tests/websocket.test.ts:38:17)

    console.log
      connected 이벤트 수신됨

      at Socket.<anonymous> (tests/websocket.test.ts:64:17)

    console.log
      사용자 연결됨: 1, 소켓 ID: ooBVwuu8DALKtS-PAAAB

      at Namespace.<anonymous> (services/socketService.ts:46:15)

    console.log
      connected 이벤트 수신됨

      at Socket.<anonymous> (tests/websocket.test.ts:64:17)

    console.log
      소켓 연결 해제됨: server namespace disconnect

      at Socket.<anonymous> (tests/websocket.test.ts:51:19)

    console.log
      사용자 연결 해제: 1

      at Socket.<anonymous> (services/socketService.ts:67:17)

    console.log
      서버 소켓에 클라이언트 연결됨

      at Namespace.<anonymous> (tests/websocket.test.ts:46:17)

    console.log
      사용자 연결됨: 1, 소켓 ID: 3H7tTkHspGdeo0UPAAAD

      at Namespace.<anonymous> (services/socketService.ts:46:15)

    console.log
      연결 상태 확인: true

      at Timeout._onTimeout (tests/websocket.test.ts:184:15)

    console.log
      서버 소켓에 클라이언트 연결됨

      at Namespace.<anonymous> (tests/websocket.test.ts:46:17)

    console.log
      두 번째 클라이언트 연결됨: true

      at Socket.<anonymous> (tests/websocket.test.ts:222:15)

    console.log
      첫 번째 클라이언트 연결 상태: true

      at Socket.<anonymous> (tests/websocket.test.ts:223:15)

    console.log
      소켓 연결 해제됨: server namespace disconnect

      at Socket.<anonymous> (tests/websocket.test.ts:51:19)

    console.log
      소켓 연결 해제됨: server shutting down

      at Socket.<anonymous> (tests/websocket.test.ts:51:19)
          at Map.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      사용자 연결 해제: 1

      at Socket.<anonymous> (services/socketService.ts:67:17)
          at Map.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/e2e/challengeScenario.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 613 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      테스트 서버 시작 완료

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:144:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료: { userId: 1, tokenExists: true }

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:181:15)

    console.log
      테스트용 챌린지가 생성되었습니다: 1

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:270:13)

    console.log
      상세 조회 테스트용 챌린지 생성: 2

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:307:11)

    console.log
      기존 테이블 구조: [
        'challenge_emotion_id',
        'challenge_id',
        'user_id',
        'emotion_id',
        'log_date',
        'note',
        'created_at'
      ]

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:408:13)

    console.log
      이전 감정 로그 정리 완료

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:420:17)

    console.log
      사용할 감정 ID: 1

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:449:13)

    console.log
      실행할 쿼리: 
            INSERT INTO challenge_emotions 
            (challenge_id, user_id, emotion_id, log_date, note, created_at) 
            VALUES 
            (?, ?, ?, ?, ?, NOW())

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:494:13)

    console.log
      쿼리 파라미터: [ 2, 1, 1, '2025-03-20', '테스트 진행 상황 업데이트' ]

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:495:13)

    console.log
      SQL 실행 결과: [ 1, 1 ]

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:503:13)

    console.log
      삽입된 데이터: [
        {
          challenge_emotion_id: 1,
          challenge_id: 2,
          user_id: 1,
          emotion_id: 1,
          log_date: '2025-03-20',
          note: '테스트 진행 상황 업데이트',
          created_at: 2025-03-21T03:31:26.000Z
        }
      ]

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:515:13)

    console.log
      테스트 데이터 정리 완료

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:220:15)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      테스트 서버 종료 완료

      at Object.<anonymous> (tests/e2e/challengeScenario.test.ts:225:17)

    console.log
      테스트 완료 - 정리 작업 종료

      at Timeout._onTimeout (tests/e2e/challengeScenario.test.ts:231:19)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/services/ComfortWallUserIntegration.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 611 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      JWT_SECRET 설정 확인: 설정됨

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:135:15)

    console.log
      테스트 초기화 완료

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:142:15)

    console.log
      테스트 사용자 1 ID: 2

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:143:15)

    console.log
      테스트 사용자 2 ID: 3

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:144:15)

    console.log
      토큰 1 생성됨: true

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:145:15)

    console.log
      토큰 2 생성됨: true

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:146:15)

    console.log
      테스트 사용자 등록: 2

      at app.ts:76:13

    console.log
      ComfortWall 테스트 데이터 설정: { user1Id: 2, postId: undefined }

      at Object.<anonymous>.comfortWallController_1.default.setTestData (routes/comfortWall.ts:29:11)

    console.log
      테스트 초기화 시 사용자 데이터 등록 완료

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:159:17)

    console.log
      로그인 요청 본문: { email: 'comfort1@example.com', password: 'Pass123!' }

      at login (controllers/userController.ts:415:13)

    console.log
      로그인 응답 1: {
        status: 'success',
        message: '로그인이 완료되었습니다.',
        data: {
          token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE3NDI1Mjc4ODgsImV4cCI6MTc0MjYxNDI4OH0.qHL94BnyFlyNl55J-RVhuRi5-K-B2tDCZQzdEzbfICI',
          user: {
            user_id: 2,
            username: 'comfortuser1',
            email: 'comfort1@example.com',
            nickname: 'ComfortUser1',
            theme_preference: 'system'
          }
        }
      }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:192:17)

    console.log
      새 토큰 1 획득: true

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:200:19)

    console.log
      로그인 요청 본문: { email: 'comfort2@example.com', password: 'Pass123!' }

      at login (controllers/userController.ts:415:13)

    console.log
      로그인 응답 2: {
        status: 'success',
        message: '로그인이 완료되었습니다.',
        data: {
          token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJpYXQiOjE3NDI1Mjc4ODgsImV4cCI6MTc0MjYxNDI4OH0.1-MQLpK-8QqRcz1vIkCH9jQHVk7q8SvMXKJa0tph4hg',
          user: {
            user_id: 3,
            username: 'comfortuser2',
            email: 'comfort2@example.com',
            nickname: 'ComfortUser2',
            theme_preference: 'system'
          }
        }
      }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:211:17)

    console.log
      새 토큰 2 획득: true

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:219:19)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 2 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      프로필 응답: {
        status: 'success',
        data: {
          user_id: 2,
          username: 'testuser',
          email: 'test@example.com',
          nickname: 'TestUser',
          theme_preference: 'system',
          profile_image_url: null,
          is_active: true
        }
      }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:232:17)

    console.log
      이메일이 일치하지 않지만 테스트는 계속 진행합니다. 예상: comfort1@example.com 실제: test@example.com

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:241:19)

    console.log
      게시물 생성 시도: {
        title: '위로가 필요한 순간',
        content: '오늘은 정말 힘든 하루였습니다. 여러분의 위로의 말 한마디가 큰 힘이 될 것 같습니다.',
        is_anonymous: false,
        user_id: 2
      }

      at Object.createComfortWallPost (controllers/comfortWallController.ts:68:17)

    console.log
      게시물 생성 응답: { message: '위로와 공감 게시물이 성공적으로 생성되었습니다.', post_id: 773 }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:257:17)

    console.log
      생성된 게시물 ID: 773

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:263:17)

    console.log
      테스트 사용자 등록: 2

      at app.ts:76:13

    console.log
      ComfortWall 테스트 데이터 설정: { user1Id: 2, postId: 773 }

      at Object.<anonymous>.comfortWallController_1.default.setTestData (routes/comfortWall.ts:29:11)

    console.log
      테스트 데이터 설정 완료: { user1Id: 2, postId: 773 }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:274:19)

    console.log
      게시물 목록 응답(게시물 수): 1

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:289:17)

    console.log
      인기 게시물 응답: { status: 'success', data: { posts: [ [Object] ] } }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:310:17)

    console.log
      위로 메시지 전송 - 게시물 ID: 773

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:321:17)

    console.log
      테스트 환경에서 위로 메시지 생성 시도: { postId: 773, message: '힘든 시간을 잘 이겨내고 계시네요. 응원합니다!', sender_id: 3 }

      at Object.createComfortMessage (controllers/comfortWallController.ts:361:15)

    console.log
      위로 메시지 응답: { message: '위로의 메시지가 성공적으로 전송되었습니다.', encouragement_message_id: 698 }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:327:17)

    console.log
      테스트 환경에서 위로 메시지 생성 시도: { postId: 773, message: '힘든 시간을 잘 이겨내고 계시네요. 응원합니다!', sender_id: 2 }

      at Object.createComfortMessage (controllers/comfortWallController.ts:361:15)

    console.log
      자신의 게시물에 위로 메시지 시도 응답: { message: '위로의 메시지가 성공적으로 전송되었습니다.', encouragement_message_id: 599 }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:343:17)

    console.log
      예상한 오류 메시지가 반환되지 않았지만 테스트는 계속 진행합니다.

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:349:19)

    console.log
      알림 목록 응답: {
        status: 'success',
        data: {
          notifications: [],
          pagination: {
            current_page: 1,
            total_pages: 0,
            total_count: 0,
            has_next: false
          }
        }
      }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:368:17)

    console.log
      알림 데이터 전체: []

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:375:17)

    console.log
      알림 개수: 0

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:376:17)

    console.log
      알림이 없어 이 테스트를 건너뜁니다

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:380:19)

    console.log
      알림 목록 응답: {
        status: 'success',
        data: {
          notifications: [],
          pagination: {
            current_page: 1,
            total_pages: 0,
            total_count: 0,
            has_next: false
          }
        }
      }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:407:17)

    console.log
      알림이 없어 테스트를 건너뜁니다

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:413:19)

    console.log
      요청 전 상태: {
        authToken1: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJpYXQiOjE3NDI1Mjc4ODgsImV4cCI6MTc0MjYxNDI4OH0.qHL94BnyFlyNl55J-RVhuRi5-K-B2tDCZQzdEzbfICI',
        testUser2Id: 3
      }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:439:17)

    console.log
      사용자 차단 응답 상태: 200

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:448:17)

    console.log
      사용자 차단 응답: { status: 'success', message: '사용자를 차단했습니다.' }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:449:17)

    console.log
      사용자 차단 해제 응답: { status: 'success', message: '사용자 차단을 해제했습니다.' }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:471:17)

    console.log
      프로필 업데이트 응답: {
        status: 'success',
        message: '프로필이 성공적으로 업데이트되었습니다.',
        data: { nickname: 'UpdatedComfortUser1', theme_preference: 'dark' }
      }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:498:17)

    console.log
      테스트 환경 변수: { NODE_ENV: 'test', JWT_SECRET: true, TEST_PORT: undefined }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:526:17)

    console.log
      알림 설정 업데이트 응답: { status: 'success', message: '알림 설정이 성공적으로 업데이트되었습니다.' }

      at Object.<anonymous> (tests/integration/services/ComfortWallUserIntegration.test.ts:532:17)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/userAuth.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 588 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 성공

      at Object.<anonymous> (tests/integration/userAuth.test.ts:21:15)

    console.log
      로그인 요청 본문: { email: 'auth_test_1742527890353@example.com', password: 'Test1234!' }

      at login (controllers/userController.ts:415:13)

    console.log
      로그인 요청 본문: {
        email: 'auth_test_1742527890353@example.com',
        password: 'WrongPassword123!'
      }

      at login (controllers/userController.ts:415:13)

    console.log
      로그인 요청 본문: { email: 'nonexistent@example.com', password: 'Test1234!' }

      at login (controllers/userController.ts:415:13)

    console.log
      비밀번호 변경 응답: { status: 400, body: { status: 'error', errors: [ [Object] ] } }

      at Object.<anonymous> (tests/integration/userAuth.test.ts:112:13)

    console.log
      잘못된 비밀번호 변경 응답: { status: 400, body: { status: 'error', errors: [ [Object] ] } }

      at Object.<anonymous> (tests/integration/userAuth.test.ts:153:13)

    console.log
      테스트 환경에서 이메일 전송 시뮬레이션: { to: 'auth_test_1742527890353@example.com', subject: '비밀번호 재설정 요청' }

      at sendEmail (services/emailService.ts:22:15)

    console.log
      비밀번호 재설정 요청 응답: {
        status: 200,
        body: { status: 'success', message: '비밀번호 재설정 링크가 이메일로 전송되었습니다.' }
      }

      at Object.<anonymous> (tests/integration/userAuth.test.ts:173:13)

    console.log
      회원탈퇴 응답: {
        status: 200,
        body: { status: 'success', message: '회원 탈퇴가 완료되었습니다.' }
      }

      at Object.<anonymous> (tests/integration/userAuth.test.ts:216:13)

    console.log
      로그인 요청 본문: { email: 'auth_test_1742527890353@example.com', password: 'Test1234!' }

      at login (controllers/userController.ts:415:13)

    console.log
      테스트 데이터베이스 연결 종료

      at Object.<anonymous> (tests/integration/userAuth.test.ts:38:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/architecture/cleanArchitecture.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 625 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      의존성 그래프 구축 완료

      at Object.<anonymous> (tests/architecture/cleanArchitecture.test.ts:23:13)

    console.warn
      의존성이 많은 모듈 (단일 책임 원칙 위반 가능성): [ 'controllers: 35개 의존성', 'models: 56개 의존성', 'routes: 51개 의존성' ]

    [0m [90m 162 |[39m       
     [90m 163 |[39m       [36mif[39m (highDependencyModules[33m.[39mlength [33m>[39m [35m0[39m) {
    [31m[1m>[22m[39m[90m 164 |[39m         console[33m.[39mwarn([32m'의존성이 많은 모듈 (단일 책임 원칙 위반 가능성):'[39m[33m,[39m 
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 165 |[39m           highDependencyModules[33m.[39mmap(([module[33m,[39m count]) [33m=>[39m [32m`${module}: ${count}개 의존성`[39m)
     [90m 166 |[39m         )[33m;[39m
     [90m 167 |[39m       }[0m

      at Object.<anonymous> (tests/architecture/cleanArchitecture.test.ts:164:17)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/post.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 613 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트용 감정 데이터 초기화 완료

      at Object.<anonymous> (tests/integration/post.test.ts:82:13)

    console.log
      Content Missing Response: 400 {
        status: 'error',
        errors: [ { field: 'content', message: '내용은 10자 이상 1000자 이하여야 합니다.' } ]
      }

      at Object.<anonymous> (tests/integration/post.test.ts:168:15)

    console.log
      Emotion IDs Missing Response: 201 {
        status: 'success',
        message: '작업이 성공적으로 완료되었습니다.',
        data: { post_id: 3 }
      }

      at Object.<anonymous> (tests/integration/post.test.ts:181:15)

    console.log
      Like Post Response: 200 { status: 'success', message: '게시물에 좋아요를 표시했습니다.' }

      at Object.<anonymous> (tests/integration/post.test.ts:212:17)

    console.log
      Unlike Post Response: 200 { status: 'success', message: '게시물 좋아요를 취소했습니다.' }

      at Object.<anonymous> (tests/integration/post.test.ts:229:17)

    console.log
      Invalid Post ID Response: 404 { status: 'error', message: '게시물을 찾을 수 없습니다.' }

      at Object.<anonymous> (tests/integration/post.test.ts:243:17)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/error/errorHandling.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 598 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/authBoundary.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 589 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 1001 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/auth.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 590 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      로그인 요청 본문: { email: 'test@example.com', password: 'password123!' }

      at login (controllers/userController.ts:415:13)

    console.log
      로그인 요청 본문: { email: 'test@example.com', password: 'wrongpassword' }

      at login (controllers/userController.ts:415:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/stateMachine.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 595 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 성공

      at Object.<anonymous> (tests/stateMachine.test.ts:43:15)

    console.log
      테스트 데이터베이스 연결 종료

      at Object.<anonymous> (tests/stateMachine.test.ts:138:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/userFlow.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 589 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      로그인 요청 본문: { email: 'testuser_1742527907276@example.com', password: 'Test123!@#' }

      at login (controllers/userController.ts:415:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/passwordReset.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 555 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 시작 - 비밀번호 재설정

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:11:11)

    console.log
      API 응답 상태 코드: 404

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:22:15)

    console.log
      API 응답 본문: { status: 'error', message: '해당 이메일로 등록된 사용자를 찾을 수 없습니다.' }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:23:15)

    console.log
      재설정 API 응답 상태 코드: 400

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:38:15)

    console.log
      재설정 API 응답 본문: { status: 'error', message: '유효하지 않거나 만료된 토큰입니다.' }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:39:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료 - ID: 1, Email: test1742527908408@example.com

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:63:15)

    console.log
      테스트 환경에서 이메일 전송 시뮬레이션: { to: 'test1742527908408@example.com', subject: '비밀번호 재설정 요청' }

      at sendEmail (services/emailService.ts:22:15)

    console.log
      비밀번호 재설정 요청 응답: { status: 'success', message: '비밀번호 재설정 링크가 이메일로 전송되었습니다.' }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:75:13)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료 - ID: 1, Email: test1742527908408@example.com

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:63:15)

    console.log
      존재하지 않는 이메일 응답: { status: 'error', message: '해당 이메일로 등록된 사용자를 찾을 수 없습니다.' }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:89:13)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료 - ID: 1, Email: test1742527908408@example.com

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:63:15)

    console.log
      토큰 설정 완료: { userId: 1, resetTokenSet: true }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:123:15)

    console.log
      비밀번호 재설정 응답: {
        status: 'success',
        message: '비밀번호가 성공적으로 재설정되었습니다. 새 비밀번호로 로그인해 주세요.'
      }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:133:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료 - ID: 1, Email: test1742527908408@example.com

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:63:15)

    console.log
      유효하지 않은 토큰 응답: { status: 'error', message: '유효하지 않거나 만료된 토큰입니다.' }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:152:13)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료 - ID: 1, Email: test1742527908408@example.com

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:63:15)

    console.log
      비밀번호 유효성 검사 응답: {
        status: 'error',
        errors: [
          { field: 'newPassword', message: '비밀번호는 최소 6자 이상이어야 합니다.' },
          { field: 'newPassword', message: '비밀번호는 영문, 숫자, 특수문자를 포함해야 합니다.' }
        ]
      }

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:174:13)

    console.log
      404 Not Found: POST /users/forgot-password

      at app.ts:103:11

    console.log
      직접 경로 API 응답 상태 코드: 404

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:188:15)

    console.log
      404 Not Found: POST /users/reset-password

      at app.ts:103:11

    console.log
      직접 경로 재설정 API 응답 상태 코드: 404

      at Object.<anonymous> (tests/integration/passwordReset.test.ts:202:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/userService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 548 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      로그인 요청 본문: { email: 'test@example.com', password: 'password123!' }

      at login (controllers/userController.ts:415:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/e2e/notification.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 567 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      소유권 검증 실패: 알림 ID 9999, 요청 사용자 ID 1

      at checkNotificationOwnership (routes/notifications.ts:66:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트: 다른 사용자의 알림 접근 시도

      at checkNotificationOwnership (routes/notifications.ts:50:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      소유권 검증 실패: 알림 ID 9999, 요청 사용자 ID 1

      at checkNotificationOwnership (routes/notifications.ts:66:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트: 다른 사용자의 알림 접근 시도

      at checkNotificationOwnership (routes/notifications.ts:50:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/e2e/notification.test.ts:293:7)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/e2e/notification.test.ts:319:7)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/e2e/notification.test.ts:335:7)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/e2e/notification.test.ts:338:7)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/e2e/notification.test.ts:341:7)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/authMiddleware.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 577 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/controllers/emotionController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 562 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/modelVersioning.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 621 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      데이터베이스 테이블 목록: [
        'best_posts',             'challenges',
        'challenge_emotions',     'challenge_participants',
        'emotions',               'emotion_logs',
        'encouragement_messages', 'my_day_comments',
        'my_day_emotions',        'my_day_likes',
        'my_day_posts',           'notifications',
        'post_recommendations',   'post_reports',
        'post_tags',              'sequelizemeta',
        'someone_day_comments',   'someone_day_likes',
        'someone_day_posts',      'someone_day_tags',
        'tags',                   'users',
        'user_blocks',            'user_goals',
        'user_stats'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:30:13)

    console.log
      테이블 확인: users

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'users' 테이블 컬럼: {
        Field: 'user_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'User' 모델 속성: [
        'user_id',               'username',
        'email',                 'password_hash',
        'nickname',              'profile_image_url',
        'background_image_url',  'favorite_quote',
        'theme_preference',      'privacy_settings',
        'is_active',             'last_login_at',
        'created_at',            'updated_at',
        'notification_settings', 'reset_token',
        'reset_token_expires',   'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: emotions

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'emotions' 테이블 컬럼: {
        Field: 'emotion_id',
        Type: 'tinyint(3) unsigned',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'Emotion' 모델 속성: [ 'emotion_id', 'name', 'icon', 'color', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: emotion_logs

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'emotion_logs' 테이블 컬럼: {
        Field: 'log_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'EmotionLog' 모델 속성: [
        'log_id',
        'user_id',
        'emotion_id',
        'note',
        'log_date',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: best_posts

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'best_posts' 테이블 컬럼: {
        Field: 'best_post_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'BestPost' 모델 속성: [
        'best_post_id',
        'post_id',
        'post_type',
        'category',
        'start_date',
        'end_date',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: challenges

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'challenges' 테이블 컬럼: {
        Field: 'challenge_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'Challenge' 모델 속성: [
        'challenge_id',
        'creator_id',
        'title',
        'description',
        'start_date',
        'end_date',
        'is_public',
        'max_participants',
        'participant_count',
        'created_at',
        'updated_at',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: challenge_emotions

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'challenge_emotions' 테이블 컬럼: {
        Field: 'challenge_emotion_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'ChallengeEmotion' 모델 속성: [
        'challenge_emotion_id',
        'challenge_id',
        'user_id',
        'emotion_id',
        'log_date',
        'note',
        'created_at'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: challenge_participants

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'challenge_participants' 테이블 컬럼: {
        Field: 'challenge_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: ''
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'ChallengeParticipant' 모델 속성: [ 'challenge_id', 'user_id', 'created_at', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: encouragement_messages

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'encouragement_messages' 테이블 컬럼: {
        Field: 'message_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'EncouragementMessage' 모델 속성: [
        'message_id',
        'sender_id',
        'receiver_id',
        'post_id',
        'message',
        'is_anonymous',
        'created_at',
        'createdAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: my_day_comments

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'my_day_comments' 테이블 컬럼: {
        Field: 'comment_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'MyDayComment' 모델 속성: [
        'comment_id',
        'post_id',
        'user_id',
        'content',
        'is_anonymous',
        'created_at',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: my_day_emotions

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'my_day_emotions' 테이블 컬럼: {
        Field: 'post_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: ''
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'MyDayEmotion' 모델 속성: [ 'post_id', 'emotion_id', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: my_day_likes

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'my_day_likes' 테이블 컬럼: {
        Field: 'user_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: ''
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'MyDayLike' 모델 속성: [ 'user_id', 'post_id', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: my_day_posts

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'my_day_posts' 테이블 컬럼: {
        Field: 'post_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'MyDayPost' 모델 속성: [
        'post_id',
        'user_id',
        'content',
        'emotion_summary',
        'image_url',
        'is_anonymous',
        'character_count',
        'like_count',
        'comment_count',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: notifications

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'notifications' 테이블 컬럼: {
        Field: 'id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'Notification' 모델 속성: [
        'id',
        'user_id',
        'content',
        'notification_type',
        'related_id',
        'is_read',
        'created_at',
        'createdAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: post_recommendations

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'post_recommendations' 테이블 컬럼: {
        Field: 'recommendation_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'PostRecommendation' 모델 속성: [
        'recommendation_id',
        'post_id',
        'recommended_post_id',
        'post_type',
        'reason',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: post_reports

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'post_reports' 테이블 컬럼: {
        Field: 'report_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'PostReport' 모델 속성: [
        'report_id',
        'post_id',
        'reporter_id',
        'report_type',
        'description',
        'status',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: post_tags

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'post_tags' 테이블 컬럼: {
        Field: 'post_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: ''
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'PostTag' 모델 속성: [ 'post_id', 'tag_id', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: someone_day_comments

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'someone_day_comments' 테이블 컬럼: {
        Field: 'comment_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'SomeoneDayComment' 모델 속성: [
        'comment_id',
        'post_id',
        'user_id',
        'content',
        'is_anonymous',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: someone_day_likes

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'someone_day_likes' 테이블 컬럼: {
        Field: 'id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'SomeoneDayLike' 모델 속성: [ 'id', 'post_id', 'user_id', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: someone_day_posts

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'someone_day_posts' 테이블 컬럼: {
        Field: 'post_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'SomeoneDayPost' 모델 속성: [
        'post_id',
        'user_id',
        'title',
        'content',
        'summary',
        'image_url',
        'is_anonymous',
        'character_count',
        'like_count',
        'comment_count',
        'created_at',
        'updated_at'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: someone_day_tags

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'someone_day_tags' 테이블 컬럼: {
        Field: 'created_at',
        Type: 'datetime',
        Null: 'NO',
        Key: '',
        Default: null,
        Extra: ''
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'SomeoneDayTag' 모델 속성: [ 'post_id', 'tag_id', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: tags

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'tags' 테이블 컬럼: {
        Field: 'tag_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'Tag' 모델 속성: [ 'tag_id', 'name', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: user_goals

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'user_goals' 테이블 컬럼: {
        Field: 'goal_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: 'auto_increment'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'UserGoal' 모델 속성: [
        'goal_id',
        'user_id',
        'target_emotion_id',
        'start_date',
        'end_date',
        'progress',
        'createdAt',
        'updatedAt'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: user_stats

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'user_stats' 테이블 컬럼: {
        Field: 'user_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: ''
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'UserStats' 모델 속성: [
        'user_id',
        'my_day_post_count',
        'someone_day_post_count',
        'my_day_like_received_count',
        'someone_day_like_received_count',
        'my_day_comment_received_count',
        'someone_day_comment_received_count',
        'challenge_count',
        'last_updated'
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테이블 확인: user_blocks

      at Object.<anonymous> (tests/modelVersioning.test.ts:63:15)

    console.log
      'user_blocks' 테이블 컬럼: {
        Field: 'user_id',
        Type: 'int(11)',
        Null: 'NO',
        Key: 'PRI',
        Default: null,
        Extra: ''
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:71:15)

    console.log
      'UserBlock' 모델 속성: [ 'user_id', 'blocked_user_id', 'createdAt', 'updatedAt' ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:82:15)

    console.log
      테스트 시작 - 테이블 존재 여부 확인

      at Object.<anonymous> (tests/modelVersioning.test.ts:133:15)

    console.log
      테이블 목록: [
        { Tables_in_iexist_test: 'best_posts' },
        { Tables_in_iexist_test: 'challenge_emotions' },
        { Tables_in_iexist_test: 'challenge_participants' },
        { Tables_in_iexist_test: 'challenges' },
        { Tables_in_iexist_test: 'emotion_logs' },
        { Tables_in_iexist_test: 'emotions' },
        { Tables_in_iexist_test: 'encouragement_messages' },
        { Tables_in_iexist_test: 'my_day_comments' },
        { Tables_in_iexist_test: 'my_day_emotions' },
        { Tables_in_iexist_test: 'my_day_likes' },
        { Tables_in_iexist_test: 'my_day_posts' },
        { Tables_in_iexist_test: 'notifications' },
        { Tables_in_iexist_test: 'post_recommendations' },
        { Tables_in_iexist_test: 'post_reports' },
        { Tables_in_iexist_test: 'post_tags' },
        { Tables_in_iexist_test: 'sequelizemeta' },
        { Tables_in_iexist_test: 'someone_day_comments' },
        { Tables_in_iexist_test: 'someone_day_likes' },
        { Tables_in_iexist_test: 'someone_day_posts' },
        { Tables_in_iexist_test: 'someone_day_tags' },
        { Tables_in_iexist_test: 'tags' },
        { Tables_in_iexist_test: 'user_blocks' },
        { Tables_in_iexist_test: 'user_goals' },
        { Tables_in_iexist_test: 'user_stats' },
        { Tables_in_iexist_test: 'users' }
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:141:15)

    console.log
      사용자 생성 시도: {
        username: 'test_counter_1742527914809',
        email: 'test_counter_1742527914809@example.com'
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:149:15)

    console.log
      사용자 생성 결과: 2

      at Object.<anonymous> (tests/modelVersioning.test.ts:173:15)

    console.log
      생성된 사용자 ID: 2

      at Object.<anonymous> (tests/modelVersioning.test.ts:178:15)

    console.log
      게시물 생성 결과: 2

      at Object.<anonymous> (tests/modelVersioning.test.ts:190:15)

    console.log
      댓글 생성 시작: { postId: 2, userId: 2 }

      at Object.<anonymous> (tests/modelVersioning.test.ts:196:13)

    console.log
      댓글 생성 결과: 1

      at Object.<anonymous> (tests/modelVersioning.test.ts:207:13)

    console.log
      게시물 카운터 업데이트 시작

      at Object.<anonymous> (tests/modelVersioning.test.ts:210:13)

    console.log
      게시물 카운터 업데이트 결과: undefined

      at Object.<anonymous> (tests/modelVersioning.test.ts:220:13)

    console.log
      결과 조회 시작

      at Object.<anonymous> (tests/modelVersioning.test.ts:223:13)

    console.log
      게시물 조회 결과: [
        {
          post_id: 2,
          user_id: 2,
          content: 'Test counter post content',
          emotion_summary: null,
          image_url: null,
          is_anonymous: 0,
          character_count: 27,
          like_count: 0,
          comment_count: 1,
          created_at: 2025-03-21T03:31:54.000Z,
          updated_at: 2025-03-21T03:31:54.000Z
        }
      ]

      at Object.<anonymous> (tests/modelVersioning.test.ts:230:13)

    console.log
      조회된 게시물: {
        post_id: 2,
        user_id: 2,
        content: 'Test counter post content',
        emotion_summary: null,
        image_url: null,
        is_anonymous: 0,
        character_count: 27,
        like_count: 0,
        comment_count: 1,
        created_at: 2025-03-21T03:31:54.000Z,
        updated_at: 2025-03-21T03:31:54.000Z
      }

      at Object.<anonymous> (tests/modelVersioning.test.ts:235:15)

    console.log
      테스트 데이터 정리 시작

      at Object.<anonymous> (tests/modelVersioning.test.ts:249:13)

    console.log
      댓글 삭제 완료

      at Object.<anonymous> (tests/modelVersioning.test.ts:255:15)

    console.log
      게시물 삭제 완료

      at Object.<anonymous> (tests/modelVersioning.test.ts:261:15)

    console.log
      사용자 삭제 완료

      at Object.<anonymous> (tests/modelVersioning.test.ts:267:15)

    console.log
      테스트 데이터 정리 완료

      at Object.<anonymous> (tests/modelVersioning.test.ts:271:13)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/routes.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 582 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      인증 없는 protected-route 응답: 401 { status: 'error', message: '인증이 필요합니다.' }

      at Object.<anonymous> (tests/routes.test.ts:20:13)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      로그인 요청 본문: { email: 'nonexistent@example.com', password: 'wrongpassword' }

      at login (controllers/userController.ts:415:13)

    console.log
      404 Not Found: GET /api/nonexistent-route

      at app.ts:103:11

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/api/authEndpoints.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 623 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      데이터베이스 연결 성공

      at Object.<anonymous> (tests/integration/api/authEndpoints.test.ts:71:15)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 2 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/cache.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 572 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      1000개 항목 캐싱 소요 시간: 0ms

      at Object.<anonymous> (tests/unit/cache.test.ts:262:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/database/migration.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 570 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 성공

      at Object.<anonymous> (tests/database/migration.test.ts:25:13)

    console.log
      데이터베이스에 존재하는 인덱스: [
        'best_posts.best_post_id (PRIMARY)',
        'best_posts.post_id (post_id)',
        'challenges.challenge_id (PRIMARY)',
        'challenges.creator_id (creator_id)',
        'challenge_emotions.challenge_emotion_id (PRIMARY)',
        'challenge_emotions.challenge_id (challenge_id)',
        'challenge_emotions.user_id (user_id)',
        'challenge_emotions.emotion_id (emotion_id)',
        'challenge_participants.challenge_id (PRIMARY)',
        'challenge_participants.user_id (PRIMARY)',
        'challenge_participants.challenge_id (challenge_participants_challenge_id_user_id_unique)',
        'challenge_participants.user_id (challenge_participants_challenge_id_user_id_unique)',
        'challenge_participants.challenge_id (challenge_participants_challenge_id_user_id)',
        'challenge_participants.user_id (challenge_participants_challenge_id_user_id)',
        'challenge_participants.user_id (user_id)',
        'emotions.emotion_id (PRIMARY)',
        'emotions.name (name)',
        'emotion_logs.log_id (PRIMARY)',
        'emotion_logs.user_id (user_id)',
        'emotion_logs.emotion_id (emotion_id)',
        'encouragement_messages.message_id (PRIMARY)',
        'encouragement_messages.sender_id (encouragement_messages_sender_id)',
        'encouragement_messages.receiver_id (encouragement_messages_receiver_id)',
        'encouragement_messages.post_id (encouragement_messages_post_id)',
        'encouragement_messages.created_at (encouragement_messages_created_at)',
        'my_day_comments.comment_id (PRIMARY)',
        'my_day_comments.post_id (my_day_comments_post_id)',
        'my_day_comments.user_id (my_day_comments_user_id)',
        'my_day_emotions.post_id (PRIMARY)',
        'my_day_emotions.emotion_id (PRIMARY)',
        'my_day_emotions.post_id (my_day_emotions_post_id_emotion_id_unique)',
        'my_day_emotions.emotion_id (my_day_emotions_post_id_emotion_id_unique)',
        'my_day_emotions.post_id (my_day_emotions_post_id)',
        'my_day_emotions.emotion_id (my_day_emotions_emotion_id)',
        'my_day_likes.user_id (PRIMARY)',
        'my_day_likes.post_id (PRIMARY)',
        'my_day_likes.post_id (my_day_likes_post_id)',
        'my_day_likes.user_id (my_day_likes_user_id)',
        'my_day_posts.post_id (PRIMARY)',
        'my_day_posts.user_id (user_id)',
        'notifications.id (PRIMARY)',
        'notifications.user_id (notifications_user_id_is_read)',
        'notifications.is_read (notifications_user_id_is_read)',
        'notifications.created_at (notifications_created_at)',
        'post_recommendations.recommendation_id (PRIMARY)',
        'post_recommendations.post_id (post_recommendations_post_id)',
        'post_recommendations.recommended_post_id (post_recommendations_recommended_post_id)',
        'post_reports.report_id (PRIMARY)',
        'post_reports.post_id (post_reports_post_id)',
        'post_reports.reporter_id (post_reports_reporter_id)',
        'post_reports.status (post_reports_status)',
        'post_reports.created_at (post_reports_created_at)',
        'post_tags.post_id (PRIMARY)',
        'post_tags.tag_id (PRIMARY)',
        'post_tags.post_id (post_tags_post_id)',
        'post_tags.tag_id (post_tags_tag_id)',
        'sequelizemeta.name (PRIMARY)',
        'sequelizemeta.name (name)',
        'someone_day_comments.comment_id (PRIMARY)',
        'someone_day_comments.post_id (someone_day_comments_post_id)',
        'someone_day_comments.user_id (someone_day_comments_user_id)',
        'someone_day_likes.id (PRIMARY)',
        'someone_day_likes.post_id (someone_day_likes_post_id_user_id)',
        'someone_day_likes.user_id (someone_day_likes_post_id_user_id)',
        'someone_day_likes.user_id (user_id)',
        'someone_day_posts.post_id (PRIMARY)',
        'someone_day_posts.user_id (someone_day_posts_user_id)',
        'someone_day_posts.created_at (someone_day_posts_created_at)',
        'someone_day_posts.like_count (someone_day_posts_like_count)',
        'someone_day_tags.post_id (PRIMARY)',
        'someone_day_tags.tag_id (PRIMARY)',
        'someone_day_tags.tag_id (tag_id)',
        'tags.tag_id (PRIMARY)',
        'tags.name (name)',
        'tags.name (tags_name)',
        'users.user_id (PRIMARY)',
        'users.username (username)',
        'users.email (email)',
        'user_blocks.user_id (PRIMARY)',
        'user_blocks.blocked_user_id (PRIMARY)',
        'user_blocks.blocked_user_id (blocked_user_id)',
        'user_goals.goal_id (PRIMARY)',
        'user_goals.user_id (user_id)',
        'user_goals.target_emotion_id (target_emotion_id)',
        'user_stats.user_id (PRIMARY)'
      ]

      at Object.<anonymous> (tests/database/migration.test.ts:204:13)

    console.log
      테스트 데이터베이스 연결 종료

      at Object.<anonymous> (tests/database/migration.test.ts:31:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/controllers/emotionController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 580 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/NotificationSystem.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 558 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      테스트 사용자 생성됨: { testUserId: 2 }

      at Object.<anonymous> (tests/services/NotificationSystem.test.ts:60:13)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/services/NotificationSystem.test.ts:69:26)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/services/NotificationSystem.test.ts:116:26)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/services/NotificationSystem.test.ts:133:26)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/services/NotificationSystem.test.ts:180:26)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/services/NotificationSystem.test.ts:219:7)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/services/NotificationSystem.test.ts:219:7)

    console.error
      Socket.IO 인스턴스가 초기화되지 않았습니다.

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [36mif[39m ([33m![39mio) {
    [31m[1m>[22m[39m[90m 112 |[39m       console[33m.[39merror([32m'Socket.IO 인스턴스가 초기화되지 않았습니다.'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 113 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 114 |[39m     }
     [90m 115 |[39m     [0m

      at sendNotificationToUser (services/socketService.ts:112:15)
      at createNotification (controllers/notificationController.ts:45:33)
      at async Object.<anonymous> (tests/services/NotificationSystem.test.ts:219:7)

    console.log
      소켓 연결 결과: {
        connected: false,
        error: TransportError: xhr poll error
            at XHR.onError (C:\app_build\Iexist\backend\node_modules\engine.io-client\build\cjs\transport.js:48:37)
            at Request.<anonymous> (C:\app_build\Iexist\backend\node_modules\engine.io-client\build\cjs\transports\polling-xhr.js:64:18)
            at Request.Object.<anonymous>.Emitter.emit (C:\app_build\Iexist\backend\node_modules\@socket.io\component-emitter\lib\cjs\index.js:143:20)
            at Request._onError (C:\app_build\Iexist\backend\node_modules\engine.io-client\build\cjs\transports\polling-xhr.js:173:14)
            at Timeout._onTimeout (C:\app_build\Iexist\backend\node_modules\engine.io-client\build\cjs\transports\polling-xhr.js:146:30)
            at listOnTimeout (node:internal/timers:581:17)
            at processTimers (node:internal/timers:519:7) {
          description: 404,
          context: XMLHttpRequest {
            UNSENT: 0,
            OPENED: 1,
            HEADERS_RECEIVED: 2,
            LOADING: 3,
            DONE: 4,
            readyState: 0,
            onreadystatechange: [Function: empty],
            responseText: '',
            responseXML: '',
            response: <Buffer >,
            status: 404,
            statusText: null,
            open: [Function (anonymous)],
            setDisableHeaderCheck: [Function (anonymous)],
            setRequestHeader: [Function (anonymous)],
            getResponseHeader: [Function (anonymous)],
            getAllResponseHeaders: [Function (anonymous)],
            getRequestHeader: [Function (anonymous)],
            send: [Function (anonymous)],
            handleError: [Function (anonymous)],
            abort: [Function (anonymous)],
            addEventListener: [Function (anonymous)],
            removeEventListener: [Function (anonymous)],
            dispatchEvent: [Function (anonymous)]
          },
          type: 'TransportError'
        }
      }

      at Object.<anonymous> (tests/services/NotificationSystem.test.ts:300:15)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/PostService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 585 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/e2e/someoneDay.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 557 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기본 테스트 사용자(ID: 1)가 이미 존재함

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:49:15)

    console.log
      테스트 사용자 정보: { user_id: 1, token: '설정됨' }

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:66:13)

    console.log
      게시물 생성 응답: {
        status: 'success',
        message: '게시물이 성공적으로 생성되었습니다.',
        data: { post_id: 1 }
      }

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:99:13)

    console.log
      생성된 게시물 ID: 1

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:109:17)

    console.log
      게시물 상세 조회 응답: {
        status: 'success',
        data: {
          post_id: 1,
          title: '테스트 게시물 제목',
          content: '테스트 게시물 내용입니다. 20자 이상 작성.',
          is_anonymous: false,
          user: { nickname: '테스트유저', profile_image_url: null },
          like_count: 0,
          comment_count: 0,
          created_at: '2025-03-21T03:32:04.154Z',
          tags: [],
          encouragement_messages: []
        }
      }

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:259:13)

    console.log
      게시물 ID(1) 신고 시도, 사용자 ID: 1

      at Object.reportPost (controllers/someoneDayController.ts:661:13)

    console.log
      게시물 신고 응답: {
        status: 'success',
        message: '게시물이 성공적으로 신고되었습니다. 관리자가 검토 후 조치하겠습니다.'
      }

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:393:13)

    console.log
      게시물 ID(1) 신고 시도, 사용자 ID: 1

      at Object.reportPost (controllers/someoneDayController.ts:661:13)

    console.log
      중복 신고 응답: { status: 'error', message: '이미 신고한 게시물입니다.' }

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:412:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      sequelize 연결 종료됨

      at Object.<anonymous> (tests/setup.ts:942:11)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 완료

      at Object.<anonymous> (tests/setup.ts:960:9)

    console.log
      테스트 정리 시작...

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:440:11)

    console.log
      DB 정리 중 오류 발생 (무시됨): Error: ConnectionManager.getConnection was called after the connection manager was closed!
          at ConnectionManager.getConnection (C:\app_build\Iexist\backend\node_modules\sequelize\src\dialects\abstract\connection-manager.js:113:13)
          at C:\app_build\Iexist\backend\node_modules\sequelize\src\sequelize.js:638:111
          at C:\app_build\Iexist\backend\node_modules\retry-as-promised\dist\index.js:59:25
          at new Promise (<anonymous>)
          at retryAsPromised (C:\app_build\Iexist\backend\node_modules\retry-as-promised\dist\index.js:48:12)
          at Sequelize.query (C:\app_build\Iexist\backend\node_modules\sequelize\src\sequelize.js:631:12)
          at Object.<anonymous> (C:\app_build\Iexist\backend\tests\e2e\someoneDay.test.ts:450:28)
          at Promise.then.completed (C:\app_build\Iexist\backend\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\app_build\Iexist\backend\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusHook (C:\app_build\Iexist\backend\node_modules\jest-circus\build\run.js:281:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at async _runTestsForDescribeBlock (C:\app_build\Iexist\backend\node_modules\jest-circus\build\run.js:154:7)
          at async run (C:\app_build\Iexist\backend\node_modules\jest-circus\build\run.js:71:3)
          at async runAndTransformResultsToJestFormat (C:\app_build\Iexist\backend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at async jestAdapter (C:\app_build\Iexist\backend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at async runTestInternal (C:\app_build\Iexist\backend\node_modules\jest-runner\build\runTest.js:367:16)
          at async runTest (C:\app_build\Iexist\backend\node_modules\jest-runner\build\runTest.js:444:34)

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:470:17)

    console.log
      테스트 정리 완료

      at Object.<anonymous> (tests/e2e/someoneDay.test.ts:485:13)

PASS tests/database/concurrency.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 572 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      데이터베이스 연결 성공

      at Object.<anonymous> (tests/database/concurrency.test.ts:33:15)

    console.log
      데이터베이스 스키마 동기화 완료

      at Object.<anonymous> (tests/database/concurrency.test.ts:37:15)

    console.log
      기존 테스트 데이터 삭제 완료

      at Object.<anonymous> (tests/database/concurrency.test.ts:54:15)

    console.log
      테스트 사용자 생성: ID=2

      at Object.<anonymous> (tests/database/concurrency.test.ts:82:15)

    console.log
      테스트 데이터 정리 완료

      at Object.<anonymous> (tests/database/concurrency.test.ts:111:15)

    console.log
      데이터베이스 연결 종료

      at Object.<anonymous> (tests/database/concurrency.test.ts:115:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/models/SomeoneDayPostModel.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 582 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/PostService-Integration.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 564 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      통합 테스트 사용자 생성 완료: ID 1

      at Object.<anonymous> (tests/services/PostService-Integration.test.ts:23:13)

    console.log
      생성된 테스트 게시물 ID: 2

      at Object.<anonymous> (tests/services/PostService-Integration.test.ts:56:17)

    console.log
      404 Not Found: GET /api/my-day/posts/2

      at app.ts:103:11

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      sequelize 연결 종료됨

      at Object.<anonymous> (tests/setup.ts:942:11)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 완료

      at Object.<anonymous> (tests/setup.ts:960:9)

PASS tests/models/SomeoneDayPostModelMock.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 574 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/database/dataIntegrity.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 571 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      참가자 추가 성공

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:404:15)

    console.log
      조회된 참가자 수: 1

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:412:15)

    console.log
      계단식 삭제 테스트 - userId 값 확인: 7 type: number

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:476:13)

    console.log
      생성할 챌린지 데이터: {
        creator_id: 7,
        title: '삭제 테스트 챌린지 1742527929852',
        description: '계단식 삭제 테스트를 위한 챌린지',
        start_date: 2025-03-21T03:32:09.854Z,
        end_date: 2025-03-28T03:32:09.854Z,
        is_public: true,
        participant_count: 0,
        max_participants: 10
      }

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:493:13)

    console.log
      생성된 챌린지: { id: 3, creator_id: 7, title: '삭제 테스트 챌린지 1742527929852' }

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:498:13)

    console.log
      생성된 챌린지 ID: 3

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:506:13)

    console.log
      현재 참가자 수: { count: 0 }

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:554:15)

    console.log
      롤백 후 조회 결과: { count: 0 }

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:591:15)

    console.log
      현재 참가자 수: 0, 최대 참가자 수: 10

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:610:15)

    console.log
      생성된 테스트 사용자 ID: 8

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:641:13)

    console.log
      확인된 사용자: {
        user_id: 7,
        username: 'testuser_integrity_1742527929852',
        email: 'test_integrity_1742527929852@example.com',
        password_hash: 'some_hashed_password',
        nickname: 'Test Integrity User',
        profile_image_url: null,
        background_image_url: null,
        favorite_quote: null,
        theme_preference: 'system',
        privacy_settings: '{}',
        is_active: 1,
        last_login_at: null,
        created_at: 2025-03-21T03:32:09.000Z,
        updated_at: 2025-03-21T03:32:09.000Z,
        notification_settings: '{"like_notifications":true,"comment_notifications":true,"challenge_notifications":true,"encouragement_notifications":true}',
        reset_token: null,
        reset_token_expires: null
      }

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:658:13)

    console.log
      새로 생성된 챌린지 ID: 4

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:673:13)

    console.log
      초기 참가자 수: 0

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:736:15)

    console.log
      업데이트된 참가자 수: 1

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:761:15)

    console.log
      실제 참가자 수: 0

      at Object.<anonymous> (tests/database/dataIntegrity.test.ts:775:17)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/controllers/comfortWallController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 565 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/database/backup-restore.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 597 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      데이터베이스 연결 성공

      at Object.<anonymous> (tests/database/backup-restore.test.ts:35:15)

    console.log
      기존 테스트 데이터 삭제 완료

      at Object.<anonymous> (tests/database/backup-restore.test.ts:57:15)

    console.log
      테스트 사용자 생성: ID=2, 이메일=backup_test@example.com

      at Object.<anonymous> (tests/database/backup-restore.test.ts:74:17)

    console.log
      테스트 후 사용자 삭제 완료: backup_test@example.com

      at Object.<anonymous> (tests/database/backup-restore.test.ts:129:19)

    console.log
      테스트 사용자 생성: ID=4, 이메일=backup_test@example.com

      at Object.<anonymous> (tests/database/backup-restore.test.ts:74:17)

    console.log
      테스트 후 사용자 삭제 완료: backup_test@example.com

      at Object.<anonymous> (tests/database/backup-restore.test.ts:129:19)

    console.log
      백업 및 복원 테스트 완료

      at Object.<anonymous> (tests/database/backup-restore.test.ts:146:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/resilience/networkResilience.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 578 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      테스트 데이터베이스 연결 성공

      at Object.<anonymous> (tests/resilience/networkResilience.test.ts:44:13)

    console.log
      테스트 데이터베이스 연결 종료

      at Object.<anonymous> (tests/resilience/networkResilience.test.ts:51:15)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/resilience/dbResilience.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 550 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      테스트 데이터베이스 연결 성공

      at Object.<anonymous> (tests/resilience/dbResilience.test.ts:37:13)

    console.log
      테스트 데이터베이스 연결 종료

      at Object.<anonymous> (tests/resilience/dbResilience.test.ts:44:15)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/database/error-handling.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 569 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      시도 1: 오류 발생, 재시도 중...

      at executeWithRetry (tests/database/error-handling.test.ts:149:19)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/api-docs.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 582 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.info
      9/9 필수 경로가 문서화되었습니다.

      at Object.<anonymous> (tests/api-docs.test.ts:117:13)

    console.info
      이전 API 명세가 없어 버전 간 호환성 테스트를 스킵합니다.

      at Object.<anonymous> (tests/api-docs.test.ts:124:15)

    console.log
      404 Not Found: GET /api/v1/users/profile

      at app.ts:103:11

    console.log
      404 Not Found: GET /api/v2/users/profile

      at app.ts:103:11

    console.log
      404 Not Found: GET /api/v1/users/profile

      at app.ts:103:11

    console.log
      404 Not Found: GET /api/v2/users/profile

      at app.ts:103:11

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/security/securityMiddleware.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 615 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/challengeIntegration.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 581 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/userService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 551 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/challengeController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 561 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      챌린지 생성 요청: {
        title: '테스트 챌린지',
        start_date: '2025-03-22',
        end_date: '2025-03-29',
        is_public: true,
        user: {
          user_id: 1,
          email: 'test@test.com',
          nickname: 'testuser',
          is_active: true
        }
      }

      at Object.createChallenge (controllers/challengeController.ts:58:13)

    console.log
      챌린지 생성 시작

      at Object.createChallenge (controllers/challengeController.ts:110:13)

    console.log
      챌린지 생성 완료, ID: 1

      at Object.createChallenge (controllers/challengeController.ts:121:13)

    console.log
      챌린지 참가자 등록 시작

      at Object.createChallenge (controllers/challengeController.ts:123:13)

    console.log
      챌린지 참가자 등록 완료

      at Object.createChallenge (controllers/challengeController.ts:129:13)

    console.log
      트랜잭션 커밋 완료

      at Object.createChallenge (controllers/challengeController.ts:131:13)

    console.log
      챌린지 생성 요청: {
        title: '잘못된 날짜 챌린지',
        start_date: '2025-03-22',
        end_date: '2025-03-21',
        is_public: true,
        user: {
          user_id: 1,
          email: 'test@test.com',
          nickname: 'testuser',
          is_active: true
        }
      }

      at Object.createChallenge (controllers/challengeController.ts:58:13)

    console.log
      날짜 검증 실패: 시작일이 종료일보다 늦음

      at Object.createChallenge (controllers/challengeController.ts:92:15)

    console.log
      챌린지 생성 요청: {
        title: '테스트 챌린지',
        start_date: '2025-03-22',
        end_date: '2025-03-29',
        is_public: true,
        user: null
      }

      at Object.createChallenge (controllers/challengeController.ts:58:13)

    console.log
      인증 실패: 사용자 ID 없음

      at Object.createChallenge (controllers/challengeController.ts:70:15)

    console.log
      파라미터 정보: {
        challengeId: 1,
        user_id: 1,
        userType: 'number',
        reqUser: '{"user_id":1,"email":"test@test.com","nickname":"testuser","is_active":true}'
      }

      at Object.participateInChallenge (controllers/challengeController.ts:398:19)

    console.log
      참가자 정보: { maxParticipants: 10, currentParticipants: 5 }

      at Object.participateInChallenge (controllers/challengeController.ts:465:19)

    console.log
      파라미터 정보: {
        challengeId: 1,
        user_id: 1,
        userType: 'number',
        reqUser: '{"user_id":1,"email":"test@test.com","nickname":"testuser","is_active":true}'
      }

      at Object.participateInChallenge (controllers/challengeController.ts:398:19)

    console.log
      진행 상황 업데이트 요청 데이터: {
        body: { emotion_id: 1, progress_note: '오늘의 기록' },
        params: { id: '1' },
        user: {
          user_id: 1,
          email: 'test@test.com',
          nickname: 'testuser',
          is_active: true
        }
      }

      at Object.updateChallengeProgress (controllers/challengeController.ts:510:17)

    console.log
      진행 상황 업데이트 요청 데이터: {
        body: { emotion_id: 1, progress_note: '오늘의 기록' },
        params: { id: '1' },
        user: {
          user_id: 1,
          email: 'test@test.com',
          nickname: 'testuser',
          is_active: true
        }
      }

      at Object.updateChallengeProgress (controllers/challengeController.ts:510:17)

    console.log
      진행 상황 업데이트 요청 데이터: {
        body: { emotion_id: 1, progress_note: '오늘의 기록' },
        params: { id: '1' },
        user: {
          user_id: 1,
          email: 'test@test.com',
          nickname: 'testuser',
          is_active: true
        }
      }

      at Object.updateChallengeProgress (controllers/challengeController.ts:510:17)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/e2e/stats.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 566 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 감정 데이터 12개 사용

      at initializeEmotions (tests/e2e/stats.test.ts:36:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 토큰: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpYXQiOjE3NDI1Mjc5NDEsImV4cCI6MTc0MjUzMTU0MX0.ZzuWaHFCBI4YwmpnPSR-X8SVbddImH0RfBe05rVx-4g

      at Object.<anonymous> (tests/e2e/stats.test.ts:110:15)

    console.log
      감정 로그 생성 시작 - 행복 감정

      at createTestEmotionLogs (tests/e2e/stats.test.ts:53:13)

    console.log
      감정 로그 생성 - 감사 감정

      at createTestEmotionLogs (tests/e2e/stats.test.ts:62:13)

    console.log
      감정 로그 생성 - 슬픔 감정

      at createTestEmotionLogs (tests/e2e/stats.test.ts:71:13)

    console.log
      감정 로그 생성 - 감동 감정

      at createTestEmotionLogs (tests/e2e/stats.test.ts:80:13)

    console.log
      감정 로그 생성 완료

      at createTestEmotionLogs (tests/e2e/stats.test.ts:89:13)

    console.log
      / 경로 응답: 200 { status: 'success', message: 'Iexist API Server is running' }

      at Object.<anonymous> (tests/e2e/stats.test.ts:163:15)

    console.log
      /api 경로 응답: 200 { status: 'success', message: 'API is running', version: '1.0.0' }

      at Object.<anonymous> (tests/e2e/stats.test.ts:168:15)

    console.log
      /api/stats 경로 응답: 401 { status: 'error', message: '인증이 필요합니다.' }

      at Object.<anonymous> (tests/e2e/stats.test.ts:173:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/tag.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 553 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성: 1

      at Object.<anonymous> (tests/integration/tag.test.ts:19:15)

    console.log
      로그인 상태 확인 - 응답 코드: 404

      at Object.<anonymous> (tests/integration/tag.test.ts:34:17)

    console.log
      로그인 상태 확인 완료

      at Object.<anonymous> (tests/integration/tag.test.ts:38:17)

    console.log
      태그 라우트 응답 코드: 200

      at Object.<anonymous> (tests/integration/tag.test.ts:54:17)

    console.log
      태그 생성 응답: 201

      at Object.<anonymous> (tests/integration/tag.test.ts:77:17)

    console.log
      {
        status: 'success',
        message: '태그가 성공적으로 생성되었습니다.',
        data: {
          tag_id: 1,
          name: '통합테스트태그',
          updatedAt: '2025-03-21T03:32:22.226Z',
          createdAt: '2025-03-21T03:32:22.226Z'
        }
      }

      at Object.<anonymous> (tests/integration/tag.test.ts:78:17)

    console.log
      태그 목록 조회 응답: 200

      at Object.<anonymous> (tests/integration/tag.test.ts:105:17)

    console.log
      태그 검색 응답: 200

      at Object.<anonymous> (tests/integration/tag.test.ts:128:17)

    console.log
      인기 태그 조회 응답: 200

      at Object.<anonymous> (tests/integration/tag.test.ts:149:17)

    console.log
      게시물 생성 시 사용자 ID 확인: 1

      at Object.<anonymous> (tests/integration/tag.test.ts:171:17)

    console.log
      게시물 생성은 테스트 환경에서 실패 가능성이 있으므로 모의 테스트로 진행합니다.

      at Object.<anonymous> (tests/integration/tag.test.ts:175:17)

    console.log
      태그 연결 테스트 시작 (모의 데이터 사용)

      at Object.<anonymous> (tests/integration/tag.test.ts:181:17)

    console.log
      태그 연결 성공 (모의 테스트)

      at Object.<anonymous> (tests/integration/tag.test.ts:184:17)

    console.log
      모의 태그 생성 테스트 완료

      at Object.<anonymous> (tests/integration/tag.test.ts:199:15)

    console.log
      모의 태그 조회 테스트 완료

      at Object.<anonymous> (tests/integration/tag.test.ts:204:15)

    console.log
      모의 태그 검색 테스트 완료

      at Object.<anonymous> (tests/integration/tag.test.ts:209:15)

    console.log
      모의 태그 업데이트 테스트 완료

      at Object.<anonymous> (tests/integration/tag.test.ts:214:15)

    console.log
      모의 태그 삭제 테스트 완료

      at Object.<anonymous> (tests/integration/tag.test.ts:219:15)

    console.log
      모의 게시물-태그 연결 테스트 완료

      at Object.<anonymous> (tests/integration/tag.test.ts:224:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/comfortWall.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 584 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/api/apiVersioning.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      현재 NODE_ENV: test

      at Object.<anonymous> (server.ts:22:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 564 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 데이터베이스 연결 확인 성공

      at startServer (server.ts:137:15)

    console.log
      서버가 포트 5017에서 실행중입니다

      at Server.<anonymous> (server.ts:149:17)

    console.log
      버전 헤더 지원 안됨 - 정상적인 동작

      at Object.<anonymous> (tests/api/apiVersioning.test.ts:45:15)

    console.log
      keepAlive 인터벌 정리 완료

      at stopServer (server.ts:169:15)

    console.log
      서버 인스턴스 정상 종료

      at Server.<anonymous> (server.ts:187:21)

    console.log
      시퀄라이즈 연결 정상 종료

      at stopServer (server.ts:201:15)

    console.log
      서버와 데이터베이스 연결이 정상적으로 종료되었습니다.

      at stopServer (server.ts:207:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/jest.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 556 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/roleBasedAccess.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 588 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 9001 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      테스트 환경에서 프로필 조회: { user_id: 9002 }

      at getProfile (controllers/userController.ts:592:15)

    console.log
      차단 요청 응답: 404 { status: 'error', message: '차단할 사용자를 찾을 수 없습니다.' }

      at Object.<anonymous> (tests/integration/roleBasedAccess.test.ts:147:15)

    console.log
      차단 해제 응답: 404 { status: 'error', message: '차단하지 않은 사용자입니다.' }

      at Object.<anonymous> (tests/integration/roleBasedAccess.test.ts:157:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/services/EmotionPostIntegration.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 639 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      현재 환경: test

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:19:13)

    console.log
      테스트 사용자 ID: 2

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:40:13)

    console.log
      생성된 감정 ID: [ 13, 14 ]

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:49:13)

    console.log
      UserStats 생성 완료

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:63:13)

    console.log
      게시물 생성 시도

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:105:15)

    console.log
      게시물 생성 성공, ID: 2

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:116:15)

    console.log
      감정 연결 성공

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:133:15)

    console.log
      감정 로그 확인 완료

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:181:15)

    console.log
      테스트 데이터 정리 시작

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:69:15)

    console.log
      테스트 데이터 정리 완료

      at Object.<anonymous> (tests/integration/services/EmotionPostIntegration.test.ts:79:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/services/ChallengeEmotionIntegration.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 570 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/myDay.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 577 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/challengeScenario.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 566 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      테스트 준비 시작...

      at Object.<anonymous> (tests/services/challengeScenario.test.ts:16:15)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료: 1

      at Object.<anonymous> (tests/services/challengeScenario.test.ts:20:15)

    console.log
      모킹 설정 완료

      at Object.<anonymous> (tests/services/challengeScenario.test.ts:116:15)

    console.log
      첫 번째 감정 ID: 1

      at Object.<anonymous> (tests/services/challengeScenario.test.ts:136:13)

    console.log
      모킹된 테스트 완료

      at Object.<anonymous> (tests/services/challengeScenario.test.ts:293:13)

    console.log
      테스트 정리 중...

      at Object.<anonymous> (tests/services/challengeScenario.test.ts:298:15)

    console.log
      테스트 정리 완료

      at Object.<anonymous> (tests/services/challengeScenario.test.ts:301:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/loggingMiddleware.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 595 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/security/tokenSecurity.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 592 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/userBlock.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 584 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/controllers/statsController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 553 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/rateLimit.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 579 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/services/UserNotificationIntegration.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 561 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/security.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 582 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/csrf.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 579 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/EmotionService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 570 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 ID: 1

      at Object.<anonymous> (tests/services/EmotionService.test.ts:83:15)

    console.log
      사용할 감정 데이터: [ { id: 1, name: '행복' }, { id: 2, name: '감사' } ]

      at Object.<anonymous> (tests/services/EmotionService.test.ts:128:13)

    console.log
      생성할 감정 데이터: { emotion_ids: [ 1, 2 ], note: '테스트 감정' }

      at Object.<anonymous> (tests/services/EmotionService.test.ts:139:13)

    console.log
      createEmotion 결과: {
        status: 'success',
        message: '감정이 성공적으로 기록되었습니다.',
        data: [
          EmotionLog {
            dataValues: [Object],
            _previousDataValues: [Object],
            uniqno: 1,
            _changed: Set(0) {},
            _options: [Object],
            isNewRecord: false
          },
          EmotionLog {
            dataValues: [Object],
            _previousDataValues: [Object],
            uniqno: 1,
            _changed: Set(0) {},
            _options: [Object],
            isNewRecord: false
          }
        ]
      }

      at Object.<anonymous> (tests/services/EmotionService.test.ts:146:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/controllers/someoneDayController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 578 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      게시물 ID(2) 신고 시도, 사용자 ID: 1

      at Object.reportPost (controllers/someoneDayController.ts:661:13)

    console.log
      게시물 ID(1) 신고 시도, 사용자 ID: 1

      at Object.reportPost (controllers/someoneDayController.ts:661:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/database/complex-transaction.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 570 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/models/UserModel.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 584 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/globalErrorHandling.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 580 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/postController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 578 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/sample.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 569 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/xss.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 606 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      응답 헤더: [
        'x-powered-by',
        'content-type',
        'content-length',
        'etag',
        'date',
        'connection'
      ]

      at Object.<anonymous> (tests/xss.test.ts:69:15)

    console.log
      속도 제한 설정: [ 'resetKey', 'getKey' ]

      at Object.<anonymous> (tests/xss.test.ts:80:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/validationMiddleware.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 604 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/models/MyDayPostModel.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 586 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/models/SomeoneDayPostFields.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 597 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      SomeoneDayPost 모델 필드: [
        'post_id',
        'user_id',
        'title',
        'content',
        'summary',
        'image_url',
        'is_anonymous',
        'character_count',
        'like_count',
        'comment_count',
        'created_at',
        'updated_at'
      ]

      at Object.<anonymous> (tests/models/SomeoneDayPostFields.test.ts:34:13)

    console.log
      필수 필드 데이터: {
        user_id: 1,
        title: '필수 필드 테스트',
        content: '최소한의 필수 필드만 포함된 게시물 테스트입니다. 20자 이상 작성해야 합니다.',
        is_anonymous: false,
        like_count: 0,
        comment_count: 0
      }

      at Object.<anonymous> (tests/models/SomeoneDayPostFields.test.ts:62:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/SomeoneDayService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 596 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      게시물 ID(1) 신고 시도, 사용자 ID: 1

      at Object.reportPost (controllers/someoneDayController.ts:661:13)

    console.log
      게시물 ID(1) 신고 시도, 사용자 ID: 1

      at Object.reportPost (controllers/someoneDayController.ts:661:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/config.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 589 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/database/transaction.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 583 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/stats.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 558 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/performance/performance-monitoring.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 601 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      성능 측정 결과가 저장되었습니다: C:\app_build\Iexist\backend\performance-results\performance-2025-03-21T03-32-54-706Z.json

      at saveResults (tests/performance/performance-monitoring.test.ts:44:13)

    console.log
      성능 분석 결과가 저장되었습니다: C:\app_build\Iexist\backend\performance-results\analysis-2025-03-21T03-32-54-706Z.json

      at saveResults (tests/performance/performance-monitoring.test.ts:50:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/NotificationService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 609 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/tag.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 622 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/comment.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 635 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/emailService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 706 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/controllers/challengeController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 628 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      기존 테스트 사용자 재사용: 1

      at createTestUser (tests/setup.ts:714:9)

    console.log
      테스트 사용자 생성 완료: { user1: 1, user2: 1 }

      at Object.<anonymous> (tests/controllers/challengeController.test.ts:26:15)

    console.log
      DB에 생성된 챌린지 ID: 2

      at Object.<anonymous> (tests/controllers/challengeController.test.ts:60:13)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/fileUpload.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 587 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      파일 업로드 테스트 스킵됨

      at Object.<anonymous> (tests/integration/fileUpload.test.ts:80:15)

    console.log
      파일 형식 테스트 스킵됨

      at Object.<anonymous> (tests/integration/fileUpload.test.ts:111:15)

    console.log
      프로필 이미지 업로드 테스트 스킵됨

      at Object.<anonymous> (tests/integration/fileUpload.test.ts:142:15)

    console.log
      파일 크기 제한 테스트 스킵됨

      at Object.<anonymous> (tests/integration/fileUpload.test.ts:174:15)

    console.log
      여러 파일 업로드 테스트 스킵됨

      at Object.<anonymous> (tests/integration/fileUpload.test.ts:206:15)

    console.log
      다양한 이미지 확장자 테스트 스킵됨

      at Object.<anonymous> (tests/integration/fileUpload.test.ts:242:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/utils.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 585 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/unit/errorMiddleware.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 575 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/middleware/validationMiddleware.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 594 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/models/EmotionModel.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 568 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/users.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 612 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/emotions.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 611 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/notifications.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 596 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/staging/staging-verification.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 599 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      스테이징 토큰이 없어 테스트를 건너뜁니다.

      at Object.<anonymous> (tests/staging/staging-verification.test.ts:42:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/someoneDay.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 592 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/services/StatsService.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 600 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/controllers/notificationController.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 588 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/integration/challenges.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 598 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/loggingMonitoring.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 614 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/database/connection.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 585 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      데이터베이스 연결 성공

      at Database.testConnection (models/index.ts:139:15)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      단위 테스트 - DB 연결 종료 생략

      at Object.<anonymous> (tests/setup.ts:934:9)

PASS tests/middleware/authMiddleware.test.ts
  ● Console

    console.log
      Sequelize 설정: { NODE_ENV: 'test', database: 'iexist_test', host: 'localhost' }

      at Object.<anonymous> (models/index.ts:195:9)

    console.log
      데이터베이스 초기화 시작...

      at setupDatabase (tests/setup.ts:471:13)

    console.log
      데이터베이스 연결 성공

      at checkDatabaseConnection (tests/setup.ts:414:12)

    console.log
      테이블 생성 시작...

      at setupDatabase (tests/setup.ts:484:13)

    console.log
      감정 데이터 초기화 완료

      at initializeEmotions (tests/setup.ts:564:13)

    console.log
      데이터베이스 초기화 완료

      at setupDatabase (tests/setup.ts:512:13)

    console.log
      외래 키 무결성 검사 및 복구 시작

      at validateAndRepairForeignKeys (tests/setup.ts:523:13)

    console.log
      외래 키 무결성 검사 및 복구 완료

      at validateAndRepairForeignKeys (tests/setup.ts:531:13)

    console.log
      새 테스트 사용자 생성 시작

      at createTestUser (tests/setup.ts:718:9)

    console.log
      생성된 테스트 사용자 ID: 1

      at createTestUser (tests/setup.ts:747:9)

    console.log
      JWT 토큰 생성을 위한 사용자 ID: 1

      at createTestUser (tests/setup.ts:789:9)

    console.time
      데이터베이스 초기화: 574 ms

      at Object.<anonymous> (tests/setup.ts:874:9)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 시작...

      at Object.<anonymous> (tests/setup.ts:913:9)

    console.log
      sequelize 연결 종료됨

      at Object.<anonymous> (tests/setup.ts:942:11)

    console.log
      DB 연결 종료 및 서버 인스턴스 정리 완료

      at Object.<anonymous> (tests/setup.ts:960:9)


Test Suites: 101 passed, 101 total
Tests:       4 skipped, 815 passed, 819 total
Snapshots:   0 total
Time:        230.567 s
Ran all test suites.
