{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_NotificationContext","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","NotificationBadge","_ref","style","_ref$showZero","showZero","_ref$maxCount","maxCount","_useNotification","useNotification","unreadCount","scaleAnim","React","useRef","Animated","Value","current","useEffect","sequence","timing","toValue","duration","useNativeDriver","start","setValue","displayCount","toString","jsx","View","styles","badge","transform","scale","wideBadge","extraWideBadge","children","Text","count","StyleSheet","create","minWidth","height","borderRadius","backgroundColor","justifyContent","alignItems","paddingHorizontal","color","fontSize","fontWeight","textAlign","_default","exports"],"sources":["NotificationBadge.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { View, Text, StyleSheet, Animated } from 'react-native';\r\nimport { useNotification } from '../contexts/NotificationContext';\r\n\r\ninterface NotificationBadgeProps {\r\n  style?: object;\r\n  showZero?: boolean;\r\n  maxCount?: number;\r\n}\r\n\r\nconst NotificationBadge: React.FC<NotificationBadgeProps> = ({ \r\n  style,\r\n  showZero = false,\r\n  maxCount = 99\r\n}) => {\r\n  const { unreadCount } = useNotification();\r\n  const scaleAnim = React.useRef(new Animated.Value(0)).current;\r\n  \r\n  // 카운트가 변경될 때 애니메이션 효과\r\n  useEffect(() => {\r\n    if (unreadCount > 0 || showZero) {\r\n      Animated.sequence([\r\n        Animated.timing(scaleAnim, {\r\n          toValue: 1.2,\r\n          duration: 200,\r\n          useNativeDriver: true\r\n        }),\r\n        Animated.timing(scaleAnim, {\r\n          toValue: 1,\r\n          duration: 100,\r\n          useNativeDriver: true\r\n        })\r\n      ]).start();\r\n    } else {\r\n      scaleAnim.setValue(0);\r\n    }\r\n  }, [unreadCount, showZero, scaleAnim]);\r\n  \r\n  // 표시할 카운트 계산 (maxCount 초과 시 \"+\")\r\n  const displayCount = unreadCount > maxCount ? `${maxCount}+` : unreadCount.toString();\r\n  \r\n  // 카운트가 0이고 showZero가 false이면 렌더링하지 않음\r\n  if (unreadCount === 0 && !showZero) {\r\n    return null;\r\n  }\r\n  \r\n  return (\r\n    <Animated.View \r\n      style={[\r\n        styles.badge,\r\n        style,\r\n        { transform: [{ scale: scaleAnim }] },\r\n        unreadCount > 9 && styles.wideBadge,\r\n        unreadCount > 99 && styles.extraWideBadge\r\n      ]}\r\n    >\r\n      <Text style={styles.count}>{displayCount}</Text>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  badge: {\r\n    minWidth: 18,\r\n    height: 18,\r\n    borderRadius: 9,\r\n    backgroundColor: '#FF3B30',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 4\r\n  },\r\n  wideBadge: {\r\n    minWidth: 22,\r\n    borderRadius: 11\r\n  },\r\n  extraWideBadge: {\r\n    minWidth: 28\r\n  },\r\n  count: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center'\r\n  }\r\n});\r\n\r\nexport default NotificationBadge;"],"mappings":"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","ignoreList":[]}