eb6bb41df11e7710be79c9648bf915b2
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["wrapper", "concurrentRoot", "unstable_validateStringsRenderedWithinText"],
  _excluded2 = ["wrapper"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = render;
exports.renderInternal = renderInternal;
var React = _interopRequireWildcard(require("react"));
var _act = _interopRequireDefault(require("./act"));
var _cleanup = require("./cleanup");
var _config = require("./config");
var _componentTree = require("./helpers/component-tree");
var _debug = require("./helpers/debug");
var _stringValidation = require("./helpers/string-validation");
var _renderAct = require("./render-act");
var _screen = require("./screen");
var _within = require("./within");
function _interopRequireDefault(e) {
  return e && e.__esModule ? e : {
    default: e
  };
}
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != typeof e && "function" != typeof e) return {
    default: e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n.default = e, t && t.set(e, n), n;
}
function render(component) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return renderInternal(component, options);
}
function renderInternal(component, options) {
  var _ref = options || {},
    Wrapper = _ref.wrapper,
    concurrentRoot = _ref.concurrentRoot,
    unstable_validateStringsRenderedWithinText = _ref.unstable_validateStringsRenderedWithinText,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var testRendererOptions = Object.assign({}, rest, {
    unstable_isConcurrent: concurrentRoot != null ? concurrentRoot : (0, _config.getConfig)().concurrentRoot
  });
  if (unstable_validateStringsRenderedWithinText) {
    return renderWithStringValidation(component, Object.assign({
      wrapper: Wrapper
    }, testRendererOptions));
  }
  var wrap = function wrap(element) {
    return Wrapper ? React.createElement(Wrapper, null, element) : element;
  };
  var renderer = (0, _renderAct.renderWithAct)(wrap(component), testRendererOptions);
  return buildRenderResult(renderer, wrap);
}
function renderWithStringValidation(component) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var _ref2 = options != null ? options : {},
    Wrapper = _ref2.wrapper,
    testRendererOptions = (0, _objectWithoutProperties2.default)(_ref2, _excluded2);
  var wrap = function wrap(element) {
    return React.createElement(React.Profiler, {
      id: "renderProfiler",
      onRender: handleRender
    }, Wrapper ? React.createElement(Wrapper, null, element) : element);
  };
  var handleRender = function handleRender(_, phase) {
    if (renderer && phase === 'update') {
      (0, _stringValidation.validateStringsRenderedWithinText)(renderer.toJSON());
    }
  };
  var renderer = (0, _renderAct.renderWithAct)(wrap(component), testRendererOptions);
  (0, _stringValidation.validateStringsRenderedWithinText)(renderer.toJSON());
  return buildRenderResult(renderer, wrap);
}
function buildRenderResult(renderer, wrap) {
  var update = updateWithAct(renderer, wrap);
  var instance = renderer.root;
  var unmount = function unmount() {
    void (0, _act.default)(function () {
      renderer.unmount();
    });
  };
  (0, _cleanup.addToCleanupQueue)(unmount);
  var result = Object.assign({}, (0, _within.getQueriesForElement)(instance), {
    update: update,
    unmount: unmount,
    rerender: update,
    toJSON: renderer.toJSON,
    debug: makeDebug(renderer),
    get root() {
      return (0, _componentTree.getHostSelves)(instance)[0];
    },
    UNSAFE_root: instance
  });
  Object.defineProperty(result, 'container', {
    enumerable: false,
    get: function get() {
      throw new Error("'container' property has been renamed to 'UNSAFE_root'.\n\n" + "Consider using 'root' property which returns root host element.");
    }
  });
  (0, _screen.setRenderResult)(result);
  return result;
}
function updateWithAct(renderer, wrap) {
  return function (component) {
    void (0, _act.default)(function () {
      renderer.update(wrap(component));
    });
  };
}
function makeDebug(renderer) {
  function debugImpl(options) {
    var _ref3 = (0, _config.getConfig)(),
      defaultDebugOptions = _ref3.defaultDebugOptions;
    var debugOptions = Object.assign({}, defaultDebugOptions, options);
    var json = renderer.toJSON();
    if (json) {
      return (0, _debug.debug)(json, debugOptions);
    }
  }
  return debugImpl;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9hY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NsZWFudXAiLCJfY29uZmlnIiwiX2NvbXBvbmVudFRyZWUiLCJfZGVidWciLCJfc3RyaW5nVmFsaWRhdGlvbiIsIl9yZW5kZXJBY3QiLCJfc2NyZWVuIiwiX3dpdGhpbiIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIldlYWtNYXAiLCJyIiwidCIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsInJlbmRlciIsImNvbXBvbmVudCIsIm9wdGlvbnMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZW5kZXJJbnRlcm5hbCIsIl9yZWYiLCJXcmFwcGVyIiwid3JhcHBlciIsImNvbmN1cnJlbnRSb290IiwidW5zdGFibGVfdmFsaWRhdGVTdHJpbmdzUmVuZGVyZWRXaXRoaW5UZXh0IiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfZXhjbHVkZWQiLCJ0ZXN0UmVuZGVyZXJPcHRpb25zIiwiYXNzaWduIiwidW5zdGFibGVfaXNDb25jdXJyZW50IiwiZ2V0Q29uZmlnIiwicmVuZGVyV2l0aFN0cmluZ1ZhbGlkYXRpb24iLCJ3cmFwIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJyZW5kZXJlciIsInJlbmRlcldpdGhBY3QiLCJidWlsZFJlbmRlclJlc3VsdCIsIl9yZWYyIiwiX2V4Y2x1ZGVkMiIsIlByb2ZpbGVyIiwiaWQiLCJvblJlbmRlciIsImhhbmRsZVJlbmRlciIsIl8iLCJwaGFzZSIsInZhbGlkYXRlU3RyaW5nc1JlbmRlcmVkV2l0aGluVGV4dCIsInRvSlNPTiIsInVwZGF0ZSIsInVwZGF0ZVdpdGhBY3QiLCJpbnN0YW5jZSIsInJvb3QiLCJ1bm1vdW50IiwiYWRkVG9DbGVhbnVwUXVldWUiLCJyZXN1bHQiLCJnZXRRdWVyaWVzRm9yRWxlbWVudCIsInJlcmVuZGVyIiwiZGVidWciLCJtYWtlRGVidWciLCJnZXRIb3N0U2VsdmVzIiwiVU5TQUZFX3Jvb3QiLCJlbnVtZXJhYmxlIiwiRXJyb3IiLCJzZXRSZW5kZXJSZXN1bHQiLCJkZWJ1Z0ltcGwiLCJfcmVmMyIsImRlZmF1bHREZWJ1Z09wdGlvbnMiLCJkZWJ1Z09wdGlvbnMiLCJqc29uIl0sInNvdXJjZXMiOlsiLi4vc3JjL3JlbmRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUge1xuICBSZWFjdFRlc3RJbnN0YW5jZSxcbiAgUmVhY3RUZXN0UmVuZGVyZXIsXG4gIFRlc3RSZW5kZXJlck9wdGlvbnMsXG59IGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXInO1xuXG5pbXBvcnQgYWN0IGZyb20gJy4vYWN0JztcbmltcG9ydCB7IGFkZFRvQ2xlYW51cFF1ZXVlIH0gZnJvbSAnLi9jbGVhbnVwJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGdldEhvc3RTZWx2ZXMgfSBmcm9tICcuL2hlbHBlcnMvY29tcG9uZW50LXRyZWUnO1xuaW1wb3J0IHR5cGUgeyBEZWJ1Z09wdGlvbnMgfSBmcm9tICcuL2hlbHBlcnMvZGVidWcnO1xuaW1wb3J0IHsgZGVidWcgfSBmcm9tICcuL2hlbHBlcnMvZGVidWcnO1xuaW1wb3J0IHsgdmFsaWRhdGVTdHJpbmdzUmVuZGVyZWRXaXRoaW5UZXh0IH0gZnJvbSAnLi9oZWxwZXJzL3N0cmluZy12YWxpZGF0aW9uJztcbmltcG9ydCB7IHJlbmRlcldpdGhBY3QgfSBmcm9tICcuL3JlbmRlci1hY3QnO1xuaW1wb3J0IHsgc2V0UmVuZGVyUmVzdWx0IH0gZnJvbSAnLi9zY3JlZW4nO1xuaW1wb3J0IHsgZ2V0UXVlcmllc0ZvckVsZW1lbnQgfSBmcm9tICcuL3dpdGhpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBQYXNzIGEgUmVhY3QgQ29tcG9uZW50IGFzIHRoZSB3cmFwcGVyIG9wdGlvbiB0byBoYXZlIGl0IHJlbmRlcmVkIGFyb3VuZCB0aGUgaW5uZXIgZWxlbWVudC4gVGhpcyBpcyBtb3N0IHVzZWZ1bCBmb3IgY3JlYXRpbmdcbiAgICogcmV1c2FibGUgY3VzdG9tIHJlbmRlciBmdW5jdGlvbnMgZm9yIGNvbW1vbiBkYXRhIHByb3ZpZGVycy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHdyYXBwZXI/OiBSZWFjdC5Db21wb25lbnRUeXBlPGFueT47XG5cbiAgLyoqXG4gICAqIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUgY29uY3VycmVudCByZW5kZXJpbmcuXG4gICAqIE90aGVyd2lzZSBgcmVuZGVyYCB3aWxsIGRlZmF1bHQgdG8gY29uY3VycmVudCByZW5kZXJpbmcuXG4gICAqL1xuICBjb25jdXJyZW50Um9vdD86IGJvb2xlYW47XG5cbiAgY3JlYXRlTm9kZU1vY2s/OiAoZWxlbWVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiB1bmtub3duO1xuICB1bnN0YWJsZV92YWxpZGF0ZVN0cmluZ3NSZW5kZXJlZFdpdGhpblRleHQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBSZW5kZXJSZXN1bHQgPSBSZXR1cm5UeXBlPHR5cGVvZiByZW5kZXI+O1xuXG4vKipcbiAqIFJlbmRlcnMgdGVzdCBjb21wb25lbnQgZGVlcGx5IHVzaW5nIFJlYWN0IFRlc3QgUmVuZGVyZXIgYW5kIGV4cG9zZXMgaGVscGVyc1xuICogdG8gYXNzZXJ0IG9uIHRoZSBvdXRwdXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbmRlcjxUPihjb21wb25lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudDxUPiwgb3B0aW9uczogUmVuZGVyT3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiByZW5kZXJJbnRlcm5hbChjb21wb25lbnQsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySW50ZXJuYWw8VD4oY29tcG9uZW50OiBSZWFjdC5SZWFjdEVsZW1lbnQ8VD4sIG9wdGlvbnM/OiBSZW5kZXJPcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyOiBXcmFwcGVyLFxuICAgIGNvbmN1cnJlbnRSb290LFxuICAgIHVuc3RhYmxlX3ZhbGlkYXRlU3RyaW5nc1JlbmRlcmVkV2l0aGluVGV4dCxcbiAgICAuLi5yZXN0XG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gIGNvbnN0IHRlc3RSZW5kZXJlck9wdGlvbnM6IFRlc3RSZW5kZXJlck9wdGlvbnMgPSB7XG4gICAgLi4ucmVzdCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGluY29tcGxldGUgdHlwaW5nIG9uIFJUUiBwYWNrYWdlXG4gICAgdW5zdGFibGVfaXNDb25jdXJyZW50OiBjb25jdXJyZW50Um9vdCA/PyBnZXRDb25maWcoKS5jb25jdXJyZW50Um9vdCxcbiAgfTtcblxuICBpZiAodW5zdGFibGVfdmFsaWRhdGVTdHJpbmdzUmVuZGVyZWRXaXRoaW5UZXh0KSB7XG4gICAgcmV0dXJuIHJlbmRlcldpdGhTdHJpbmdWYWxpZGF0aW9uKGNvbXBvbmVudCwge1xuICAgICAgd3JhcHBlcjogV3JhcHBlcixcbiAgICAgIC4uLnRlc3RSZW5kZXJlck9wdGlvbnMsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB3cmFwID0gKGVsZW1lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCkgPT4gKFdyYXBwZXIgPyA8V3JhcHBlcj57ZWxlbWVudH08L1dyYXBwZXI+IDogZWxlbWVudCk7XG4gIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVyV2l0aEFjdCh3cmFwKGNvbXBvbmVudCksIHRlc3RSZW5kZXJlck9wdGlvbnMpO1xuICByZXR1cm4gYnVpbGRSZW5kZXJSZXN1bHQocmVuZGVyZXIsIHdyYXApO1xufVxuXG5mdW5jdGlvbiByZW5kZXJXaXRoU3RyaW5nVmFsaWRhdGlvbjxUPihcbiAgY29tcG9uZW50OiBSZWFjdC5SZWFjdEVsZW1lbnQ8VD4sXG4gIG9wdGlvbnM6IE9taXQ8UmVuZGVyT3B0aW9ucywgJ3Vuc3RhYmxlX3ZhbGlkYXRlU3RyaW5nc1JlbmRlcmVkV2l0aGluVGV4dCc+ID0ge30sXG4pIHtcbiAgY29uc3QgeyB3cmFwcGVyOiBXcmFwcGVyLCAuLi50ZXN0UmVuZGVyZXJPcHRpb25zIH0gPSBvcHRpb25zID8/IHt9O1xuXG4gIGNvbnN0IHdyYXAgPSAoZWxlbWVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiAoXG4gICAgPFJlYWN0LlByb2ZpbGVyIGlkPVwicmVuZGVyUHJvZmlsZXJcIiBvblJlbmRlcj17aGFuZGxlUmVuZGVyfT5cbiAgICAgIHtXcmFwcGVyID8gPFdyYXBwZXI+e2VsZW1lbnR9PC9XcmFwcGVyPiA6IGVsZW1lbnR9XG4gICAgPC9SZWFjdC5Qcm9maWxlcj5cbiAgKTtcblxuICBjb25zdCBoYW5kbGVSZW5kZXI6IFJlYWN0LlByb2ZpbGVyT25SZW5kZXJDYWxsYmFjayA9IChfLCBwaGFzZSkgPT4ge1xuICAgIGlmIChyZW5kZXJlciAmJiBwaGFzZSA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgIHZhbGlkYXRlU3RyaW5nc1JlbmRlcmVkV2l0aGluVGV4dChyZW5kZXJlci50b0pTT04oKSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbmRlcmVyOiBSZWFjdFRlc3RSZW5kZXJlciA9IHJlbmRlcldpdGhBY3Qod3JhcChjb21wb25lbnQpLCB0ZXN0UmVuZGVyZXJPcHRpb25zKTtcbiAgdmFsaWRhdGVTdHJpbmdzUmVuZGVyZWRXaXRoaW5UZXh0KHJlbmRlcmVyLnRvSlNPTigpKTtcblxuICByZXR1cm4gYnVpbGRSZW5kZXJSZXN1bHQocmVuZGVyZXIsIHdyYXApO1xufVxuXG5mdW5jdGlvbiBidWlsZFJlbmRlclJlc3VsdChcbiAgcmVuZGVyZXI6IFJlYWN0VGVzdFJlbmRlcmVyLFxuICB3cmFwOiAoZWxlbWVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiBSZWFjdC5KU1guRWxlbWVudCxcbikge1xuICBjb25zdCB1cGRhdGUgPSB1cGRhdGVXaXRoQWN0KHJlbmRlcmVyLCB3cmFwKTtcbiAgY29uc3QgaW5zdGFuY2UgPSByZW5kZXJlci5yb290O1xuXG4gIGNvbnN0IHVubW91bnQgPSAoKSA9PiB7XG4gICAgdm9pZCBhY3QoKCkgPT4ge1xuICAgICAgcmVuZGVyZXIudW5tb3VudCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGFkZFRvQ2xlYW51cFF1ZXVlKHVubW91bnQpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAuLi5nZXRRdWVyaWVzRm9yRWxlbWVudChpbnN0YW5jZSksXG4gICAgdXBkYXRlLFxuICAgIHVubW91bnQsXG4gICAgcmVyZW5kZXI6IHVwZGF0ZSwgLy8gYWxpYXMgZm9yIGB1cGRhdGVgXG4gICAgdG9KU09OOiByZW5kZXJlci50b0pTT04sXG4gICAgZGVidWc6IG1ha2VEZWJ1ZyhyZW5kZXJlciksXG4gICAgZ2V0IHJvb3QoKTogUmVhY3RUZXN0SW5zdGFuY2Uge1xuICAgICAgcmV0dXJuIGdldEhvc3RTZWx2ZXMoaW5zdGFuY2UpWzBdO1xuICAgIH0sXG4gICAgVU5TQUZFX3Jvb3Q6IGluc3RhbmNlLFxuICB9O1xuXG4gIC8vIEFkZCBhcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSwgc28gdGhhdCBpdCdzIHNhZmUgdG8gZW51bWVyYXRlXG4gIC8vIGByZW5kZXJgIHJlc3VsdCwgZS5nLiB1c2luZyBkZXN0cnVjdHVyaW5nIHJlc3Qgc3ludGF4LlxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCAnY29udGFpbmVyJywge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCInY29udGFpbmVyJyBwcm9wZXJ0eSBoYXMgYmVlbiByZW5hbWVkIHRvICdVTlNBRkVfcm9vdCcuXFxuXFxuXCIgK1xuICAgICAgICAgIFwiQ29uc2lkZXIgdXNpbmcgJ3Jvb3QnIHByb3BlcnR5IHdoaWNoIHJldHVybnMgcm9vdCBob3N0IGVsZW1lbnQuXCIsXG4gICAgICApO1xuICAgIH0sXG4gIH0pO1xuXG4gIHNldFJlbmRlclJlc3VsdChyZXN1bHQpO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVdpdGhBY3QoXG4gIHJlbmRlcmVyOiBSZWFjdFRlc3RSZW5kZXJlcixcbiAgd3JhcDogKGlubmVyRWxlbWVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiBSZWFjdC5SZWFjdEVsZW1lbnQsXG4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjb21wb25lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCkge1xuICAgIHZvaWQgYWN0KCgpID0+IHtcbiAgICAgIHJlbmRlcmVyLnVwZGF0ZSh3cmFwKGNvbXBvbmVudCkpO1xuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgdHlwZSBEZWJ1Z0Z1bmN0aW9uID0gKG9wdGlvbnM/OiBEZWJ1Z09wdGlvbnMpID0+IHZvaWQ7XG5cbmZ1bmN0aW9uIG1ha2VEZWJ1ZyhyZW5kZXJlcjogUmVhY3RUZXN0UmVuZGVyZXIpOiBEZWJ1Z0Z1bmN0aW9uIHtcbiAgZnVuY3Rpb24gZGVidWdJbXBsKG9wdGlvbnM/OiBEZWJ1Z09wdGlvbnMpIHtcbiAgICBjb25zdCB7IGRlZmF1bHREZWJ1Z09wdGlvbnMgfSA9IGdldENvbmZpZygpO1xuICAgIGNvbnN0IGRlYnVnT3B0aW9ucyA9IHsgLi4uZGVmYXVsdERlYnVnT3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IGpzb24gPSByZW5kZXJlci50b0pTT04oKTtcbiAgICBpZiAoanNvbikge1xuICAgICAgcmV0dXJuIGRlYnVnKGpzb24sIGRlYnVnT3B0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