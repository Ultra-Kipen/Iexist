{"version":3,"names":["_getJestObj","mock","useNavigation","jest","fn","useStore","reactNative","requireActual","Object","assign","Text","props","children","_interopRequireDefault","require","_react","_reactNative","_withAuth","_reactNative2","_native","_store","_jsxRuntime","_require","describe","TestComponent","jsx","AuthenticatedComponent","withAuth","mockNavigate","beforeEach","clearAllMocks","mockReturnValue","navigate","test","state","isAuthenticated","_render","render","getByText","expect","toBeTruthy","not","toHaveBeenCalled","_render2","queryByText","toHaveBeenCalledWith","toBeNull","displayName","toBe","_render3","rerender"],"sources":["withAuth.test.tsx"],"sourcesContent":["import React from 'react';\r\nimport { render } from '@testing-library/react-native';\r\nimport { withAuth } from '../../src/hoc/withAuth';\r\nimport { Text } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useStore } from '../../src/store';\r\n\r\n// useNavigation 모킹\r\njest.mock('@react-navigation/native', () => ({\r\n  useNavigation: jest.fn(),\r\n}));\r\n\r\n// useStore 모킹\r\njest.mock('../../src/store', () => ({\r\n  useStore: jest.fn(),\r\n}));\r\n\r\n// Text 컴포넌트 직접 모킹\r\njest.mock('react-native', () => {\r\n  const reactNative = jest.requireActual('react-native');\r\n  return {\r\n    ...reactNative,\r\n    Text: (props: { children: any; }) => props.children,\r\n  };\r\n});\r\n\r\ndescribe('withAuth HOC', () => {\r\n  // 테스트 컴포넌트\r\n  const TestComponent = () => <Text>인증된 컴포넌트</Text>;\r\n  const AuthenticatedComponent = withAuth(TestComponent);\r\n  \r\n  const mockNavigate = jest.fn();\r\n  \r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    (useNavigation as jest.Mock).mockReturnValue({\r\n      navigate: mockNavigate,\r\n    });\r\n  });\r\n\r\n  test('인증된 경우 컴포넌트가 렌더링되어야 함', () => {\r\n    // 인증된 상태로 모킹\r\n    (useStore as jest.Mock).mockReturnValue({\r\n      state: { isAuthenticated: true },\r\n    });\r\n\r\n    const { getByText } = render(<AuthenticatedComponent />);\r\n    expect(getByText('인증된 컴포넌트')).toBeTruthy();\r\n    expect(mockNavigate).not.toHaveBeenCalled();\r\n  });\r\n\r\n  test('인증되지 않은 경우 로그인 화면으로 네비게이션되어야 함', () => {\r\n    // 인증되지 않은 상태로 모킹\r\n    (useStore as jest.Mock).mockReturnValue({\r\n      state: { isAuthenticated: false },\r\n    });\r\n\r\n    const { queryByText } = render(<AuthenticatedComponent />);\r\n    \r\n    expect(mockNavigate).toHaveBeenCalledWith('Login');\r\n    expect(queryByText('인증된 컴포넌트')).toBeNull();\r\n  });\r\n\r\n  test('HOC가 displayName을 올바르게 설정해야 함', () => {\r\n    expect(AuthenticatedComponent.displayName).toBe('withAuth(TestComponent)');\r\n  });\r\n\r\n  test('isAuthenticated 상태가 변경될 때 컴포넌트가 적절하게 리렌더링되어야 함', () => {\r\n    // 처음에는 인증되지 않은 상태\r\n    (useStore as jest.Mock).mockReturnValue({\r\n      state: { isAuthenticated: false },\r\n    });\r\n\r\n    const { queryByText, rerender } = render(<AuthenticatedComponent />);\r\n    expect(queryByText('인증된 컴포넌트')).toBeNull();\r\n    expect(mockNavigate).toHaveBeenCalledWith('Login');\r\n\r\n    // 인증된 상태로 변경\r\n    (useStore as jest.Mock).mockReturnValue({\r\n      state: { isAuthenticated: true },\r\n    });\r\n\r\n    rerender(<AuthenticatedComponent />);\r\n    expect(queryByText('인증된 컴포넌트')).toBeTruthy();\r\n  });\r\n});"],"mappings":"AAQAA,WAAA,GAAKC,IAAI,CAAC,0BAA0B,EAAE;EAAA,OAAO;IAC3CC,aAAa,EAAEC,IAAI,CAACC,EAAE,CAAC;EACzB,CAAC;AAAA,CAAC,CAAC;AAGHJ,WAAA,GAAKC,IAAI,oBAAoB;EAAA,OAAO;IAClCI,QAAQ,EAAEF,IAAI,CAACC,EAAE,CAAC;EACpB,CAAC;AAAA,CAAC,CAAC;AAGHJ,WAAA,GAAKC,IAAI,CAAC,cAAc,EAAE,YAAM;EAC9B,IAAMK,WAAW,GAAGH,IAAI,CAACI,aAAa,CAAC,cAAc,CAAC;EACtD,OAAAC,MAAA,CAAAC,MAAA,KACKH,WAAW;IACdI,IAAI,EAAE,SAANA,IAAIA,CAAGC,KAAyB;MAAA,OAAKA,KAAK,CAACC,QAAQ;IAAA;EAAA;AAEvD,CAAC,CAAC;AAAC,IAAAC,sBAAA,GAAAC,OAAA;AAxBH,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,YAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,aAAA,GAAAJ,OAAA;AACA,IAAAK,OAAA,GAAAL,OAAA;AACA,IAAAM,MAAA,GAAAN,OAAA;AAA2C,IAAAO,WAAA,GAAAP,OAAA;AAAA,SAAAd,YAAA;EAAA,IAAAsB,QAAA,GAAAR,OAAA;IAAAX,IAAA,GAAAmB,QAAA,CAAAnB,IAAA;EAAAH,WAAA,YAAAA,YAAA;IAAA,OAAAG,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAqB3CoB,QAAQ,CAAC,cAAc,EAAE,YAAM;EAE7B,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA;IAAA,OAAS,IAAAH,WAAA,CAAAI,GAAA,EAACP,aAAA,CAAAR,IAAI;MAAAE,QAAA,EAAC;IAAQ,CAAM,CAAC;EAAA;EACjD,IAAMc,sBAAsB,GAAG,IAAAC,kBAAQ,EAACH,aAAa,CAAC;EAEtD,IAAMI,YAAY,GAAGzB,IAAI,CAACC,EAAE,CAAC,CAAC;EAE9ByB,UAAU,CAAC,YAAM;IACf1B,IAAI,CAAC2B,aAAa,CAAC,CAAC;IACnB5B,qBAAa,CAAe6B,eAAe,CAAC;MAC3CC,QAAQ,EAAEJ;IACZ,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFK,IAAI,CAAC,uBAAuB,EAAE,YAAM;IAEjC5B,eAAQ,CAAe0B,eAAe,CAAC;MACtCG,KAAK,EAAE;QAAEC,eAAe,EAAE;MAAK;IACjC,CAAC,CAAC;IAEF,IAAAC,OAAA,GAAsB,IAAAC,mBAAM,EAAC,IAAAhB,WAAA,CAAAI,GAAA,EAACC,sBAAsB,IAAE,CAAC,CAAC;MAAhDY,SAAS,GAAAF,OAAA,CAATE,SAAS;IACjBC,MAAM,CAACD,SAAS,CAAC,UAAU,CAAC,CAAC,CAACE,UAAU,CAAC,CAAC;IAC1CD,MAAM,CAACX,YAAY,CAAC,CAACa,GAAG,CAACC,gBAAgB,CAAC,CAAC;EAC7C,CAAC,CAAC;EAEFT,IAAI,CAAC,gCAAgC,EAAE,YAAM;IAE1C5B,eAAQ,CAAe0B,eAAe,CAAC;MACtCG,KAAK,EAAE;QAAEC,eAAe,EAAE;MAAM;IAClC,CAAC,CAAC;IAEF,IAAAQ,QAAA,GAAwB,IAAAN,mBAAM,EAAC,IAAAhB,WAAA,CAAAI,GAAA,EAACC,sBAAsB,IAAE,CAAC,CAAC;MAAlDkB,WAAW,GAAAD,QAAA,CAAXC,WAAW;IAEnBL,MAAM,CAACX,YAAY,CAAC,CAACiB,oBAAoB,CAAC,OAAO,CAAC;IAClDN,MAAM,CAACK,WAAW,CAAC,UAAU,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC;EAC5C,CAAC,CAAC;EAEFb,IAAI,CAAC,+BAA+B,EAAE,YAAM;IAC1CM,MAAM,CAACb,sBAAsB,CAACqB,WAAW,CAAC,CAACC,IAAI,CAAC,yBAAyB,CAAC;EAC5E,CAAC,CAAC;EAEFf,IAAI,CAAC,gDAAgD,EAAE,YAAM;IAE1D5B,eAAQ,CAAe0B,eAAe,CAAC;MACtCG,KAAK,EAAE;QAAEC,eAAe,EAAE;MAAM;IAClC,CAAC,CAAC;IAEF,IAAAc,QAAA,GAAkC,IAAAZ,mBAAM,EAAC,IAAAhB,WAAA,CAAAI,GAAA,EAACC,sBAAsB,IAAE,CAAC,CAAC;MAA5DkB,WAAW,GAAAK,QAAA,CAAXL,WAAW;MAAEM,QAAQ,GAAAD,QAAA,CAARC,QAAQ;IAC7BX,MAAM,CAACK,WAAW,CAAC,UAAU,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC;IAC1CP,MAAM,CAACX,YAAY,CAAC,CAACiB,oBAAoB,CAAC,OAAO,CAAC;IAGjDxC,eAAQ,CAAe0B,eAAe,CAAC;MACtCG,KAAK,EAAE;QAAEC,eAAe,EAAE;MAAK;IACjC,CAAC,CAAC;IAEFe,QAAQ,CAAC,IAAA7B,WAAA,CAAAI,GAAA,EAACC,sBAAsB,IAAE,CAAC,CAAC;IACpCa,MAAM,CAACK,WAAW,CAAC,UAAU,CAAC,CAAC,CAACJ,UAAU,CAAC,CAAC;EAC9C,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}