b9544dd59b9fb61ca866f7b3e977e049
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tagService = exports.default = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _client = _interopRequireDefault(require("./client"));
var tagService = exports.tagService = {
  client: _client.default,
  getAllTags: function () {
    var _getAllTags = (0, _asyncToGenerator2.default)(function* () {
      try {
        var response = yield tagService.client.get('/tags');
        return response.data.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('태그 목록 조회에 실패했습니다');
      }
    });
    function getAllTags() {
      return _getAllTags.apply(this, arguments);
    }
    return getAllTags;
  }(),
  getPopularTags: function () {
    var _getPopularTags = (0, _asyncToGenerator2.default)(function* () {
      var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;
      try {
        var response = yield tagService.client.get('/tags/popular', {
          params: {
            limit: limit
          }
        });
        return response.data.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('인기 태그 조회에 실패했습니다');
      }
    });
    function getPopularTags() {
      return _getPopularTags.apply(this, arguments);
    }
    return getPopularTags;
  }(),
  createTag: function () {
    var _createTag = (0, _asyncToGenerator2.default)(function* (name) {
      try {
        var response = yield tagService.client.post('/tags', {
          name: name
        });
        return response.data.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('태그 생성에 실패했습니다');
      }
    });
    function createTag(_x) {
      return _createTag.apply(this, arguments);
    }
    return createTag;
  }(),
  getTagById: function () {
    var _getTagById = (0, _asyncToGenerator2.default)(function* (tagId) {
      try {
        var response = yield tagService.client.get(`/tags/${tagId}`);
        return response.data.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('태그 정보 조회에 실패했습니다');
      }
    });
    function getTagById(_x2) {
      return _getTagById.apply(this, arguments);
    }
    return getTagById;
  }(),
  updateTag: function () {
    var _updateTag = (0, _asyncToGenerator2.default)(function* (tagId, name) {
      try {
        var response = yield tagService.client.put(`/tags/${tagId}`, {
          name: name
        });
        return response.data.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('태그 수정에 실패했습니다');
      }
    });
    function updateTag(_x3, _x4) {
      return _updateTag.apply(this, arguments);
    }
    return updateTag;
  }(),
  deleteTag: function () {
    var _deleteTag = (0, _asyncToGenerator2.default)(function* (tagId) {
      try {
        var response = yield tagService.client.delete(`/tags/${tagId}`);
        return response.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('태그 삭제에 실패했습니다');
      }
    });
    function deleteTag(_x5) {
      return _deleteTag.apply(this, arguments);
    }
    return deleteTag;
  }(),
  getPostsByTag: function () {
    var _getPostsByTag = (0, _asyncToGenerator2.default)(function* (tagId, params) {
      try {
        var response = yield tagService.client.get(`/tags/${tagId}/posts`, {
          params: params
        });
        return response.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('태그별 게시물 조회에 실패했습니다');
      }
    });
    function getPostsByTag(_x6, _x7) {
      return _getPostsByTag.apply(this, arguments);
    }
    return getPostsByTag;
  }(),
  searchTags: function () {
    var _searchTags = (0, _asyncToGenerator2.default)(function* (query) {
      try {
        var response = yield tagService.client.get('/tags/search', {
          params: {
            query: query
          }
        });
        return response.data.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('태그 검색에 실패했습니다');
      }
    });
    function searchTags(_x8) {
      return _searchTags.apply(this, arguments);
    }
    return searchTags;
  }(),
  addTagToPost: function () {
    var _addTagToPost = (0, _asyncToGenerator2.default)(function* (postId, tagId, postType) {
      try {
        var response = yield tagService.client.post(`/posts/${postId}/tags`, {
          tag_id: tagId,
          post_type: postType
        });
        return response.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('게시물에 태그 추가에 실패했습니다');
      }
    });
    function addTagToPost(_x9, _x10, _x11) {
      return _addTagToPost.apply(this, arguments);
    }
    return addTagToPost;
  }(),
  removeTagFromPost: function () {
    var _removeTagFromPost = (0, _asyncToGenerator2.default)(function* (postId, tagId, postType) {
      try {
        var response = yield tagService.client.delete(`/posts/${postId}/tags/${tagId}?post_type=${postType}`);
        return response.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('게시물에서 태그 제거에 실패했습니다');
      }
    });
    function removeTagFromPost(_x12, _x13, _x14) {
      return _removeTagFromPost.apply(this, arguments);
    }
    return removeTagFromPost;
  }(),
  getPostTags: function () {
    var _getPostTags = (0, _asyncToGenerator2.default)(function* (postId, postType) {
      try {
        var response = yield tagService.client.get(`/posts/${postId}/tags?post_type=${postType}`);
        return response.data.data;
      } catch (error) {
        if (error instanceof Error) {
          throw error;
        }
        throw new Error('게시물의 태그 목록 조회에 실패했습니다');
      }
    });
    function getPostTags(_x15, _x16) {
      return _getPostTags.apply(this, arguments);
    }
    return getPostTags;
  }()
};
var _default = exports.default = tagService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2xpZW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJ0YWdTZXJ2aWNlIiwiZXhwb3J0cyIsImNsaWVudCIsImdldEFsbFRhZ3MiLCJfZ2V0QWxsVGFncyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJyZXNwb25zZSIsImdldCIsImRhdGEiLCJlcnJvciIsIkVycm9yIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRQb3B1bGFyVGFncyIsIl9nZXRQb3B1bGFyVGFncyIsImxpbWl0IiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicGFyYW1zIiwiY3JlYXRlVGFnIiwiX2NyZWF0ZVRhZyIsIm5hbWUiLCJwb3N0IiwiX3giLCJnZXRUYWdCeUlkIiwiX2dldFRhZ0J5SWQiLCJ0YWdJZCIsIl94MiIsInVwZGF0ZVRhZyIsIl91cGRhdGVUYWciLCJwdXQiLCJfeDMiLCJfeDQiLCJkZWxldGVUYWciLCJfZGVsZXRlVGFnIiwiZGVsZXRlIiwiX3g1IiwiZ2V0UG9zdHNCeVRhZyIsIl9nZXRQb3N0c0J5VGFnIiwiX3g2IiwiX3g3Iiwic2VhcmNoVGFncyIsIl9zZWFyY2hUYWdzIiwicXVlcnkiLCJfeDgiLCJhZGRUYWdUb1Bvc3QiLCJfYWRkVGFnVG9Qb3N0IiwicG9zdElkIiwicG9zdFR5cGUiLCJ0YWdfaWQiLCJwb3N0X3R5cGUiLCJfeDkiLCJfeDEwIiwiX3gxMSIsInJlbW92ZVRhZ0Zyb21Qb3N0IiwiX3JlbW92ZVRhZ0Zyb21Qb3N0IiwiX3gxMiIsIl94MTMiLCJfeDE0IiwiZ2V0UG9zdFRhZ3MiLCJfZ2V0UG9zdFRhZ3MiLCJfeDE1IiwiX3gxNiIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsidGFnU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvc2VydmljZXMvYXBpL3RhZ1NlcnZpY2UudHNcclxuXHJcbmltcG9ydCBjbGllbnQgZnJvbSAnLi9jbGllbnQnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUYWcge1xyXG4gIHRhZ19pZDogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGFnV2l0aENvdW50IGV4dGVuZHMgVGFnIHtcclxuICBwb3N0X2NvdW50OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB0YWdTZXJ2aWNlID0ge1xyXG4gIGNsaWVudCwgLy8g7YWM7Iqk7Yq466W8IOychO2VtCBjbGllbnQg6rCd7LK0IOuFuOy2nFxyXG4gIFxyXG4gIC8vIOuqqOuToCDtg5zqt7gg6rCA7KC47Jik6riwXHJcbiAgZ2V0QWxsVGFnczogYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWdTZXJ2aWNlLmNsaWVudC5nZXQ8e1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgICAgIGRhdGE6IFRhZ1tdO1xyXG4gICAgICB9PignL3RhZ3MnKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCftg5zqt7gg66qp66GdIOyhsO2ajOyXkCDsi6TtjKjtlojsirXri4jri6QnKTtcclxuICAgIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIOyduOq4sCDtg5zqt7gg6rCA7KC47Jik6riwICjsgqzsmqkg7Zqf7IiYIOq4sOykgClcclxuICBnZXRQb3B1bGFyVGFnczogYXN5bmMgKGxpbWl0OiBudW1iZXIgPSAxMCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWdTZXJ2aWNlLmNsaWVudC5nZXQ8e1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgICAgIGRhdGE6IFRhZ1dpdGhDb3VudFtdO1xyXG4gICAgICB9PignL3RhZ3MvcG9wdWxhcicsIHsgcGFyYW1zOiB7IGxpbWl0IH0gfSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcign7J246riwIO2DnOq3uCDsobDtmozsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyDtg5zqt7gg7IOd7ISx7ZWY6riwXHJcbiAgY3JlYXRlVGFnOiBhc3luYyAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhZ1NlcnZpY2UuY2xpZW50LnBvc3Q8e1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgICAgIGRhdGE6IFRhZztcclxuICAgICAgfT4oJy90YWdzJywgeyBuYW1lIH0pO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+2DnOq3uCDsg53shLHsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyDtirnsoJUg7YOc6re4IOygleuztCDqsIDsoLjsmKTquLBcclxuICBnZXRUYWdCeUlkOiBhc3luYyAodGFnSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWdTZXJ2aWNlLmNsaWVudC5nZXQ8e1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgICAgIGRhdGE6IFRhZztcclxuICAgICAgfT4oYC90YWdzLyR7dGFnSWR9YCk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcign7YOc6re4IOygleuztCDsobDtmozsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyDtg5zqt7gg7IiY7KCV7ZWY6riwXHJcbiAgdXBkYXRlVGFnOiBhc3luYyAodGFnSWQ6IG51bWJlciwgbmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhZ1NlcnZpY2UuY2xpZW50LnB1dDx7XHJcbiAgICAgICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgICAgICAgZGF0YTogVGFnO1xyXG4gICAgICB9PihgL3RhZ3MvJHt0YWdJZH1gLCB7IG5hbWUgfSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcign7YOc6re4IOyImOygleyXkCDsi6TtjKjtlojsirXri4jri6QnKTtcclxuICAgIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIO2DnOq3uCDsgq3soJztlZjquLBcclxuICBkZWxldGVUYWc6IGFzeW5jICh0YWdJZDogbnVtYmVyKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhZ1NlcnZpY2UuY2xpZW50LmRlbGV0ZTx7XHJcbiAgICAgICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgICAgICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgICB9PihgL3RhZ3MvJHt0YWdJZH1gKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcign7YOc6re4IOyCreygnOyXkCDsi6TtjKjtlojsirXri4jri6QnKTtcclxuICAgIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIO2DnOq3uOuhnCDqsozsi5zrrLwg6rKA7IOJ7ZWY6riwXHJcbiAgZ2V0UG9zdHNCeVRhZzogYXN5bmMgKHRhZ0lkOiBudW1iZXIsIHBhcmFtcz86IHtcclxuICAgIHBhZ2U/OiBudW1iZXI7XHJcbiAgICBsaW1pdD86IG51bWJlcjtcclxuICAgIHBvc3RfdHlwZT86ICdteV9kYXknIHwgJ3NvbWVvbmVfZGF5JztcclxuICB9KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhZ1NlcnZpY2UuY2xpZW50LmdldDx7XHJcbiAgICAgICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgICAgICAgZGF0YTogYW55W107IC8vIOyLpOygnCDrsJjtmZgg7YOA7J6F7JeQIOunnuqyjCDsobDsoJUg7ZWE7JqUXHJcbiAgICAgICAgcGFnaW5hdGlvbj86IHtcclxuICAgICAgICAgIHRvdGFsOiBudW1iZXI7XHJcbiAgICAgICAgICBwYWdlOiBudW1iZXI7XHJcbiAgICAgICAgICBsaW1pdDogbnVtYmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgfT4oYC90YWdzLyR7dGFnSWR9L3Bvc3RzYCwgeyBwYXJhbXMgfSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+2DnOq3uOuzhCDqsozsi5zrrLwg7KGw7ZqM7JeQIOyLpO2MqO2WiOyKteuLiOuLpCcpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8g7YOc6re4IOqygOyDie2VmOq4sCAo7J2066aE7Jy866GcKVxyXG4gIHNlYXJjaFRhZ3M6IGFzeW5jIChxdWVyeTogc3RyaW5nKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhZ1NlcnZpY2UuY2xpZW50LmdldDx7XHJcbiAgICAgICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgICAgICAgZGF0YTogVGFnW107XHJcbiAgICAgIH0+KCcvdGFncy9zZWFyY2gnLCB7IHBhcmFtczogeyBxdWVyeSB9IH0pO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+2DnOq3uCDqsoDsg4nsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyDtirnsoJUg6rKM7Iuc66y87JeQIO2DnOq3uCDstpTqsIDtlZjquLBcclxuICBhZGRUYWdUb1Bvc3Q6IGFzeW5jIChwb3N0SWQ6IG51bWJlciwgdGFnSWQ6IG51bWJlciwgcG9zdFR5cGU6ICdteV9kYXknIHwgJ3NvbWVvbmVfZGF5JykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWdTZXJ2aWNlLmNsaWVudC5wb3N0PHtcclxuICAgICAgICBzdGF0dXM6IHN0cmluZztcclxuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICAgIH0+KGAvcG9zdHMvJHtwb3N0SWR9L3RhZ3NgLCB7IHRhZ19pZDogdGFnSWQsIHBvc3RfdHlwZTogcG9zdFR5cGUgfSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+qyjOyLnOusvOyXkCDtg5zqt7gg7LaU6rCA7JeQIOyLpO2MqO2WiOyKteuLiOuLpCcpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8g7Yq57KCVIOqyjOyLnOusvOyXkOyEnCDtg5zqt7gg7KCc6rGw7ZWY6riwXHJcbiAgcmVtb3ZlVGFnRnJvbVBvc3Q6IGFzeW5jIChwb3N0SWQ6IG51bWJlciwgdGFnSWQ6IG51bWJlciwgcG9zdFR5cGU6ICdteV9kYXknIHwgJ3NvbWVvbmVfZGF5JykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWdTZXJ2aWNlLmNsaWVudC5kZWxldGU8e1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgICAgfT4oYC9wb3N0cy8ke3Bvc3RJZH0vdGFncy8ke3RhZ0lkfT9wb3N0X3R5cGU9JHtwb3N0VHlwZX1gKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcign6rKM7Iuc66y87JeQ7IScIO2DnOq3uCDsoJzqsbDsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyDtirnsoJUg6rKM7Iuc66y87J2YIOuqqOuToCDtg5zqt7gg6rCA7KC47Jik6riwXHJcbiAgZ2V0UG9zdFRhZ3M6IGFzeW5jIChwb3N0SWQ6IG51bWJlciwgcG9zdFR5cGU6ICdteV9kYXknIHwgJ3NvbWVvbmVfZGF5JykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWdTZXJ2aWNlLmNsaWVudC5nZXQ8e1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgICAgIGRhdGE6IFRhZ1tdO1xyXG4gICAgICB9PihgL3Bvc3RzLyR7cG9zdElkfS90YWdzP3Bvc3RfdHlwZT0ke3Bvc3RUeXBlfWApO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5kYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+qyjOyLnOusvOydmCDtg5zqt7gg66qp66GdIOyhsO2ajOyXkCDsi6TtjKjtlojsirXri4jri6QnKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0YWdTZXJ2aWNlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBYU8sSUFBTUMsVUFBVSxHQUFBQyxPQUFBLENBQUFELFVBQUEsR0FBRztFQUN4QkUsTUFBTSxFQUFOQSxlQUFNO0VBR05DLFVBQVU7SUFBQSxJQUFBQyxXQUFBLE9BQUFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRSxhQUFZO01BQ3RCLElBQUk7UUFDRixJQUFNQyxRQUFRLFNBQVNQLFVBQVUsQ0FBQ0UsTUFB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