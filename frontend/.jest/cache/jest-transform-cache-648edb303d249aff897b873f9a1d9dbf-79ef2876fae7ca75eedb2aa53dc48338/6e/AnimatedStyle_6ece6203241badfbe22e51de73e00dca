879e9b4ce24931ce46f3211ee0893345
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _classPrivateFieldLooseBase2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseBase"));
var _classPrivateFieldLooseKey2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseKey"));
var _NativeAnimatedValidation = require("../../../src/private/animated/NativeAnimatedValidation");
var ReactNativeFeatureFlags = _interopRequireWildcard(require("../../../src/private/featureflags/ReactNativeFeatureFlags"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _AnimatedNode = _interopRequireDefault(require("./AnimatedNode"));
var _AnimatedObject = _interopRequireDefault(require("./AnimatedObject"));
var _AnimatedTransform = _interopRequireDefault(require("./AnimatedTransform"));
var _AnimatedWithChildren2 = _interopRequireDefault(require("./AnimatedWithChildren"));
var _Object$hasOwn;
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = (0, _get2.default)((0, _getPrototypeOf2.default)(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function createAnimatedStyle(inputStyle, allowlist, keepUnanimatedValues) {
  var nodeKeys = [];
  var nodes = [];
  var style = {};
  var keys = Object.keys(inputStyle);
  for (var ii = 0, length = keys.length; ii < length; ii++) {
    var key = keys[ii];
    var value = inputStyle[key];
    if (allowlist == null || hasOwn(allowlist, key)) {
      var node = void 0;
      if (value != null && key === 'transform') {
        node = ReactNativeFeatureFlags.shouldUseAnimatedObjectForTransform() ? _AnimatedObject.default.from(value) : _AnimatedTransform.default.from(value);
      } else if (value instanceof _AnimatedNode.default) {
        node = value;
      } else {
        node = _AnimatedObject.default.from(value);
      }
      if (node == null) {
        if (keepUnanimatedValues) {
          style[key] = value;
        }
      } else {
        nodeKeys.push(key);
        nodes.push(node);
        style[key] = node;
      }
    } else {
      if (true) {
        if (_AnimatedObject.default.from(inputStyle[key]) != null) {
          console.error(`AnimatedStyle: ${key} is not allowlisted for animation, but it ` + 'contains AnimatedNode values; styles allowing animation: ', allowlist);
        }
      }
      if (keepUnanimatedValues) {
        style[key] = value;
      }
    }
  }
  return [nodeKeys, nodes, style];
}
var _inputStyle = (0, _classPrivateFieldLooseKey2.default)("inputStyle");
var _nodeKeys = (0, _classPrivateFieldLooseKey2.default)("nodeKeys");
var _nodes = (0, _classPrivateFieldLooseKey2.default)("nodes");
var _style = (0, _classPrivateFieldLooseKey2.default)("style");
var AnimatedStyle = exports.default = function (_AnimatedWithChildren) {
  function AnimatedStyle(nodeKeys, nodes, style, inputStyle, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedStyle);
    _this = _callSuper(this, AnimatedStyle, [config]);
    Object.defineProperty(_this, _inputStyle, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(_this, _nodeKeys, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(_this, _nodes, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(_this, _style, {
      writable: true,
      value: void 0
    });
    (0, _classPrivateFieldLooseBase2.default)(_this, _nodeKeys)[_nodeKeys] = nodeKeys;
    (0, _classPrivateFieldLooseBase2.default)(_this, _nodes)[_nodes] = nodes;
    (0, _classPrivateFieldLooseBase2.default)(_this, _style)[_style] = style;
    (0, _classPrivateFieldLooseBase2.default)(_this, _inputStyle)[_inputStyle] = inputStyle;
    return _this;
  }
  (0, _inherits2.default)(AnimatedStyle, _AnimatedWithChildren);
  return (0, _createClass2.default)(AnimatedStyle, [{
    key: "__getValue",
    value: function __getValue() {
      var style = {};
      var keys = Object.keys((0, _classPrivateFieldLooseBase2.default)(this, _style)[_style]);
      for (var ii = 0, length = keys.length; ii < length; ii++) {
        var key = keys[ii];
        var value = (0, _classPrivateFieldLooseBase2.default)(this, _style)[_style][key];
        if (value instanceof _AnimatedNode.default) {
          style[key] = value.__getValue();
        } else {
          style[key] = value;
        }
      }
      return _Platform.default.OS === 'web' ? [(0, _classPrivateFieldLooseBase2.default)(this, _inputStyle)[_inputStyle], style] : style;
    }
  }, {
    key: "__getValueWithStaticStyle",
    value: function __getValueWithStaticStyle(staticStyle) {
      var flatStaticStyle = (0, _flattenStyle.default)(staticStyle);
      var style = flatStaticStyle == null ? {} : flatStaticStyle === staticStyle ? Object.assign({}, flatStaticStyle) : flatStaticStyle;
      var keys = Object.keys(style);
      for (var ii = 0, length = keys.length; ii < length; ii++) {
        var key = keys[ii];
        var maybeNode = (0, _classPrivateFieldLooseBase2.default)(this, _style)[_style][key];
        if (key === 'transform' && maybeNode instanceof _AnimatedTransform.default) {
          style[key] = maybeNode.__getValueWithStaticTransforms(Array.isArray(style[key]) ? style[key] : []);
        } else if (maybeNode instanceof _AnimatedObject.default) {
          style[key] = maybeNode.__getValueWithStaticObject(style[key]);
        } else if (maybeNode instanceof _AnimatedNode.default) {
          style[key] = maybeNode.__getValue();
        }
      }
      return _Platform.default.OS === 'web' ? [(0, _classPrivateFieldLooseBase2.default)(this, _inputStyle)[_inputStyle], style] : style;
    }
  }, {
    key: "__getAnimatedValue",
    value: function __getAnimatedValue() {
      var style = {};
      var nodeKeys = (0, _classPrivateFieldLooseBase2.default)(this, _nodeKeys)[_nodeKeys];
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var key = nodeKeys[ii];
        var node = nodes[ii];
        style[key] = node.__getAnimatedValue();
      }
      return style;
    }
  }, {
    key: "__attach",
    value: function __attach() {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__addChild(this);
      }
      _superPropGet(AnimatedStyle, "__attach", this, 3)([]);
    }
  }, {
    key: "__detach",
    value: function __detach() {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__removeChild(this);
      }
      _superPropGet(AnimatedStyle, "__detach", this, 3)([]);
    }
  }, {
    key: "__makeNative",
    value: function __makeNative(platformConfig) {
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var node = nodes[ii];
        node.__makeNative(platformConfig);
      }
      _superPropGet(AnimatedStyle, "__makeNative", this, 3)([platformConfig]);
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      var platformConfig = this.__getPlatformConfig();
      var styleConfig = {};
      var nodeKeys = (0, _classPrivateFieldLooseBase2.default)(this, _nodeKeys)[_nodeKeys];
      var nodes = (0, _classPrivateFieldLooseBase2.default)(this, _nodes)[_nodes];
      for (var ii = 0, length = nodes.length; ii < length; ii++) {
        var key = nodeKeys[ii];
        var node = nodes[ii];
        node.__makeNative(platformConfig);
        styleConfig[key] = node.__getNativeTag();
      }
      if (true) {
        (0, _NativeAnimatedValidation.validateStyles)(styleConfig);
      }
      return {
        type: 'style',
        style: styleConfig,
        debugID: this.__getDebugID()
      };
    }
  }], [{
    key: "from",
    value: function from(inputStyle, allowlist) {
      var flatStyle = (0, _flattenStyle.default)(inputStyle);
      if (flatStyle == null) {
        return null;
      }
      var _createAnimatedStyle = createAnimatedStyle(flatStyle, allowlist, _Platform.default.OS !== 'web'),
        _createAnimatedStyle2 = (0, _slicedToArray2.default)(_createAnimatedStyle, 3),
        nodeKeys = _createAnimatedStyle2[0],
        nodes = _createAnimatedStyle2[1],
        style = _createAnimatedStyle2[2];
      if (nodes.length === 0) {
        return null;
      }
      return new AnimatedStyle(nodeKeys, nodes, style, inputStyle);
    }
  }]);
}(_AnimatedWithChildren2.default);
var _hasOwnProp = Object.prototype.hasOwnProperty;
var hasOwn = (_Object$hasOwn = Object.hasOwn) != null ? _Object$hasOwn : function (obj, prop) {
  return _hasOwnProp.call(obj, prop);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTmF0aXZlQW5pbWF0ZWRWYWxpZGF0aW9uIiwicmVxdWlyZSIsIlJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZmxhdHRlblN0eWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9QbGF0Zm9ybSIsIl9BbmltYXRlZE5vZGUiLCJfQW5pbWF0ZWRPYmplY3QiLCJfQW5pbWF0ZWRUcmFuc2Zvcm0iLCJfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4yIiwiX09iamVjdCRoYXNPd24iLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfY2FsbFN1cGVyIiwibyIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yIiwiYXBwbHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIl9zdXBlclByb3BHZXQiLCJwIiwiX2dldDIiLCJjcmVhdGVBbmltYXRlZFN0eWxlIiwiaW5wdXRTdHlsZSIsImFsbG93bGlzdCIsImtlZXBVbmFuaW1hdGVkVmFsdWVzIiwibm9kZUtleXMiLCJub2RlcyIsInN0eWxlIiwia2V5cyIsImlpIiwibGVuZ3RoIiwia2V5IiwidmFsdWUiLCJoYXNPd24iLCJub2RlIiwic2hvdWxkVXNlQW5pbWF0ZWRPYmplY3RGb3JUcmFuc2Zvcm0iLCJBbmltYXRlZE9iamVjdCIsImZyb20iLCJBbmltYXRlZFRyYW5zZm9ybSIsIkFuaW1hdGVkTm9kZSIsInB1c2giLCJjb25zb2xlIiwiZXJyb3IiLCJfaW5wdXRTdHlsZSIsIl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5MiIsIl9ub2RlS2V5cyIsIl9ub2RlcyIsIl9zdHlsZSIsIkFuaW1hdGVkU3R5bGUiLCJleHBvcnRzIiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuIiwiY29uZmlnIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwid3JpdGFibGUiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UyIiwiX2luaGVyaXRzMiIsIl9jcmVhdGVDbGFzczIiLCJfX2dldFZhbHVlIiwiUGxhdGZvcm0iLCJPUyIsIl9fZ2V0VmFsdWVXaXRoU3RhdGljU3R5bGUiLCJzdGF0aWNTdHlsZSIsImZsYXRTdGF0aWNTdHlsZSIsImZsYXR0ZW5TdHlsZSIsImFzc2lnbiIsIm1heWJlTm9kZSIsIl9fZ2V0VmFsdWVXaXRoU3RhdGljVHJhbnNmb3JtcyIsIkFycmF5IiwiaXNBcnJheSIsIl9fZ2V0VmFsdWVXaXRoU3RhdGljT2JqZWN0IiwiX19nZXRBbmltYXRlZFZhbHVlIiwiX19hdHRhY2giLCJfX2FkZENoaWxkIiwiX19kZXRhY2giLCJfX3JlbW92ZUNoaWxkIiwiX19tYWtlTmF0aXZlIiwicGxhdGZvcm1Db25maWciLCJfX2dldE5hdGl2ZUNvbmZpZyIsIl9fZ2V0UGxhdGZvcm1Db25maWciLCJzdHlsZUNvbmZpZyIsIl9fZ2V0TmF0aXZlVGFnIiwidmFsaWRhdGVTdHlsZXMiLCJ0eXBlIiwiZGVidWdJRCIsIl9fZ2V0RGVidWdJRCIsImZsYXRTdHlsZSIsIl9jcmVhdGVBbmltYXRlZFN0eWxlIiwiX2NyZWF0ZUFuaW1hdGVkU3R5bGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiQW5pbWF0ZWRXaXRoQ2hpbGRyZW4iLCJfaGFzT3duUHJvcCIsIm9iaiIsInByb3AiXSwic291cmNlcyI6WyJBbmltYXRlZFN0eWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtQbGF0Zm9ybUNvbmZpZ30gZnJvbSAnLi4vQW5pbWF0ZWRQbGF0Zm9ybUNvbmZpZyc7XG5pbXBvcnQgdHlwZSB7QW5pbWF0ZWROb2RlQ29uZmlnfSBmcm9tICcuL0FuaW1hdGVkTm9kZSc7XG5cbmltcG9ydCB7dmFsaWRhdGVTdHlsZXN9IGZyb20gJy4uLy4uLy4uL3NyYy9wcml2YXRlL2FuaW1hdGVkL05hdGl2ZUFuaW1hdGVkVmFsaWRhdGlvbic7XG5pbXBvcnQgKiBhcyBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyBmcm9tICcuLi8uLi8uLi9zcmMvcHJpdmF0ZS9mZWF0dXJlZmxhZ3MvUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MnO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSAnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJztcbmltcG9ydCBBbmltYXRlZE5vZGUgZnJvbSAnLi9BbmltYXRlZE5vZGUnO1xuaW1wb3J0IEFuaW1hdGVkT2JqZWN0IGZyb20gJy4vQW5pbWF0ZWRPYmplY3QnO1xuaW1wb3J0IEFuaW1hdGVkVHJhbnNmb3JtIGZyb20gJy4vQW5pbWF0ZWRUcmFuc2Zvcm0nO1xuaW1wb3J0IEFuaW1hdGVkV2l0aENoaWxkcmVuIGZyb20gJy4vQW5pbWF0ZWRXaXRoQ2hpbGRyZW4nO1xuXG5leHBvcnQgdHlwZSBBbmltYXRlZFN0eWxlQWxsb3dsaXN0ID0gJFJlYWRPbmx5PHtbc3RyaW5nXTogdHJ1ZX0+O1xuXG5mdW5jdGlvbiBjcmVhdGVBbmltYXRlZFN0eWxlKFxuICBpbnB1dFN0eWxlOiB7W3N0cmluZ106IG1peGVkfSxcbiAgYWxsb3dsaXN0OiA/QW5pbWF0ZWRTdHlsZUFsbG93bGlzdCxcbiAga2VlcFVuYW5pbWF0ZWRWYWx1ZXM6IGJvb2xlYW4sXG4pOiBbJFJlYWRPbmx5QXJyYXk8c3RyaW5nPiwgJFJlYWRPbmx5QXJyYXk8QW5pbWF0ZWROb2RlPiwge1tzdHJpbmddOiBtaXhlZH1dIHtcbiAgY29uc3Qgbm9kZUtleXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgY29uc3Qgbm9kZXM6IEFycmF5PEFuaW1hdGVkTm9kZT4gPSBbXTtcbiAgY29uc3Qgc3R5bGU6IHtbc3RyaW5nXTogbWl4ZWR9ID0ge307XG5cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3R5bGUpO1xuICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaWldO1xuICAgIGNvbnN0IHZhbHVlID0gaW5wdXRTdHlsZVtrZXldO1xuXG4gICAgaWYgKGFsbG93bGlzdCA9PSBudWxsIHx8IGhhc093bihhbGxvd2xpc3QsIGtleSkpIHtcbiAgICAgIGxldCBub2RlO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYga2V5ID09PSAndHJhbnNmb3JtJykge1xuICAgICAgICBub2RlID0gUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3Muc2hvdWxkVXNlQW5pbWF0ZWRPYmplY3RGb3JUcmFuc2Zvcm0oKVxuICAgICAgICAgID8gQW5pbWF0ZWRPYmplY3QuZnJvbSh2YWx1ZSlcbiAgICAgICAgICA6IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdIC0gYHZhbHVlYCBpcyBtaXhlZC5cbiAgICAgICAgICAgIEFuaW1hdGVkVHJhbnNmb3JtLmZyb20odmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSkge1xuICAgICAgICBub2RlID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gQW5pbWF0ZWRPYmplY3QuZnJvbSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChrZWVwVW5hbmltYXRlZFZhbHVlcykge1xuICAgICAgICAgIHN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZUtleXMucHVzaChrZXkpO1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICBzdHlsZVtrZXldID0gbm9kZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgLy8gV0FSTklORzogVGhpcyBpcyBhIHBvdGVudGlhbGx5IGV4cGVuc2l2ZSBjaGVjayB0aGF0IHdlIHNob3VsZCBvbmx5XG4gICAgICAgIC8vIGRvIGluIGRldmVsb3BtZW50LiBXaXRob3V0IHRoaXMgY2hlY2sgaW4gZGV2ZWxvcG1lbnQsIGl0IG1pZ2h0IGJlXG4gICAgICAgIC8vIGRpZmZpY3VsdCB0byBpZGVudGlmeSB3aGljaCBzdHlsZXMgbmVlZCB0byBiZSBhbGxvd2xpc3RlZC5cbiAgICAgICAgaWYgKEFuaW1hdGVkT2JqZWN0LmZyb20oaW5wdXRTdHlsZVtrZXldKSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGBBbmltYXRlZFN0eWxlOiAke2tleX0gaXMgbm90IGFsbG93bGlzdGVkIGZvciBhbmltYXRpb24sIGJ1dCBpdCBgICtcbiAgICAgICAgICAgICAgJ2NvbnRhaW5zIEFuaW1hdGVkTm9kZSB2YWx1ZXM7IHN0eWxlcyBhbGxvd2luZyBhbmltYXRpb246ICcsXG4gICAgICAgICAgICBhbGxvd2xpc3QsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGtlZXBVbmFuaW1hdGVkVmFsdWVzKSB7XG4gICAgICAgIHN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gW25vZGVLZXlzLCBub2Rlcywgc3R5bGVdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRlZFN0eWxlIGV4dGVuZHMgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4ge1xuICAjaW5wdXRTdHlsZTogYW55O1xuICAjbm9kZUtleXM6ICRSZWFkT25seUFycmF5PHN0cmluZz47XG4gICNub2RlczogJFJlYWRPbmx5QXJyYXk8QW5pbWF0ZWROb2RlPjtcbiAgI3N0eWxlOiB7W3N0cmluZ106IG1peGVkfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBgQW5pbWF0ZWRTdHlsZWAgaWYgYHZhbHVlYCBjb250YWlucyBgQW5pbWF0ZWROb2RlYCBpbnN0YW5jZXMuXG4gICAqIE90aGVyd2lzZSwgcmV0dXJucyBgbnVsbGAuXG4gICAqL1xuICBzdGF0aWMgZnJvbShcbiAgICBpbnB1dFN0eWxlOiBhbnksXG4gICAgYWxsb3dsaXN0OiA/QW5pbWF0ZWRTdHlsZUFsbG93bGlzdCxcbiAgKTogP0FuaW1hdGVkU3R5bGUge1xuICAgIGNvbnN0IGZsYXRTdHlsZSA9IGZsYXR0ZW5TdHlsZShpbnB1dFN0eWxlKTtcbiAgICBpZiAoZmxhdFN0eWxlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBbbm9kZUtleXMsIG5vZGVzLCBzdHlsZV0gPSBjcmVhdGVBbmltYXRlZFN0eWxlKFxuICAgICAgZmxhdFN0eWxlLFxuICAgICAgYWxsb3dsaXN0LFxuICAgICAgUGxhdGZvcm0uT1MgIT09ICd3ZWInLFxuICAgICk7XG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTdHlsZShub2RlS2V5cywgbm9kZXMsIHN0eWxlLCBpbnB1dFN0eWxlKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG5vZGVLZXlzOiAkUmVhZE9ubHlBcnJheTxzdHJpbmc+LFxuICAgIG5vZGVzOiAkUmVhZE9ubHlBcnJheTxBbmltYXRlZE5vZGU+LFxuICAgIHN0eWxlOiB7W3N0cmluZ106IG1peGVkfSxcbiAgICBpbnB1dFN0eWxlOiBhbnksXG4gICAgY29uZmlnPzogP0FuaW1hdGVkTm9kZUNvbmZpZyxcbiAgKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcbiAgICB0aGlzLiNub2RlS2V5cyA9IG5vZGVLZXlzO1xuICAgIHRoaXMuI25vZGVzID0gbm9kZXM7XG4gICAgdGhpcy4jc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLiNpbnB1dFN0eWxlID0gaW5wdXRTdHlsZTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWUoKTogT2JqZWN0IHwgQXJyYXk8T2JqZWN0PiB7XG4gICAgY29uc3Qgc3R5bGU6IHtbc3RyaW5nXTogbWl4ZWR9ID0ge307XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy4jc3R5bGUpO1xuICAgIGZvciAobGV0IGlpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2lpXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy4jc3R5bGVba2V5XTtcblxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICAgIHN0eWxlW2tleV0gPSB2YWx1ZS5fX2dldFZhbHVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZVtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gRXJyb3IgZm91bmQgZHVlIHRvIGluY29tcGxldGUgdHlwaW5nIG9mXG4gICAgICogUGxhdGZvcm0uZmxvdy5qcyAqL1xuICAgIHJldHVybiBQbGF0Zm9ybS5PUyA9PT0gJ3dlYicgPyBbdGhpcy4jaW5wdXRTdHlsZSwgc3R5bGVdIDogc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgc3R5bGVgIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBzYW1lIHN0eWxlIHByb3BlcnRpZXMgYXNcbiAgICogdGhlIHN1cHBsaWVkIGBzdGF0aWNTdHlsZWAgb2JqZWN0LCBleGNlcHQgd2l0aCBhbmltYXRlZCBub2RlcyBmb3IgYW55XG4gICAqIHN0eWxlIHByb3BlcnRpZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgYnkgdGhpcyBgQW5pbWF0ZWRTdHlsZWAgaW5zdGFuY2UuXG4gICAqL1xuICBfX2dldFZhbHVlV2l0aFN0YXRpY1N0eWxlKHN0YXRpY1N0eWxlOiBPYmplY3QpOiBPYmplY3QgfCBBcnJheTxPYmplY3Q+IHtcbiAgICBjb25zdCBmbGF0U3RhdGljU3R5bGUgPSBmbGF0dGVuU3R5bGUoc3RhdGljU3R5bGUpO1xuICAgIGNvbnN0IHN0eWxlOiB7W3N0cmluZ106IG1peGVkfSA9XG4gICAgICBmbGF0U3RhdGljU3R5bGUgPT0gbnVsbFxuICAgICAgICA/IHt9XG4gICAgICAgIDogZmxhdFN0YXRpY1N0eWxlID09PSBzdGF0aWNTdHlsZVxuICAgICAgICAgID8gLy8gQ29weSB0aGUgaW5wdXQgc3R5bGUsIHNpbmNlIHdlJ2xsIG11dGF0ZSBpdCBiZWxvdy5cbiAgICAgICAgICAgIHsuLi5mbGF0U3RhdGljU3R5bGV9XG4gICAgICAgICAgOiAvLyBSZXVzZSBgZmxhdFN0YXRpY1N0eWxlYCBpZiBpdCBpcyBhIG5ld2x5IGNyZWF0ZWQgb2JqZWN0LlxuICAgICAgICAgICAgZmxhdFN0YXRpY1N0eWxlO1xuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHN0eWxlKTtcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpaV07XG4gICAgICBjb25zdCBtYXliZU5vZGUgPSB0aGlzLiNzdHlsZVtrZXldO1xuXG4gICAgICBpZiAoa2V5ID09PSAndHJhbnNmb3JtJyAmJiBtYXliZU5vZGUgaW5zdGFuY2VvZiBBbmltYXRlZFRyYW5zZm9ybSkge1xuICAgICAgICBzdHlsZVtrZXldID0gbWF5YmVOb2RlLl9fZ2V0VmFsdWVXaXRoU3RhdGljVHJhbnNmb3JtcyhcbiAgICAgICAgICAvLyBOT1RFOiBUaGlzIGNoZWNrIHNob3VsZCBub3QgYmUgbmVjZXNzYXJ5LCBidXQgdGhlIHR5cGVzIGFyZSBub3RcbiAgICAgICAgICAvLyBlbmZvcmNlZCBhcyBvZiB0aGlzIHdyaXRpbmcuXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShzdHlsZVtrZXldKSA/IHN0eWxlW2tleV0gOiBbXSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobWF5YmVOb2RlIGluc3RhbmNlb2YgQW5pbWF0ZWRPYmplY3QpIHtcbiAgICAgICAgc3R5bGVba2V5XSA9IG1heWJlTm9kZS5fX2dldFZhbHVlV2l0aFN0YXRpY09iamVjdChzdHlsZVtrZXldKTtcbiAgICAgIH0gZWxzZSBpZiAobWF5YmVOb2RlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICAgIHN0eWxlW2tleV0gPSBtYXliZU5vZGUuX19nZXRWYWx1ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEVycm9yIGZvdW5kIGR1ZSB0byBpbmNvbXBsZXRlIHR5cGluZyBvZlxuICAgICAqIFBsYXRmb3JtLmZsb3cuanMgKi9cbiAgICByZXR1cm4gUGxhdGZvcm0uT1MgPT09ICd3ZWInID8gW3RoaXMuI2lucHV0U3R5bGUsIHN0eWxlXSA6IHN0eWxlO1xuICB9XG5cbiAgX19nZXRBbmltYXRlZFZhbHVlKCk6IE9iamVjdCB7XG4gICAgY29uc3Qgc3R5bGU6IHtbc3RyaW5nXTogbWl4ZWR9ID0ge307XG5cbiAgICBjb25zdCBub2RlS2V5cyA9IHRoaXMuI25vZGVLZXlzO1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy4jbm9kZXM7XG4gICAgZm9yIChsZXQgaWkgPSAwLCBsZW5ndGggPSBub2Rlcy5sZW5ndGg7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBub2RlS2V5c1tpaV07XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbaWldO1xuICAgICAgc3R5bGVba2V5XSA9IG5vZGUuX19nZXRBbmltYXRlZFZhbHVlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgX19hdHRhY2goKTogdm9pZCB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLiNub2RlcztcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW5ndGg7IGlpKyspIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpaV07XG4gICAgICBub2RlLl9fYWRkQ2hpbGQodGhpcyk7XG4gICAgfVxuICAgIHN1cGVyLl9fYXR0YWNoKCk7XG4gIH1cblxuICBfX2RldGFjaCgpOiB2b2lkIHtcbiAgICBjb25zdCBub2RlcyA9IHRoaXMuI25vZGVzO1xuICAgIGZvciAobGV0IGlpID0gMCwgbGVuZ3RoID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2lpXTtcbiAgICAgIG5vZGUuX19yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICB9XG4gICAgc3VwZXIuX19kZXRhY2goKTtcbiAgfVxuXG4gIF9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZzogP1BsYXRmb3JtQ29uZmlnKSB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLiNub2RlcztcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW5ndGg7IGlpKyspIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpaV07XG4gICAgICBub2RlLl9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZyk7XG4gICAgfVxuICAgIHN1cGVyLl9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZyk7XG4gIH1cblxuICBfX2dldE5hdGl2ZUNvbmZpZygpOiBPYmplY3Qge1xuICAgIGNvbnN0IHBsYXRmb3JtQ29uZmlnID0gdGhpcy5fX2dldFBsYXRmb3JtQ29uZmlnKCk7XG4gICAgY29uc3Qgc3R5bGVDb25maWc6IHtbc3RyaW5nXTogP251bWJlcn0gPSB7fTtcblxuICAgIGNvbnN0IG5vZGVLZXlzID0gdGhpcy4jbm9kZUtleXM7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLiNub2RlcztcbiAgICBmb3IgKGxldCBpaSA9IDAsIGxlbmd0aCA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW5ndGg7IGlpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IG5vZGVLZXlzW2lpXTtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpaV07XG4gICAgICBub2RlLl9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZyk7XG4gICAgICBzdHlsZUNvbmZpZ1trZXldID0gbm9kZS5fX2dldE5hdGl2ZVRhZygpO1xuICAgIH1cblxuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICB2YWxpZGF0ZVN0eWxlcyhzdHlsZUNvbmZpZyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnc3R5bGUnLFxuICAgICAgc3R5bGU6IHN0eWxlQ29uZmlnLFxuICAgICAgZGVidWdJRDogdGhpcy5fX2dldERlYnVnSUQoKSxcbiAgICB9O1xuICB9XG59XG5cbi8vIFN1cHBvcnRlZCB2ZXJzaW9ucyBvZiBKU0MgZG8gbm90IGltcGxlbWVudCB0aGUgbmV3ZXIgT2JqZWN0Lmhhc093bi4gUmVtb3ZlXG4vLyB0aGlzIHNoaW0gd2hlbiB0aGV5IGRvLlxuLy8gJEZsb3dJZ25vcmVbbWV0aG9kLXVuYmluZGluZ11cbmNvbnN0IF9oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGhhc093bjogKG9iajogJFJlYWRPbmx5PHsuLi59PiwgcHJvcDogc3RyaW5nKSA9PiBib29sZWFuID1cbiAgLy8gJEZsb3dJZ25vcmVbbWV0aG9kLXVuYmluZGluZ11cbiAgT2JqZWN0Lmhhc093biA/PyAoKG9iaiwgcHJvcCkgPT4gX2hhc093blByb3AuY2FsbChvYmosIHByb3ApKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFhQSxJQUFBQSx5QkFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsdUJBQUEsR0FBQUMsdUJBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQUQsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFNLGFBQUEsR0FBQUYsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFPLGVBQUEsR0FBQUgsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFRLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFKLE9BQUE7QUFDQSxJQUFBUyxzQkFBQSxHQUFBTCxzQkFBQSxDQUFBSixPQUFBO0FBQTBELElBQUFVLGNBQUE7QUFBQSxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQVYsd0JBQUFVLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQ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