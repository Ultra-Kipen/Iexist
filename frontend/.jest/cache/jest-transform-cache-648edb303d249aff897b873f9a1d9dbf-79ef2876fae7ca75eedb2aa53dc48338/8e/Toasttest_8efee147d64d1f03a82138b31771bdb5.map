{"version":3,"names":["_getJestObj","mock","mockAnimated","Value","jest","fn","setValue","interpolate","View","timing","start","callback","Animated","Text","TouchableOpacity","_ref","onPress","children","style","testID","_jsxRuntime","jsx","onClick","StyleSheet","create","styles","_interopRequireDefault","require","_react","_reactNative","_Toast","_interopRequireWildcard","_reactNative2","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_require","describe","beforeEach","useFakeTimers","afterEach","useRealTimers","clearAllMocks","it","_render","render","visible","message","getByText","expect","toBeTruthy","_render2","queryByText","toBeNull","types","type","color","forEach","_ref2","_render3","_render4","position","_render5","onClose","duration","act","advanceTimersByTime","toHaveBeenCalled","_render6","getByTestId","fireEvent","press","TestIcon","_render7","icon","mockInstance","show","hide","ToastController","setRef","toHaveBeenCalledWith","toHaveBeenCalledTimes","not","toThrow"],"sources":["Toast.test.tsx"],"sourcesContent":["// __tests__/components/Toast.test.tsx\r\nimport React from 'react';\r\nimport { render, act, fireEvent } from '@testing-library/react-native';\r\nimport Toast, { ToastController } from '../../src/components/Toast';\r\nimport { Text } from 'react-native';\r\n\r\n// Animated 모킹\r\njest.mock('react-native', () => {\r\n  const mockAnimated = {\r\n    Value: jest.fn(() => ({\r\n      setValue: jest.fn(),\r\n      interpolate: jest.fn(() => ({ interpolate: jest.fn() })),\r\n    })),\r\n    View: 'View',\r\n    timing: jest.fn(() => ({\r\n      start: jest.fn(callback => callback && callback()),\r\n    })),\r\n  };\r\n\r\n  return {\r\n    Animated: mockAnimated,\r\n    View: 'View',\r\n    Text: 'Text',\r\n    TouchableOpacity: ({ onPress, children, style, testID }) => (\r\n      <div onClick={onPress} style={style} data-testid={testID}>\r\n        {children}\r\n      </div>\r\n    ),\r\n    StyleSheet: {\r\n      create: styles => styles,\r\n    },\r\n  };\r\n});\r\n\r\ndescribe('Toast', () => {\r\n  beforeEach(() => {\r\n    jest.useFakeTimers();\r\n  });\r\n\r\n  afterEach(() => {\r\n    jest.useRealTimers();\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  it('renders correctly with default props', () => {\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" />\r\n    );\r\n    \r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('does not render when visible is false', () => {\r\n    const { queryByText } = render(\r\n      <Toast visible={false} message=\"테스트 메시지\" />\r\n    );\r\n    \r\n    expect(queryByText('테스트 메시지')).toBeNull();\r\n  });\r\n\r\n  it('renders with different background colors based on type', () => {\r\n    const types = [\r\n      { type: 'success', color: '#4CAF50' },\r\n      { type: 'error', color: '#F44336' },\r\n      { type: 'warning', color: '#FF9800' },\r\n      { type: 'info', color: '#2196F3' },\r\n    ];\r\n    \r\n    types.forEach(({ type }) => {\r\n      const { getByText } = render(\r\n        <Toast visible={true} message=\"테스트 메시지\" type={type as any} />\r\n      );\r\n      \r\n      // 메시지가 렌더링되는지 확인\r\n      expect(getByText('테스트 메시지')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  it('renders at the top when position is set to top', () => {\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" position=\"top\" />\r\n    );\r\n    \r\n    // 메시지가 렌더링되는지 확인\r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('renders at the bottom by default', () => {\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" />\r\n    );\r\n    \r\n    // 메시지가 렌더링되는지 확인\r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('calls onClose after duration', () => {\r\n    const onClose = jest.fn();\r\n    render(\r\n      <Toast visible={true} message=\"테스트 메시지\" duration={3000} onClose={onClose} />\r\n    );\r\n    \r\n    // 타이머 진행\r\n    act(() => {\r\n      jest.advanceTimersByTime(3300); // 300ms 애니메이션 + 3000ms 타이머\r\n    });\r\n    \r\n    // onClose가 호출되었는지 확인\r\n    expect(onClose).toHaveBeenCalled();\r\n  });\r\n\r\n  it('hides when tapped', () => {\r\n    const onClose = jest.fn();\r\n    const { getByTestId } = render(\r\n        <Toast visible={true} message=\"테스트 메시지\" onClose={onClose} />\r\n      );\r\n      \r\n      // 토스트 터치\r\n      fireEvent.press(getByTestId('toast-touchable'));\r\n    \r\n    // 애니메이션 완료\r\n    act(() => {\r\n      jest.advanceTimersByTime(300); // 애니메이션 시간\r\n    });\r\n    \r\n    // onClose가 호출되었는지 확인\r\n    expect(onClose).toHaveBeenCalled();\r\n  });\r\n\r\n  it('renders icon when provided', () => {\r\n    const TestIcon = () => <Text>아이콘</Text>;\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" icon={<TestIcon />} />\r\n    );\r\n    \r\n    // 아이콘과 메시지가 모두 렌더링되는지 확인\r\n    expect(getByText('아이콘')).toBeTruthy();\r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('ToastController manages instances correctly', () => {\r\n    // 모의 인스턴스 생성\r\n    const mockInstance = {\r\n      show: jest.fn(),\r\n      hide: jest.fn(),\r\n    };\r\n    \r\n    // ToastController에 인스턴스 설정\r\n    ToastController.setRef(mockInstance);\r\n    \r\n    // Controller 메서드 호출\r\n    ToastController.show({ message: '테스트 메시지' });\r\n    ToastController.hide();\r\n    \r\n    // 모의 인스턴스 메서드가 호출되었는지 확인\r\n    expect(mockInstance.show).toHaveBeenCalledWith({ message: '테스트 메시지' });\r\n    expect(mockInstance.hide).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('ToastController handles missing instance gracefully', () => {\r\n    // 인스턴스를 null로 설정\r\n    ToastController.setRef(null);\r\n    \r\n    // 에러가 발생하지 않아야 함\r\n    expect(() => {\r\n      ToastController.show({ message: '테스트 메시지' });\r\n      ToastController.hide();\r\n    }).not.toThrow();\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}