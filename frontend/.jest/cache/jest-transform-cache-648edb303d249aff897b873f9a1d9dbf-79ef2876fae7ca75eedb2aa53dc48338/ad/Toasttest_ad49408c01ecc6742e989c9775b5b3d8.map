{"version":3,"names":["_getJestObj","mock","rn","jest","requireActual","Object","assign","Animated","Value","fn","setValue","interpolate","timing","start","callback","_interopRequireDefault","require","_react","_reactNative","_Toast","_interopRequireWildcard","_reactNative2","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_require","useFakeTimers","TestIcon","jsx","Text","testID","children","describe","afterEach","clearAllMocks","clearAllTimers","test","_render","render","visible","message","getByTestId","getByText","expect","toBeTruthy","_render2","queryByTestId","toBeNull","types","forEach","type","_render3","_render4","position","_render5","icon","onClose","_render6","fireEvent","press","act","runAllTimers","toHaveBeenCalled","duration","advanceTimersByTime","_render7","rerender","mockToast","show","hide","ToastController","setRef","toHaveBeenCalledWith","not","toThrow"],"sources":["Toast.test.tsx"],"sourcesContent":["// __tests__/components/Toast.test.tsx\r\nimport React from 'react';\r\nimport { render, act, fireEvent } from '@testing-library/react-native';\r\nimport Toast, { ToastController } from '../../src/components/Toast';\r\nimport { Text, Animated } from 'react-native';\r\n\r\n// 타이머 모킹\r\njest.useFakeTimers();\r\n\r\n// Animated 모듈 모킹\r\njest.mock('react-native', () => {\r\n  const rn = jest.requireActual('react-native');\r\n  \r\n  return {\r\n    ...rn,\r\n    Animated: {\r\n      ...rn.Animated,\r\n      Value: jest.fn(() => ({\r\n        setValue: jest.fn(),\r\n        interpolate: jest.fn(() => ({})),\r\n      })),\r\n      timing: jest.fn(() => ({\r\n        start: jest.fn(callback => callback && callback()),\r\n      })),\r\n    },\r\n  };\r\n});\r\n\r\n// 간단한 아이콘 컴포넌트 정의\r\nconst TestIcon = () => <Text testID=\"test-icon\">아이콘</Text>;\r\n\r\ndescribe('Toast', () => {\r\n  afterEach(() => {\r\n    jest.clearAllMocks();\r\n    jest.clearAllTimers();\r\n  });\r\n\r\n  test('renders correctly with default props', () => {\r\n    const { getByTestId, getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" testID=\"toast\" />\r\n    );\r\n    \r\n    expect(getByTestId('toast')).toBeTruthy();\r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  test('does not render when visible is false', () => {\r\n    const { queryByTestId } = render(\r\n      <Toast visible={false} message=\"테스트 메시지\" testID=\"toast\" />\r\n    );\r\n    \r\n    expect(queryByTestId('toast')).toBeNull();\r\n  });\r\n\r\n  test('renders with different types', () => {\r\n    const types: Array<'success' | 'error' | 'info' | 'warning'> = ['success', 'error', 'info', 'warning'];\r\n    \r\n    types.forEach(type => {\r\n      const { getByTestId } = render(\r\n        <Toast visible={true} message=\"테스트 메시지\" type={type} testID=\"toast\" />\r\n      );\r\n      expect(getByTestId('toast')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  test('renders with top position', () => {\r\n    const { getByTestId } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" position=\"top\" testID=\"toast\" />\r\n    );\r\n    \r\n    expect(getByTestId('toast')).toBeTruthy();\r\n  });\r\n\r\n  test('icon renders correctly', () => {\r\n    const { getByTestId } = render(\r\n      <Toast \r\n        visible={true} \r\n        message=\"테스트 메시지\" \r\n        icon={<TestIcon />} \r\n        testID=\"toast\"\r\n      />\r\n    );\r\n    \r\n    expect(getByTestId('test-icon')).toBeTruthy();\r\n  });\r\n\r\n  test('closes when pressed', () => {\r\n    const onClose = jest.fn();\r\n    \r\n    const { getByTestId } = render(\r\n      <Toast \r\n        visible={true} \r\n        message=\"테스트 메시지\" \r\n        onClose={onClose} \r\n        testID=\"toast\"\r\n      />\r\n    );\r\n    \r\n    fireEvent.press(getByTestId('toast-touchable'));\r\n    \r\n    // 애니메이션 실행 후 onClose 호출\r\n    act(() => {\r\n      jest.runAllTimers();\r\n    });\r\n    \r\n    expect(onClose).toHaveBeenCalled();\r\n  });\r\n\r\n  test('onClose is called after duration', () => {\r\n    const onClose = jest.fn();\r\n    \r\n    render(\r\n      <Toast \r\n        visible={true} \r\n        message=\"테스트 메시지\" \r\n        duration={1000} \r\n        onClose={onClose} \r\n        testID=\"toast\"\r\n      />\r\n    );\r\n    \r\n    // 타이머 진행\r\n    act(() => {\r\n      jest.advanceTimersByTime(1000);\r\n    });\r\n    \r\n    // 애니메이션 실행 후 onClose 호출\r\n    act(() => {\r\n      jest.runAllTimers();\r\n    });\r\n    \r\n    expect(onClose).toHaveBeenCalled();\r\n  });\r\n\r\n  test('hide animation works correctly', () => {\r\n    const onClose = jest.fn();\r\n    \r\n    const { rerender } = render(\r\n      <Toast \r\n        visible={true} \r\n        message=\"테스트 메시지\" \r\n        onClose={onClose} \r\n        testID=\"toast\"\r\n      />\r\n    );\r\n    \r\n    // visible prop을 false로 변경\r\n    rerender(\r\n      <Toast \r\n        visible={false} \r\n        message=\"테스트 메시지\" \r\n        onClose={onClose} \r\n        testID=\"toast\"\r\n      />\r\n    );\r\n    \r\n    // 애니메이션 실행 후 onClose 호출\r\n    act(() => {\r\n      jest.runAllTimers();\r\n    });\r\n    \r\n    expect(onClose).toHaveBeenCalled();\r\n  });\r\n\r\n  test('ToastController should handle show and hide', () => {\r\n    const mockToast = {\r\n      show: jest.fn(),\r\n      hide: jest.fn()\r\n    };\r\n    \r\n    ToastController.setRef(mockToast);\r\n    \r\n    ToastController.show({ message: '테스트 메시지' });\r\n    expect(mockToast.show).toHaveBeenCalledWith({ message: '테스트 메시지' });\r\n    \r\n    ToastController.hide();\r\n    expect(mockToast.hide).toHaveBeenCalled();\r\n  });\r\n\r\n  test('ToastController handles missing instance', () => {\r\n    ToastController.setRef(null);\r\n    \r\n    expect(() => {\r\n      ToastController.show({ message: '테스트 메시지' });\r\n      ToastController.hide();\r\n    }).not.toThrow();\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}