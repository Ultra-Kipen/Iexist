632cbd87b30a1a35d1d1b3102bdc90bb
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _StoreContext = require("../../src/store/StoreContext");
var _reducer = require("../../src/store/reducer");
var _types = require("../../src/store/types");
var _jsxRuntime = require("react/jsx-runtime");
var TestComponent = function TestComponent() {
  var _useStore = (0, _StoreContext.useStore)(),
    state = _useStore.state,
    dispatch = _useStore.dispatch;
  return (0, _jsxRuntime.jsxs)("div", {
    children: [(0, _jsxRuntime.jsx)("div", {
      "data-testid": "auth-status",
      children: state.isAuthenticated ? 'authenticated' : 'not-authenticated'
    }), (0, _jsxRuntime.jsx)("button", {
      onClick: function onClick() {
        return dispatch({
          type: _types.ActionType.SET_AUTHENTICATED,
          payload: !state.isAuthenticated
        });
      },
      "data-testid": "toggle-auth",
      children: "Toggle Auth"
    })]
  });
};
describe('StoreContext', function () {
  test('StoreProvider는 상태와 디스패치 함수를 제공한다', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_StoreContext.StoreProvider, {
      children: (0, _jsxRuntime.jsx)(TestComponent, {})
    }));
    expect(_reactNative.screen.getByTestId('auth-status').textContent).toBe('not-authenticated');
    _reactNative.screen.getByTestId('toggle-auth').click();
    expect(_reactNative.screen.getByTestId('auth-status').textContent).toBe('authenticated');
  });
  test('초기 상태가 올바르게 설정된다', function () {
    var StateCheckComponent = function StateCheckComponent() {
      var _useStore2 = (0, _StoreContext.useStore)(),
        state = _useStore2.state;
      return (0, _jsxRuntime.jsxs)("div", {
        children: [(0, _jsxRuntime.jsx)("div", {
          "data-testid": "is-authenticated",
          children: String(state.isAuthenticated)
        }), (0, _jsxRuntime.jsx)("div", {
          "data-testid": "user",
          children: state.user === null ? 'null' : 'user'
        }), (0, _jsxRuntime.jsx)("div", {
          "data-testid": "notifications-count",
          children: state.notifications.length
        }), (0, _jsxRuntime.jsx)("div", {
          "data-testid": "theme",
          children: state.theme
        }), (0, _jsxRuntime.jsx)("div", {
          "data-testid": "loading",
          children: String(state.loading)
        }), (0, _jsxRuntime.jsx)("div", {
          "data-testid": "error",
          children: state.error === null ? 'null' : state.error
        })]
      });
    };
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_StoreContext.StoreProvider, {
      children: (0, _jsxRuntime.jsx)(StateCheckComponent, {})
    }));
    expect(_reactNative.screen.getByTestId('is-authenticated').textContent).toBe(String(_reducer.initialState.isAuthenticated));
    expect(_reactNative.screen.getByTestId('user').textContent).toBe('null');
    expect(_reactNative.screen.getByTestId('notifications-count').textContent).toBe('0');
    expect(_reactNative.screen.getByTestId('theme').textContent).toBe(_reducer.initialState.theme);
    expect(_reactNative.screen.getByTestId('loading').textContent).toBe(String(_reducer.initialState.loading));
    expect(_reactNative.screen.getByTestId('error').textContent).toBe('null');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9TdG9yZUNvbnRleHQiLCJfcmVkdWNlciIsIl90eXBlcyIsIl9qc3hSdW50aW1lIiwiVGVzdENvbXBvbmVudCIsIl91c2VTdG9yZSIsInVzZVN0b3JlIiwic3RhdGUiLCJkaXNwYXRjaCIsImpzeHMiLCJjaGlsZHJlbiIsImpzeCIsImlzQXV0aGVudGljYXRlZCIsIm9uQ2xpY2siLCJ0eXBlIiwiQWN0aW9uVHlwZSIsIlNFVF9BVVRIRU5USUNBVEVEIiwicGF5bG9hZCIsImRlc2NyaWJlIiwidGVzdCIsInJlbmRlciIsIlN0b3JlUHJvdmlkZXIiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsInRleHRDb250ZW50IiwidG9CZSIsImNsaWNrIiwiU3RhdGVDaGVja0NvbXBvbmVudCIsIl91c2VTdG9yZTIiLCJTdHJpbmciLCJ1c2VyIiwibm90aWZpY2F0aW9ucyIsImxlbmd0aCIsInRoZW1lIiwibG9hZGluZyIsImVycm9yIiwiaW5pdGlhbFN0YXRlIl0sInNvdXJjZXMiOlsiU3RvcmVDb250ZXh0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyBTdG9yZVByb3ZpZGVyLCB1c2VTdG9yZSB9IGZyb20gJy4uLy4uL3NyYy9zdG9yZS9TdG9yZUNvbnRleHQnO1xyXG5pbXBvcnQgeyBpbml0aWFsU3RhdGUgfSBmcm9tICcuLi8uLi9zcmMvc3RvcmUvcmVkdWNlcic7XHJcbmltcG9ydCB7IEFjdGlvblR5cGUgfSBmcm9tICcuLi8uLi9zcmMvc3RvcmUvdHlwZXMnO1xyXG5cclxuLy8g7YWM7Iqk7Yq47JqpIOy7tO2PrOuEjO2KuFxyXG5jb25zdCBUZXN0Q29tcG9uZW50ID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB1c2VTdG9yZSgpO1xyXG4gIFxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2PlxyXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiYXV0aC1zdGF0dXNcIj57c3RhdGUuaXNBdXRoZW50aWNhdGVkID8gJ2F1dGhlbnRpY2F0ZWQnIDogJ25vdC1hdXRoZW50aWNhdGVkJ308L2Rpdj5cclxuICAgICAgPGJ1dHRvbiBcclxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaCh7IFxyXG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5TRVRfQVVUSEVOVElDQVRFRCwgXHJcbiAgICAgICAgICBwYXlsb2FkOiAhc3RhdGUuaXNBdXRoZW50aWNhdGVkIFxyXG4gICAgICAgIH0pfVxyXG4gICAgICAgIGRhdGEtdGVzdGlkPVwidG9nZ2xlLWF1dGhcIlxyXG4gICAgICA+XHJcbiAgICAgICAgVG9nZ2xlIEF1dGhcclxuICAgICAgPC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZGVzY3JpYmUoJ1N0b3JlQ29udGV4dCcsICgpID0+IHtcclxuICB0ZXN0KCdTdG9yZVByb3ZpZGVy64qUIOyDge2DnOyZgCDrlJTsiqTtjKjsuZgg7ZWo7IiY66W8IOygnOqzte2VnOuLpCcsICgpID0+IHtcclxuICAgIHJlbmRlcihcclxuICAgICAgPFN0b3JlUHJvdmlkZXI+XHJcbiAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cclxuICAgICAgPC9TdG9yZVByb3ZpZGVyPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8g7LSI6riwIOyDge2DnCDtmZXsnbhcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2F1dGgtc3RhdHVzJykudGV4dENvbnRlbnQpLnRvQmUoJ25vdC1hdXRoZW50aWNhdGVkJyk7XHJcbiAgICBcclxuICAgIC8vIOuUlOyKpO2MqOy5mCDtlajsiJjqsIAg7J6R64+Z7ZWY64qU7KeAIO2ZleyduFxyXG4gICAgc2NyZWVuLmdldEJ5VGVzdElkKCd0b2dnbGUtYXV0aCcpLmNsaWNrKCk7XHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdhdXRoLXN0YXR1cycpLnRleHRDb250ZW50KS50b0JlKCdhdXRoZW50aWNhdGVkJyk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgdGVzdCgn7LSI6riwIOyDge2DnOqwgCDsmKzrsJTrpbTqsowg7ISk7KCV65Cc64ukJywgKCkgPT4ge1xyXG4gICAgLy8g7YWM7Iqk7Yq47JqpIOy7tO2PrOuEjO2KuFxyXG4gICAgY29uc3QgU3RhdGVDaGVja0NvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdXNlU3RvcmUoKTtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImlzLWF1dGhlbnRpY2F0ZWRcIj57U3RyaW5nKHN0YXRlLmlzQXV0aGVudGljYXRlZCl9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwidXNlclwiPntzdGF0ZS51c2VyID09PSBudWxsID8gJ251bGwnIDogJ3VzZXInfTwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cIm5vdGlmaWNhdGlvbnMtY291bnRcIj57c3RhdGUubm90aWZpY2F0aW9ucy5sZW5ndGh9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwidGhlbWVcIj57c3RhdGUudGhlbWV9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwibG9hZGluZ1wiPntTdHJpbmcoc3RhdGUubG9hZGluZyl9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiZXJyb3JcIj57c3RhdGUuZXJyb3IgPT09IG51bGwgPyAnbnVsbCcgOiBzdGF0ZS5lcnJvcn08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHJlbmRlcihcclxuICAgICAgPFN0b3JlUHJvdmlkZXI+XHJcbiAgICAgICAgPFN0YXRlQ2hlY2tDb21wb25lbnQgLz5cclxuICAgICAgPC9TdG9yZVByb3ZpZGVyPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8g7LSI6riwIOyDge2DnCDtmZXsnbhcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2lzLWF1dGhlbnRpY2F0ZWQnKS50ZXh0Q29udGVudCkudG9CZShTdHJpbmcoaW5pdGlhbFN0YXRlLmlzQXV0aGVudGljYXRlZCkpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgndXNlcicpLnRleHRDb250ZW50KS50b0JlKCdudWxsJyk7XHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdub3RpZmljYXRpb25zLWNvdW50JykudGV4dENvbnRlbnQpLnRvQmUoJzAnKTtcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3RoZW1lJykudGV4dENvbnRlbnQpLnRvQmUoaW5pdGlhbFN0YXRlLnRoZW1lKTtcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvYWRpbmcnKS50ZXh0Q29udGVudCkudG9CZShTdHJpbmcoaW5pdGlhbFN0YXRlLmxvYWRpbmcpKTtcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Vycm9yJykudGV4dENvbnRlbnQpLnRvQmUoJ251bGwnKTtcclxuICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsYUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksTUFBQSxHQUFBSixPQUFBO0FBQW1ELElBQUFLLFdBQUEsR0FBQUwsT0FBQTtBQUduRCxJQUFNTSxhQUFhLEdBQUcsU0FB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