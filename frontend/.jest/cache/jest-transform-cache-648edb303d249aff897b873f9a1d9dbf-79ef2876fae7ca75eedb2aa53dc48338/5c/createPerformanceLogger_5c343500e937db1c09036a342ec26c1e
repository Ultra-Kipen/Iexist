2c265f62e1250a3f04d2f415d71ee8ce
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createPerformanceLogger;
exports.getCurrentTimestamp = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _infoLog = _interopRequireDefault(require("./infoLog"));
var _global$nativeQPLTime;
var PRINT_TO_CONSOLE = false;
var getCurrentTimestamp = exports.getCurrentTimestamp = (_global$nativeQPLTime = global.nativeQPLTimestamp) != null ? _global$nativeQPLTime : function () {
  return global.performance.now();
};
var PerformanceLogger = function () {
  function PerformanceLogger() {
    (0, _classCallCheck2.default)(this, PerformanceLogger);
    this._timespans = {};
    this._extras = {};
    this._points = {};
    this._pointExtras = {};
    this._closed = false;
  }
  return (0, _createClass2.default)(PerformanceLogger, [{
    key: "addTimespan",
    value: function addTimespan(key, startTime, endTime, startExtras, endExtras) {
      if (this._closed) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: addTimespan - has closed ignoring: ', key);
        }
        return;
      }
      if (this._timespans[key]) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: Attempting to add a timespan that already exists ', key);
        }
        return;
      }
      this._timespans[key] = {
        startTime: startTime,
        endTime: endTime,
        totalTime: endTime - (startTime || 0),
        startExtras: startExtras,
        endExtras: endExtras
      };
    }
  }, {
    key: "append",
    value: function append(performanceLogger) {
      this._timespans = Object.assign({}, performanceLogger.getTimespans(), this._timespans);
      this._extras = Object.assign({}, performanceLogger.getExtras(), this._extras);
      this._points = Object.assign({}, performanceLogger.getPoints(), this._points);
      this._pointExtras = Object.assign({}, performanceLogger.getPointExtras(), this._pointExtras);
    }
  }, {
    key: "clear",
    value: function clear() {
      this._timespans = {};
      this._extras = {};
      this._points = {};
      if (PRINT_TO_CONSOLE) {
        (0, _infoLog.default)('PerformanceLogger.js', 'clear');
      }
    }
  }, {
    key: "clearCompleted",
    value: function clearCompleted() {
      for (var _key in this._timespans) {
        var _this$_timespans$_key;
        if (((_this$_timespans$_key = this._timespans[_key]) == null ? void 0 : _this$_timespans$_key.totalTime) != null) {
          delete this._timespans[_key];
        }
      }
      this._extras = {};
      this._points = {};
      if (PRINT_TO_CONSOLE) {
        (0, _infoLog.default)('PerformanceLogger.js', 'clearCompleted');
      }
    }
  }, {
    key: "close",
    value: function close() {
      this._closed = true;
    }
  }, {
    key: "currentTimestamp",
    value: function currentTimestamp() {
      return getCurrentTimestamp();
    }
  }, {
    key: "getExtras",
    value: function getExtras() {
      return this._extras;
    }
  }, {
    key: "getPoints",
    value: function getPoints() {
      return this._points;
    }
  }, {
    key: "getPointExtras",
    value: function getPointExtras() {
      return this._pointExtras;
    }
  }, {
    key: "getTimespans",
    value: function getTimespans() {
      return this._timespans;
    }
  }, {
    key: "hasTimespan",
    value: function hasTimespan(key) {
      return !!this._timespans[key];
    }
  }, {
    key: "isClosed",
    value: function isClosed() {
      return this._closed;
    }
  }, {
    key: "logEverything",
    value: function logEverything() {
      if (PRINT_TO_CONSOLE) {
        for (var _key2 in this._timespans) {
          var _this$_timespans$_key2;
          if (((_this$_timespans$_key2 = this._timespans[_key2]) == null ? void 0 : _this$_timespans$_key2.totalTime) != null) {
            (0, _infoLog.default)(_key2 + ': ' + this._timespans[_key2].totalTime + 'ms');
          }
        }
        (0, _infoLog.default)(this._extras);
        for (var _key3 in this._points) {
          if (this._points[_key3] != null) {
            (0, _infoLog.default)(_key3 + ': ' + this._points[_key3] + 'ms');
          }
        }
      }
    }
  }, {
    key: "markPoint",
    value: function markPoint(key) {
      var timestamp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentTimestamp();
      var extras = arguments.length > 2 ? arguments[2] : undefined;
      if (this._closed) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: markPoint - has closed ignoring: ', key);
        }
        return;
      }
      if (this._points[key] != null) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: Attempting to mark a point that has been already logged ', key);
        }
        return;
      }
      this._points[key] = timestamp;
      if (extras) {
        this._pointExtras[key] = extras;
      }
    }
  }, {
    key: "removeExtra",
    value: function removeExtra(key) {
      var value = this._extras[key];
      delete this._extras[key];
      return value;
    }
  }, {
    key: "setExtra",
    value: function setExtra(key, value) {
      if (this._closed) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: setExtra - has closed ignoring: ', key);
        }
        return;
      }
      if (this._extras.hasOwnProperty(key)) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: Attempting to set an extra that already exists ', {
            key: key,
            currentValue: this._extras[key],
            attemptedValue: value
          });
        }
        return;
      }
      this._extras[key] = value;
    }
  }, {
    key: "startTimespan",
    value: function startTimespan(key) {
      var timestamp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentTimestamp();
      var extras = arguments.length > 2 ? arguments[2] : undefined;
      if (this._closed) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: startTimespan - has closed ignoring: ', key);
        }
        return;
      }
      if (this._timespans[key]) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: Attempting to start a timespan that already exists ', key);
        }
        return;
      }
      this._timespans[key] = {
        startTime: timestamp,
        startExtras: extras
      };
      if (PRINT_TO_CONSOLE) {
        (0, _infoLog.default)('PerformanceLogger.js', 'start: ' + key);
      }
    }
  }, {
    key: "stopTimespan",
    value: function stopTimespan(key) {
      var timestamp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentTimestamp();
      var extras = arguments.length > 2 ? arguments[2] : undefined;
      if (this._closed) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: stopTimespan - has closed ignoring: ', key);
        }
        return;
      }
      var timespan = this._timespans[key];
      if (!timespan || timespan.startTime == null) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: Attempting to end a timespan that has not started ', key);
        }
        return;
      }
      if (timespan.endTime != null) {
        if (PRINT_TO_CONSOLE && true) {
          (0, _infoLog.default)('PerformanceLogger: Attempting to end a timespan that has already ended ', key);
        }
        return;
      }
      timespan.endExtras = extras;
      timespan.endTime = timestamp;
      timespan.totalTime = timespan.endTime - (timespan.startTime || 0);
      if (PRINT_TO_CONSOLE) {
        (0, _infoLog.default)('PerformanceLogger.js', 'end: ' + key);
      }
    }
  }]);
}();
function createPerformanceLogger() {
  return new PerformanceLogger();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW5mb0xvZyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2dsb2JhbCRuYXRpdmVRUExUaW1lIiwiUFJJTlRfVE9fQ09OU09MRSIsImdldEN1cnJlbnRUaW1lc3RhbXAiLCJleHBvcnRzIiwiZ2xvYmFsIiwibmF0aXZlUVBMVGltZXN0YW1wIiwicGVyZm9ybWFuY2UiLCJub3ciLCJQZXJmb3JtYW5jZUxvZ2dlciIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwiX3RpbWVzcGFucyIsIl9leHRyYXMiLCJfcG9pbnRzIiwiX3BvaW50RXh0cmFzIiwiX2Nsb3NlZCIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsImFkZFRpbWVzcGFuIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInN0YXJ0RXh0cmFzIiwiZW5kRXh0cmFzIiwiaW5mb0xvZyIsInRvdGFsVGltZSIsImFwcGVuZCIsInBlcmZvcm1hbmNlTG9nZ2VyIiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0VGltZXNwYW5zIiwiZ2V0RXh0cmFzIiwiZ2V0UG9pbnRzIiwiZ2V0UG9pbnRFeHRyYXMiLCJjbGVhciIsImNsZWFyQ29tcGxldGVkIiwiX3RoaXMkX3RpbWVzcGFucyRfa2V5IiwiY2xvc2UiLCJjdXJyZW50VGltZXN0YW1wIiwiaGFzVGltZXNwYW4iLCJpc0Nsb3NlZCIsImxvZ0V2ZXJ5dGhpbmciLCJfdGhpcyRfdGltZXNwYW5zJF9rZXkyIiwibWFya1BvaW50IiwidGltZXN0YW1wIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZXh0cmFzIiwicmVtb3ZlRXh0cmEiLCJzZXRFeHRyYSIsImhhc093blByb3BlcnR5IiwiY3VycmVudFZhbHVlIiwiYXR0ZW1wdGVkVmFsdWUiLCJzdGFydFRpbWVzcGFuIiwic3RvcFRpbWVzcGFuIiwidGltZXNwYW4iLCJjcmVhdGVQZXJmb3JtYW5jZUxvZ2dlciJdLCJzb3VyY2VzIjpbImNyZWF0ZVBlcmZvcm1hbmNlTG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3RcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7XG4gIEV4dHJhcyxcbiAgRXh0cmFWYWx1ZSxcbiAgSVBlcmZvcm1hbmNlTG9nZ2VyLFxuICBUaW1lc3Bhbixcbn0gZnJvbSAnLi9JUGVyZm9ybWFuY2VMb2dnZXInO1xuXG5pbXBvcnQgaW5mb0xvZyBmcm9tICcuL2luZm9Mb2cnO1xuXG5jb25zdCBQUklOVF9UT19DT05TT0xFOiBmYWxzZSA9IGZhbHNlOyAvLyBUeXBlIGFzIGZhbHNlIHRvIHByZXZlbnQgYWNjaWRlbnRhbGx5IGNvbW1pdHRpbmcgYHRydWVgO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFRpbWVzdGFtcDogKCkgPT4gbnVtYmVyID1cbiAgZ2xvYmFsLm5hdGl2ZVFQTFRpbWVzdGFtcCA/PyAoKCkgPT4gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpKTtcblxuY2xhc3MgUGVyZm9ybWFuY2VMb2dnZXIgaW1wbGVtZW50cyBJUGVyZm9ybWFuY2VMb2dnZXIge1xuICBfdGltZXNwYW5zOiB7W2tleTogc3RyaW5nXTogP1RpbWVzcGFufSA9IHt9O1xuICBfZXh0cmFzOiB7W2tleTogc3RyaW5nXTogP0V4dHJhVmFsdWV9ID0ge307XG4gIF9wb2ludHM6IHtba2V5OiBzdHJpbmddOiA/bnVtYmVyfSA9IHt9O1xuICBfcG9pbnRFeHRyYXM6IHtba2V5OiBzdHJpbmddOiA/RXh0cmFzLCAuLi59ID0ge307XG4gIF9jbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBhZGRUaW1lc3BhbihcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGFydFRpbWU6IG51bWJlcixcbiAgICBlbmRUaW1lOiBudW1iZXIsXG4gICAgc3RhcnRFeHRyYXM/OiBFeHRyYXMsXG4gICAgZW5kRXh0cmFzPzogRXh0cmFzLFxuICApIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGluZm9Mb2coJ1BlcmZvcm1hbmNlTG9nZ2VyOiBhZGRUaW1lc3BhbiAtIGhhcyBjbG9zZWQgaWdub3Jpbmc6ICcsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl90aW1lc3BhbnNba2V5XSkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBpbmZvTG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBhZGQgYSB0aW1lc3BhbiB0aGF0IGFscmVhZHkgZXhpc3RzICcsXG4gICAgICAgICAga2V5LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3RpbWVzcGFuc1trZXldID0ge1xuICAgICAgc3RhcnRUaW1lLFxuICAgICAgZW5kVGltZSxcbiAgICAgIHRvdGFsVGltZTogZW5kVGltZSAtIChzdGFydFRpbWUgfHwgMCksXG4gICAgICBzdGFydEV4dHJhcyxcbiAgICAgIGVuZEV4dHJhcyxcbiAgICB9O1xuICB9XG5cbiAgYXBwZW5kKHBlcmZvcm1hbmNlTG9nZ2VyOiBJUGVyZm9ybWFuY2VMb2dnZXIpIHtcbiAgICB0aGlzLl90aW1lc3BhbnMgPSB7XG4gICAgICAuLi5wZXJmb3JtYW5jZUxvZ2dlci5nZXRUaW1lc3BhbnMoKSxcbiAgICAgIC4uLnRoaXMuX3RpbWVzcGFucyxcbiAgICB9O1xuICAgIHRoaXMuX2V4dHJhcyA9IHsuLi5wZXJmb3JtYW5jZUxvZ2dlci5nZXRFeHRyYXMoKSwgLi4udGhpcy5fZXh0cmFzfTtcbiAgICB0aGlzLl9wb2ludHMgPSB7Li4ucGVyZm9ybWFuY2VMb2dnZXIuZ2V0UG9pbnRzKCksIC4uLnRoaXMuX3BvaW50c307XG4gICAgdGhpcy5fcG9pbnRFeHRyYXMgPSB7XG4gICAgICAuLi5wZXJmb3JtYW5jZUxvZ2dlci5nZXRQb2ludEV4dHJhcygpLFxuICAgICAgLi4udGhpcy5fcG9pbnRFeHRyYXMsXG4gICAgfTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX3RpbWVzcGFucyA9IHt9O1xuICAgIHRoaXMuX2V4dHJhcyA9IHt9O1xuICAgIHRoaXMuX3BvaW50cyA9IHt9O1xuICAgIGlmIChQUklOVF9UT19DT05TT0xFKSB7XG4gICAgICBpbmZvTG9nKCdQZXJmb3JtYW5jZUxvZ2dlci5qcycsICdjbGVhcicpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyQ29tcGxldGVkKCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX3RpbWVzcGFucykge1xuICAgICAgaWYgKHRoaXMuX3RpbWVzcGFuc1trZXldPy50b3RhbFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fdGltZXNwYW5zW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2V4dHJhcyA9IHt9O1xuICAgIHRoaXMuX3BvaW50cyA9IHt9O1xuICAgIGlmIChQUklOVF9UT19DT05TT0xFKSB7XG4gICAgICBpbmZvTG9nKCdQZXJmb3JtYW5jZUxvZ2dlci5qcycsICdjbGVhckNvbXBsZXRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gIH1cblxuICBjdXJyZW50VGltZXN0YW1wKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIGdldEN1cnJlbnRUaW1lc3RhbXAoKTtcbiAgfVxuXG4gIGdldEV4dHJhcygpOiB7W2tleTogc3RyaW5nXTogP0V4dHJhVmFsdWV9IHtcbiAgICByZXR1cm4gdGhpcy5fZXh0cmFzO1xuICB9XG5cbiAgZ2V0UG9pbnRzKCk6IHtba2V5OiBzdHJpbmddOiA/bnVtYmVyfSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50cztcbiAgfVxuXG4gIGdldFBvaW50RXh0cmFzKCk6IHtba2V5OiBzdHJpbmddOiA/RXh0cmFzfSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50RXh0cmFzO1xuICB9XG5cbiAgZ2V0VGltZXNwYW5zKCk6IHtba2V5OiBzdHJpbmddOiA/VGltZXNwYW59IHtcbiAgICByZXR1cm4gdGhpcy5fdGltZXNwYW5zO1xuICB9XG5cbiAgaGFzVGltZXNwYW4oa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLl90aW1lc3BhbnNba2V5XTtcbiAgfVxuXG4gIGlzQ2xvc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9jbG9zZWQ7XG4gIH1cblxuICBsb2dFdmVyeXRoaW5nKCkge1xuICAgIGlmIChQUklOVF9UT19DT05TT0xFKSB7XG4gICAgICAvLyBsb2cgdGltZXNwYW5zXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl90aW1lc3BhbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVzcGFuc1trZXldPy50b3RhbFRpbWUgIT0gbnVsbCkge1xuICAgICAgICAgIGluZm9Mb2coa2V5ICsgJzogJyArIHRoaXMuX3RpbWVzcGFuc1trZXldLnRvdGFsVGltZSArICdtcycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGxvZyBleHRyYXNcbiAgICAgIGluZm9Mb2codGhpcy5fZXh0cmFzKTtcblxuICAgICAgLy8gbG9nIHBvaW50c1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5fcG9pbnRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb2ludHNba2V5XSAhPSBudWxsKSB7XG4gICAgICAgICAgaW5mb0xvZyhrZXkgKyAnOiAnICsgdGhpcy5fcG9pbnRzW2tleV0gKyAnbXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hcmtQb2ludChcbiAgICBrZXk6IHN0cmluZyxcbiAgICB0aW1lc3RhbXA/OiBudW1iZXIgPSBnZXRDdXJyZW50VGltZXN0YW1wKCksXG4gICAgZXh0cmFzPzogRXh0cmFzLFxuICApIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGluZm9Mb2coJ1BlcmZvcm1hbmNlTG9nZ2VyOiBtYXJrUG9pbnQgLSBoYXMgY2xvc2VkIGlnbm9yaW5nOiAnLCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fcG9pbnRzW2tleV0gIT0gbnVsbCkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBpbmZvTG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBtYXJrIGEgcG9pbnQgdGhhdCBoYXMgYmVlbiBhbHJlYWR5IGxvZ2dlZCAnLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcG9pbnRzW2tleV0gPSB0aW1lc3RhbXA7XG4gICAgaWYgKGV4dHJhcykge1xuICAgICAgdGhpcy5fcG9pbnRFeHRyYXNba2V5XSA9IGV4dHJhcztcbiAgICB9XG4gIH1cblxuICByZW1vdmVFeHRyYShrZXk6IHN0cmluZyk6ID9FeHRyYVZhbHVlIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2V4dHJhc1trZXldO1xuICAgIGRlbGV0ZSB0aGlzLl9leHRyYXNba2V5XTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBzZXRFeHRyYShrZXk6IHN0cmluZywgdmFsdWU6IEV4dHJhVmFsdWUpIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGluZm9Mb2coJ1BlcmZvcm1hbmNlTG9nZ2VyOiBzZXRFeHRyYSAtIGhhcyBjbG9zZWQgaWdub3Jpbmc6ICcsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V4dHJhcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGluZm9Mb2coXG4gICAgICAgICAgJ1BlcmZvcm1hbmNlTG9nZ2VyOiBBdHRlbXB0aW5nIHRvIHNldCBhbiBleHRyYSB0aGF0IGFscmVhZHkgZXhpc3RzICcsXG4gICAgICAgICAge2tleSwgY3VycmVudFZhbHVlOiB0aGlzLl9leHRyYXNba2V5XSwgYXR0ZW1wdGVkVmFsdWU6IHZhbHVlfSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZXh0cmFzW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHN0YXJ0VGltZXNwYW4oXG4gICAga2V5OiBzdHJpbmcsXG4gICAgdGltZXN0YW1wPzogbnVtYmVyID0gZ2V0Q3VycmVudFRpbWVzdGFtcCgpLFxuICAgIGV4dHJhcz86IEV4dHJhcyxcbiAgKSB7XG4gICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBpbmZvTG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogc3RhcnRUaW1lc3BhbiAtIGhhcyBjbG9zZWQgaWdub3Jpbmc6ICcsXG4gICAgICAgICAga2V5LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl90aW1lc3BhbnNba2V5XSkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBpbmZvTG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBzdGFydCBhIHRpbWVzcGFuIHRoYXQgYWxyZWFkeSBleGlzdHMgJyxcbiAgICAgICAgICBrZXksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdGltZXNwYW5zW2tleV0gPSB7XG4gICAgICBzdGFydFRpbWU6IHRpbWVzdGFtcCxcbiAgICAgIHN0YXJ0RXh0cmFzOiBleHRyYXMsXG4gICAgfTtcbiAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSkge1xuICAgICAgaW5mb0xvZygnUGVyZm9ybWFuY2VMb2dnZXIuanMnLCAnc3RhcnQ6ICcgKyBrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3BUaW1lc3BhbihcbiAgICBrZXk6IHN0cmluZyxcbiAgICB0aW1lc3RhbXA/OiBudW1iZXIgPSBnZXRDdXJyZW50VGltZXN0YW1wKCksXG4gICAgZXh0cmFzPzogRXh0cmFzLFxuICApIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICBpZiAoUFJJTlRfVE9fQ09OU09MRSAmJiBfX0RFVl9fKSB7XG4gICAgICAgIGluZm9Mb2coJ1BlcmZvcm1hbmNlTG9nZ2VyOiBzdG9wVGltZXNwYW4gLSBoYXMgY2xvc2VkIGlnbm9yaW5nOiAnLCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVzcGFuID0gdGhpcy5fdGltZXNwYW5zW2tleV07XG4gICAgaWYgKCF0aW1lc3BhbiB8fCB0aW1lc3Bhbi5zdGFydFRpbWUgPT0gbnVsbCkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBpbmZvTG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBlbmQgYSB0aW1lc3BhbiB0aGF0IGhhcyBub3Qgc3RhcnRlZCAnLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRpbWVzcGFuLmVuZFRpbWUgIT0gbnVsbCkge1xuICAgICAgaWYgKFBSSU5UX1RPX0NPTlNPTEUgJiYgX19ERVZfXykge1xuICAgICAgICBpbmZvTG9nKFxuICAgICAgICAgICdQZXJmb3JtYW5jZUxvZ2dlcjogQXR0ZW1wdGluZyB0byBlbmQgYSB0aW1lc3BhbiB0aGF0IGhhcyBhbHJlYWR5IGVuZGVkICcsXG4gICAgICAgICAga2V5LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWVzcGFuLmVuZEV4dHJhcyA9IGV4dHJhcztcbiAgICB0aW1lc3Bhbi5lbmRUaW1lID0gdGltZXN0YW1wO1xuICAgIHRpbWVzcGFuLnRvdGFsVGltZSA9IHRpbWVzcGFuLmVuZFRpbWUgLSAodGltZXNwYW4uc3RhcnRUaW1lIHx8IDApO1xuICAgIGlmIChQUklOVF9UT19DT05TT0xFKSB7XG4gICAgICBpbmZvTG9nKCdQZXJmb3JtYW5jZUxvZ2dlci5qcycsICdlbmQ6ICcgKyBrZXkpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBSZS1leHBvcnRpbmcgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggYWxsIHRoZSBjbGllbnRzIHRoYXRcbi8vIG1heSBzdGlsbCBpbXBvcnQgaXQgZnJvbSB0aGlzIG1vZHVsZS5cbmV4cG9ydCB0eXBlIHtFeHRyYXMsIEV4dHJhVmFsdWUsIElQZXJmb3JtYW5jZUxvZ2dlciwgVGltZXNwYW59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBwZXJmb3JtYW5jZSBsb2dnZXJzIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29sbGVjdCBhbmQgbG9nXG4gKiB2YXJpb3VzIHBlcmZvcm1hbmNlIGRhdGEgc3VjaCBhcyB0aW1lc3BhbnMsIHBvaW50cyBhbmQgZXh0cmFzLlxuICogVGhlIGxvZ2dlcnMgbmVlZCB0byBoYXZlIG1pbmltYWwgb3ZlcmhlYWQgc2luY2UgdGhleSdyZSB1c2VkIGluIHByb2R1Y3Rpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVBlcmZvcm1hbmNlTG9nZ2VyKCk6IElQZXJmb3JtYW5jZUxvZ2dlciB7XG4gIHJldHVybiBuZXcgUGVyZm9ybWFuY2VMb2dnZXIoKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFpQkEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLElBQUFDLHFCQUFBO0FBRWhDLElBQU1DLGdCQUF1QixHQUFHLEtBQUs7QUFFOUIsSUFBTUMsbUJBQWlDLEdBQUFDLE9BQUEsQ0FBQUQsbUJBQUEsSUFBQUYscUJBQUEsR0FDNUNJLE1BQU0sQ0FBQ0Msa0JBQWtCLFlBQUFMLHFCQUFBLEdBQUs7RUFBQSxPQUFNSSxNQUFNLENBQUNFLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7QUFBQSxDQUFDO0FBQUMsSUFFMURDLGlCQUFpQjtFQUFBLFNBQUFBLGtCQUFBO0lBQUEsSUFBQUMsZ0JBQUEsQ0FBQUMsT0FBQSxRQUFBRixpQkFBQTtJQUFBLEtBQ3JCRyxVQUFVLEdBQStCLENBQUMsQ0FBQztJQUFBLEtBQzNDQyxPQUFPLEdBQWlDLENBQUMsQ0FBQztJQUFBLEtBQzFDQyxPQUFPLEdBQTZCLENBQUMsQ0FBQztJQUFBLEtBQ3RDQyxZQUFZLEdBQWtDLENBQUMsQ0FBQztJQUFBLEtBQ2hEQyxPQUFPLEdBQVksS0FBSztFQUFBO0VBQUEsV0FBQUMsYUFBQSxDQUFBTixPQUFBLEVBQUFGLGlCQUFBO0lBQUFTLEdBQUE7SUFBQUMsS0FBQSxFQUV4QixTQUFBQyxXQUFXQSxDQUNURixHQUFXLEVBQ1hHLFNBQWlCLEVBQ2pCQyxPQUFlLEVBQ2ZDLFdBQW9CLEVBQ3BCQyxTQUFrQixFQUNsQjtNQUNBLElBQUksSUFBSSxDQUFDUixPQUFPLEVBQUU7UUFDaEIsSUFBSWQsZ0JBQWdCLFFBQVcsRUFBRTtVQUMvQixJQUFBdUIsZ0JBQU8sRUFB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