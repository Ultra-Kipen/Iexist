57ddcc2a5de18b8e65d469baa35af824
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _HScrollViewNativeComponents = require("../../../src/private/components/HScrollViewNativeComponents");
var _VScrollViewNativeComponents = require("../../../src/private/components/VScrollViewNativeComponents");
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _invariant = _interopRequireDefault(require("invariant"));
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["experimental_endDraggingSensitivityMultiplier"];
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var ScrollView = function (_React$Component) {
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _callSuper(this, ScrollView, [props]);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardMetrics = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this.getScrollResponder = function () {
      return _this;
    };
    _this.getScrollableNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this.getNativeScrollRef());
    };
    _this.getInnerViewNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._innerView.nativeInstance);
    };
    _this.getInnerViewRef = function () {
      return _this._innerView.nativeInstance;
    };
    _this.getNativeScrollRef = function () {
      return _this._scrollView.nativeInstance;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(component, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(component, animated);
    };
    _this.flashScrollIndicators = function () {
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(component);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerView.nativeInstance == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, (0, _nullthrows.default)((0, _RendererProxy.findNodeHandle)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerView.nativeInstance, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      var component = _this.getNativeScrollRef();
      if (component == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(component, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardMetrics != null) {
          keyboardScreenY = _this._keyboardMetrics.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardMetrics == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._innerView = createRefForwarder(function (instance) {
      return instance;
    });
    _this._scrollView = createRefForwarder(function (nativeInstance) {
      var publicInstance = Object.assign(nativeInstance, {
        getScrollResponder: _this.getScrollResponder,
        getScrollableNode: _this.getScrollableNode,
        getInnerViewNode: _this.getInnerViewNode,
        getInnerViewRef: _this.getInnerViewRef,
        getNativeScrollRef: _this.getNativeScrollRef,
        scrollTo: _this.scrollTo,
        scrollToEnd: _this.scrollToEnd,
        flashScrollIndicators: _this.flashScrollIndicators,
        scrollResponderZoomTo: _this.scrollResponderZoomTo,
        scrollResponderScrollNativeHandleToKeyboard: _this.scrollResponderScrollNativeHandleToKeyboard
      });
      return publicInstance;
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (true) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && _this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (true) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (_this._softKeyboardIsDetached()) {
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardMetrics != null || _this._keyboardEventsAreUnreliable();
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._softKeyboardIsDetached = function () {
      return _this._keyboardMetrics != null && _this._keyboardMetrics.height === 0;
    };
    _this._keyboardEventsAreUnreliable = function () {
      return _Platform.default.OS === 'android' && _Platform.default.Version < 30;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistsTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && e.target !== currentlyFocusedTextInput && _this._softKeyboardIsDetached() && _this._keyboardIsDismissible() && keyboardNeverPersistsTaps) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _inherits2.default)(ScrollView, _React$Component);
  return (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn(`'keyboardShouldPersistTaps={${this.props.keyboardShouldPersistTaps === true ? 'true' : 'false'}}' is deprecated. ` + `Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps ? 'always' : 'never'}"' instead`);
      }
      this._keyboardMetrics = _Keyboard.default.metrics();
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this.getNativeScrollRef(), 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var horizontal = this.props.horizontal === true;
      var NativeScrollView = horizontal ? _HScrollViewNativeComponents.HScrollViewNativeComponent : _VScrollViewNativeComponents.VScrollViewNativeComponent;
      var NativeScrollContentView = horizontal ? _HScrollViewNativeComponents.HScrollContentViewNativeComponent : _VScrollViewNativeComponents.VScrollContentViewNativeComponent;
      var contentContainerStyle = [horizontal && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (true && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      children = React.Children.toArray(children);
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        children = children.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(key, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, children)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: horizontal ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var preserveChildren = this.props.maintainVisibleContentPosition != null || _Platform.default.OS === 'android' && this.props.snapToAlignment != null;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeScrollContentView, Object.assign({}, contentSizeChangeProps, {
        ref: this._innerView.getForwardingRef(this.props.innerViewRef),
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        collapsableChildren: !preserveChildren,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = horizontal ? styles.baseHorizontal : styles.baseVertical;
      var _this$props = this.props,
        experimental_endDraggingSensitivityMultiplier = _this$props.experimental_endDraggingSensitivityMultiplier,
        otherProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);
      var props = Object.assign({}, otherProps, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        endDraggingSensitivityMultiplier: experimental_endDraggingSensitivityMultiplier,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      var scrollViewRef = this._scrollView.getForwardingRef(this.props.scrollViewRef);
      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeScrollView, Object.assign({}, props, {
            ref: scrollViewRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeScrollView, Object.assign({}, props, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: scrollViewRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeScrollView, Object.assign({}, props, {
        ref: scrollViewRef,
        children: contentContainer
      }));
    }
  }]);
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function createRefForwarder(mutator) {
  var state = {
    getForwardingRef: (0, _memoizeOne.default)(function (forwardedRef) {
      return function (nativeInstance) {
        var publicInstance = nativeInstance == null ? null : mutator(nativeInstance);
        state.nativeInstance = nativeInstance;
        state.publicInstance = publicInstance;
        if (forwardedRef != null) {
          if (typeof forwardedRef === 'function') {
            forwardedRef(publicInstance);
          } else {
            forwardedRef.current = publicInstance;
          }
        }
      };
    }),
    nativeInstance: null,
    publicInstance: null
  };
  return state;
}
var Wrapper = React.forwardRef(function Wrapper(props, ref) {
  return ref == null ? (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props)) : (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props, {
    scrollViewRef: ref
  }));
});
Wrapper.displayName = 'ScrollView';
Wrapper.Context = _ScrollViewContext.default;
module.exports = Wrapper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfSFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnRzIiwicmVxdWlyZSIsIl9WU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudHMiLCJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfRnJhbWVSYXRlTG9nZ2VyIiwiX1JlbmRlcmVyUHJveHkiLCJfVUlNYW5hZ2VyIiwiX2ZsYXR0ZW5TdHlsZSIsIl9zcGxpdExheW91dFByb3BzMiIsIl9TdHlsZVNoZWV0IiwiX0RpbWVuc2lvbnMiLCJfZGlzbWlzc0tleWJvYXJkIiwiX1BsYXRmb3JtIiwiX0tleWJvYXJkIiwiX1RleHRJbnB1dFN0YXRlIiwiX3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwiX1Njcm9sbFZpZXdDb21tYW5kcyIsIl9TY3JvbGxWaWV3Q29udGV4dCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1Njcm9sbFZpZXdTdGlja3lIZWFkZXIiLCJfaW52YXJpYW50IiwiX21lbW9pemVPbmUiLCJfbnVsbHRocm93cyIsIlJlYWN0IiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfY2FsbFN1cGVyIiwibyIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yIiwiYXBwbHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIklTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMiLCJTY3JvbGxWaWV3IiwiX1JlYWN0JENvbXBvbmVudCIsInByb3BzIiwiX3RoaXMkcHJvcHMkY29udGVudE9mIiwiX3RoaXMkcHJvcHMkY29udGVudE9mMiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbjIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQiLCJfc3RpY2t5SGVhZGVyUmVmcyIsIk1hcCIsIl9oZWFkZXJMYXlvdXRZcyIsIl9rZXlib2FyZE1ldHJpY3MiLCJfYWRkaXRpb25hbFNjcm9sbE9mZnNldCIsIl9pc1RvdWNoaW5nIiwiX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZSIsIl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lIiwiX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciIsIl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyIsIl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJfYW5pbWF0ZWQiLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUiLCJzdGF0ZSIsImxheW91dEhlaWdodCIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJnZXROYXRpdmVTY3JvbGxSZWYiLCJnZXRJbm5lclZpZXdOb2RlIiwiX2lubmVyVmlldyIsIm5hdGl2ZUluc3RhbmNlIiwiZ2V0SW5uZXJWaWV3UmVmIiwiX3Njcm9sbFZpZXciLCJzY3JvbGxUbyIsIm9wdGlvbnMiLCJkZXByZWNhdGVkWCIsImRlcHJlY2F0ZWRBbmltYXRlZCIsIngiLCJ5IiwiYW5pbWF0ZWQiLCJjb25zb2xlIiwid2FybiIsImNvbXBvbmVudCIsIkNvbW1hbmRzIiwic2Nyb2xsVG9FbmQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwibm9kZUhhbmRsZSIsImFkZGl0aW9uYWxPZmZzZXQiLCJwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJVSU1hbmFnZXIiLCJtZWFzdXJlTGF5b3V0IiwibnVsbHRocm93cyIsIl90ZXh0SW5wdXRGb2N1c0Vycm9yIiwiX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQiLCJzY3JvbGxSZXNwb25kZXJab29tVG8iLCJyZWN0IiwiaW52YXJpYW50IiwiUGxhdGZvcm0iLCJPUyIsInpvb21Ub1JlY3QiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJrZXlib2FyZFNjcmVlblkiLCJEaW1lbnNpb25zIiwic2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0Iiwic2NyZWVuWSIsInNjcm9sbE9mZnNldFkiLCJNYXRoIiwibWF4Iiwic2V0VGltZW91dCIsIl9oYW5kbGVTY3JvbGwiLCJvblNjcm9sbCIsIl9oYW5kbGVMYXlvdXQiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwic2V0U3RhdGUiLCJuYXRpdmVFdmVudCIsImxheW91dCIsIm9uTGF5b3V0IiwiX2hhbmRsZUNvbnRlbnRPbkxheW91dCIsIl9lJG5hdGl2ZUV2ZW50JGxheW91dCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJjcmVhdGVSZWZGb3J3YXJkZXIiLCJpbnN0YW5jZSIsInB1YmxpY0luc3RhbmNlIiwiYXNzaWduIiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdyIsImVuZENvb3JkaW5hdGVzIiwib25LZXlib2FyZFdpbGxTaG93Iiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZSIsIm9uS2V5Ym9hcmRXaWxsSGlkZSIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdyIsIm9uS2V5Ym9hcmREaWRTaG93Iiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlIiwib25LZXlib2FyZERpZEhpZGUiLCJfaGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbiIsImdsb2JhbCIsInBlcmZvcm1hbmNlIiwibm93Iiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kIiwiRnJhbWVSYXRlTG9nZ2VyIiwiZW5kU2Nyb2xsIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsIl9oYW5kbGVTY3JvbGxCZWdpbkRyYWciLCJiZWdpblNjcm9sbCIsImtleWJvYXJkRGlzbWlzc01vZGUiLCJkaXNtaXNzS2V5Ym9hcmQiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9oYW5kbGVTY3JvbGxFbmREcmFnIiwidmVsb2NpdHkiLCJfaXNBbmltYXRpbmciLCJvblNjcm9sbEVuZERyYWciLCJ0aW1lU2luY2VMYXN0TW9tZW50dW1TY3JvbGxFbmQiLCJpc0FuaW1hdGluZyIsIl9oYW5kbGVSZXNwb25kZXJHcmFudCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJfaGFuZGxlUmVzcG9uZGVyUmVqZWN0IiwiX2hhbmRsZVJlc3BvbmRlclJlbGVhc2UiLCJ0b3VjaGVzIiwibGVuZ3RoIiwib25SZXNwb25kZXJSZWxlYXNlIiwidGFyZ2V0IiwiZXJyb3IiLCJjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0IiwiVGV4dElucHV0U3RhdGUiLCJjdXJyZW50bHlGb2N1c2VkSW5wdXQiLCJrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIiwiX2tleWJvYXJkSXNEaXNtaXNzaWJsZSIsImJsdXJUZXh0SW5wdXQiLCJfaGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwiX2hhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsImRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyIiwiX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwiX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsImtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyIsIl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkIiwiaXNUZXh0SW5wdXQiLCJoYXNGb2N1c2VkVGV4dElucHV0Iiwic29mdEtleWJvYXJkTWF5QmVPcGVuIiwiX2tleWJvYXJkRXZlbnRzQXJlVW5yZWxpYWJsZSIsIlZlcnNpb24iLCJfaGFuZGxlVG91Y2hFbmQiLCJrZXlib2FyZE5ldmVyUGVyc2lzdHNUYXBzIiwib25Ub3VjaEVuZCIsIl9oYW5kbGVUb3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWwiLCJfaGFuZGxlVG91Y2hTdGFydCIsIm9uVG91Y2hTdGFydCIsIl9oYW5kbGVUb3VjaE1vdmUiLCJvblRvdWNoTW92ZSIsIl9zY3JvbGxBbmltYXRlZFZhbHVlIiwiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIlZhbHVlIiwiY29udGVudE9mZnNldCIsInNldE9mZnNldCIsImNvbnRlbnRJbnNldCIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJjb21wb25lbnREaWRNb3VudCIsIktleWJvYXJkIiwibWV0cmljcyIsImFkZExpc3RlbmVyIiwiX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2Q29udGVudEluc2V0VG9wIiwibmV3Q29udGVudEluc2V0VG9wIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJyZW1vdmUiLCJkZXRhY2giLCJfZ2V0S2V5Rm9ySW5kZXgiLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsInN0aWNreUhlYWRlckluZGljZXMiLCJhdHRhY2hOYXRpdmVFdmVudCIsIl9zZXRTdGlja3lIZWFkZXJSZWYiLCJyZWYiLCJkZWxldGUiLCJfb25TdGlja3lIZWFkZXJMYXlvdXQiLCJldmVudCIsIkNoaWxkcmVuIiwidG9BcnJheSIsImNoaWxkcmVuIiwibGF5b3V0WSIsImluZGV4T2ZJbmRleCIsImluZGV4T2YiLCJwcmV2aW91c0hlYWRlckluZGV4IiwicHJldmlvdXNIZWFkZXIiLCJzZXROZXh0SGVhZGVyWSIsInJlbmRlciIsIl90aGlzMiIsImhvcml6b250YWwiLCJOYXRpdmVTY3JvbGxWaWV3IiwiSFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJWU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIk5hdGl2ZVNjcm9sbENvbnRlbnRWaWV3IiwiSFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiVlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic3R5bGVzIiwiY29udGVudENvbnRhaW5lckhvcml6b250YWwiLCJzdHlsZSIsInVuZGVmaW5lZCIsImZsYXR0ZW5TdHlsZSIsImNoaWxkTGF5b3V0UHJvcHMiLCJmaWx0ZXIiLCJwcm9wIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRTaXplQ2hhbmdlUHJvcHMiLCJtYXAiLCJuZXh0SW5kZXgiLCJTdGlja3lIZWFkZXJDb21wb25lbnQiLCJTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwianN4IiwibmV4dEhlYWRlckxheW91dFkiLCJzY3JvbGxBbmltYXRlZFZhbHVlIiwiaW52ZXJ0ZWQiLCJoaWRkZW5PblNjcm9sbCIsInN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsIiwic2Nyb2xsVmlld0hlaWdodCIsIlByb3ZpZGVyIiwiSE9SSVpPTlRBTCIsIlZFUlRJQ0FMIiwiaGFzU3RpY2t5SGVhZGVycyIsIkFycmF5IiwiaXNBcnJheSIsInByZXNlcnZlQ2hpbGRyZW4iLCJtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24iLCJzbmFwVG9BbGlnbm1lbnQiLCJjb250ZW50Q29udGFpbmVyIiwiZ2V0Rm9yd2FyZGluZ1JlZiIsImlubmVyVmlld1JlZiIsInJlbW92ZUNsaXBwZWRTdWJ2aWV3cyIsImNvbGxhcHNhYmxlIiwiY29sbGFwc2FibGVDaGlsZHJlbiIsImFsd2F5c0JvdW5jZUhvcml6b250YWwiLCJhbHdheXNCb3VuY2VWZXJ0aWNhbCIsImJhc2VTdHlsZSIsImJhc2VIb3Jpem9udGFsIiwiYmFzZVZlcnRpY2FsIiwiX3RoaXMkcHJvcHMiLCJleHBlcmltZW50YWxfZW5kRHJhZ2dpbmdTZW5zaXRpdml0eU11bHRpcGxpZXIiLCJvdGhlclByb3BzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIlN0eWxlU2hlZXQiLCJjb21wb3NlIiwib25SZXNwb25kZXJSZWplY3QiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwiZW5kRHJhZ2dpbmdTZW5zaXRpdml0eU11bHRpcGxpZXIiLCJzY3JvbGxFdmVudFRocm90dGxlIiwic2VuZE1vbWVudHVtRXZlbnRzIiwic25hcFRvU3RhcnQiLCJzbmFwVG9FbmQiLCJwYWdpbmdFbmFibGVkIiwic2VsZWN0IiwiaW9zIiwic25hcFRvSW50ZXJ2YWwiLCJzbmFwVG9PZmZzZXRzIiwiYW5kcm9pZCIsImRlY2VsZXJhdGlvblJhdGUiLCJwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSIsInJlZnJlc2hDb250cm9sIiwic2Nyb2xsVmlld1JlZiIsImpzeHMiLCJfc3BsaXRMYXlvdXRQcm9wcyIsInNwbGl0TGF5b3V0UHJvcHMiLCJvdXRlciIsImlubmVyIiwiY2xvbmVFbGVtZW50IiwiQ29tcG9uZW50IiwiQ29udGV4dCIsIlNjcm9sbFZpZXdDb250ZXh0IiwiY3JlYXRlIiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwibXV0YXRvciIsIm1lbW9pemUiLCJmb3J3YXJkZWRSZWYiLCJjdXJyZW50IiwiV3JhcHBlciIsImZvcndhcmRSZWYiLCJkaXNwbGF5TmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJTY3JvbGxWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqL1xuXG5pbXBvcnQgdHlwZSB7SG9zdEluc3RhbmNlfSBmcm9tICcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZVR5cGVzJztcbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1BvaW50UHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9Qb2ludFByb3BUeXBlJztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIExheW91dEV2ZW50LFxuICBQcmVzc0V2ZW50LFxuICBTY3JvbGxFdmVudCxcbn0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0V2ZW50U3Vic2NyaXB0aW9ufSBmcm9tICcuLi8uLi92ZW5kb3IvZW1pdHRlci9FdmVudEVtaXR0ZXInO1xuaW1wb3J0IHR5cGUge0tleWJvYXJkRXZlbnQsIEtleWJvYXJkTWV0cmljc30gZnJvbSAnLi4vS2V5Ym9hcmQvS2V5Ym9hcmQnO1xuaW1wb3J0IHR5cGVvZiBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XG5pbXBvcnQgdHlwZSB7Vmlld1Byb3BzfSBmcm9tICcuLi9WaWV3L1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1Byb3BzIGFzIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wc30gZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcblxuaW1wb3J0IHtcbiAgSFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICBIU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3ByaXZhdGUvY29tcG9uZW50cy9IU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudHMnO1xuaW1wb3J0IHtcbiAgVlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICBWU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3ByaXZhdGUvY29tcG9uZW50cy9WU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudHMnO1xuaW1wb3J0IEFuaW1hdGVkSW1wbGVtZW50YXRpb24gZnJvbSAnLi4vLi4vQW5pbWF0ZWQvQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbic7XG5pbXBvcnQgRnJhbWVSYXRlTG9nZ2VyIGZyb20gJy4uLy4uL0ludGVyYWN0aW9uL0ZyYW1lUmF0ZUxvZ2dlcic7XG5pbXBvcnQge2ZpbmROb2RlSGFuZGxlfSBmcm9tICcuLi8uLi9SZWFjdE5hdGl2ZS9SZW5kZXJlclByb3h5JztcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSAnLi4vLi4vUmVhY3ROYXRpdmUvVUlNYW5hZ2VyJztcbmltcG9ydCBmbGF0dGVuU3R5bGUgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9mbGF0dGVuU3R5bGUnO1xuaW1wb3J0IHNwbGl0TGF5b3V0UHJvcHMgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9zcGxpdExheW91dFByb3BzJztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgRGltZW5zaW9ucyBmcm9tICcuLi8uLi9VdGlsaXRpZXMvRGltZW5zaW9ucyc7XG5pbXBvcnQgZGlzbWlzc0tleWJvYXJkIGZyb20gJy4uLy4uL1V0aWxpdGllcy9kaXNtaXNzS2V5Ym9hcmQnO1xuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi4vS2V5Ym9hcmQvS2V5Ym9hcmQnO1xuaW1wb3J0IFRleHRJbnB1dFN0YXRlIGZyb20gJy4uL1RleHRJbnB1dC9UZXh0SW5wdXRTdGF0ZSc7XG5pbXBvcnQgcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUgZnJvbSAnLi9wcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSc7XG5pbXBvcnQgQ29tbWFuZHMgZnJvbSAnLi9TY3JvbGxWaWV3Q29tbWFuZHMnO1xuaW1wb3J0IFNjcm9sbFZpZXdDb250ZXh0LCB7SE9SSVpPTlRBTCwgVkVSVElDQUx9IGZyb20gJy4vU2Nyb2xsVmlld0NvbnRleHQnO1xuaW1wb3J0IFNjcm9sbFZpZXdTdGlja3lIZWFkZXIgZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBtZW1vaXplIGZyb20gJ21lbW9pemUtb25lJztcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKlxuICogaU9TIHNjcm9sbCBldmVudCB0aW1pbmcgbnVhbmNlczpcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKlxuICogU2Nyb2xsaW5nIHdpdGhvdXQgYm91bmNpbmcsIGlmIHlvdSB0b3VjaCBkb3duOlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIDEuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gICh3aGVuIGFuaW1hdGlvbiBiZWdpbnMgYWZ0ZXIgbGV0dGluZyB1cClcbiAqICAgIC4uLiBwaHlzaWNhbCB0b3VjaCBzdGFydHMgLi4uXG4gKiAyLiBgb25Ub3VjaFN0YXJ0Q2FwdHVyZWAgICAod2hlbiB5b3UgcHJlc3MgZG93biB0byBzdG9wIHRoZSBzY3JvbGwpXG4gKiAzLiBgb25Ub3VjaFN0YXJ0YCAgICAgICAgICAoc2FtZSwgYnV0IGJ1YmJsZSBwaGFzZSlcbiAqIDQuIGBvblJlc3BvbmRlclJlbGVhc2VgICAgICh3aGVuIGxpZnRpbmcgdXAgLSB5b3UgY291bGQgcGF1c2UgZm9yZXZlciBiZWZvcmUgKiBsaWZ0aW5nKVxuICogNS4gYG9uTW9tZW50dW1TY3JvbGxFbmRgXG4gKlxuICpcbiAqIFNjcm9sbGluZyB3aXRoIGJvdW5jaW5nLCBpZiB5b3UgdG91Y2ggZG93bjpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAxLiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAod2hlbiBhbmltYXRpb24gYmVnaW5zIGFmdGVyIGxldHRpbmcgdXApXG4gKiAgICAuLi4gYm91bmNlIGJlZ2lucyAuLi5cbiAqICAgIC4uLiBzb21lIHRpbWUgZWxhcHNlcyAuLi5cbiAqICAgIC4uLiBwaHlzaWNhbCB0b3VjaCBkdXJpbmcgYm91bmNlIC4uLlxuICogMi4gYG9uTW9tZW50dW1TY3JvbGxFbmRgICAgKE1ha2VzIG5vIHNlbnNlIHdoeSB0aGlzIG9jY3VycyBmaXJzdCBkdXJpbmcgYm91bmNlKVxuICogMy4gYG9uVG91Y2hTdGFydENhcHR1cmVgICAgKGltbWVkaWF0ZWx5IGFmdGVyIGBvbk1vbWVudHVtU2Nyb2xsRW5kYClcbiAqIDQuIGBvblRvdWNoU3RhcnRgICAgICAgICAgIChzYW1lLCBidXQgYnViYmxlIHBoYXNlKVxuICogNS4gYG9uVG91Y2hFbmRgICAgICAgICAgICAgKFlvdSBjb3VsZCBob2xkIHRoZSB0b3VjaCBzdGFydCBmb3IgYSBsb25nIHRpbWUpXG4gKiA2LiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAoV2hlbiByZWxlYXNpbmcgdGhlIHZpZXcgc3RhcnRzIGJvdW5jaW5nIGJhY2spXG4gKlxuICogU28gd2hlbiB3ZSByZWNlaXZlIGFuIGBvblRvdWNoU3RhcnRgLCBob3cgY2FuIHdlIHRlbGwgaWYgd2UgYXJlIHRvdWNoaW5nXG4gKiAqZHVyaW5nKiBhbiBhbmltYXRpb24gKHdoaWNoIHRoZW4gY2F1c2VzIHRoZSBhbmltYXRpb24gdG8gc3RvcCk/IFRoZSBvbmx5IHdheVxuICogdG8gdGVsbCBpcyBpZiB0aGUgYHRvdWNoU3RhcnRgIG9jY3VycmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICogYG9uTW9tZW50dW1TY3JvbGxFbmRgLlxuICpcbiAqIFRoaXMgaXMgYWJzdHJhY3RlZCBvdXQgZm9yIHlvdSwgc28geW91IGNhbiBqdXN0IGNhbGwgdGhpcy5zY3JvbGxSZXNwb25kZXJJc0FuaW1hdGluZygpIGlmXG4gKiBuZWNlc3NhcnlcbiAqXG4gKiBgU2Nyb2xsVmlld2AgYWxzbyBpbmNsdWRlcyBsb2dpYyBmb3IgYmx1cnJpbmcgYSBjdXJyZW50bHkgZm9jdXNlZCBpbnB1dFxuICogaWYgb25lIGlzIGZvY3VzZWQgd2hpbGUgc2Nyb2xsaW5nLiBUaGlzIGlzIGEgbmF0dXJhbCBwbGFjZVxuICogdG8gcHV0IHRoaXMgbG9naWMgc2luY2UgaXQgY2FuIHN1cHBvcnQgbm90IGRpc21pc3NpbmcgdGhlIGtleWJvYXJkIHdoaWxlXG4gKiBzY3JvbGxpbmcsIHVubGVzcyBhIHJlY29nbml6ZWQgXCJ0YXBcIi1saWtlIGdlc3R1cmUgaGFzIG9jY3VycmVkLlxuICpcbiAqIFRoZSBwdWJsaWMgbGlmZWN5Y2xlIEFQSSBpbmNsdWRlcyBldmVudHMgZm9yIGtleWJvYXJkIGludGVyYWN0aW9uLCByZXNwb25kZXJcbiAqIGludGVyYWN0aW9uLCBhbmQgc2Nyb2xsaW5nIChhbW9uZyBvdGhlcnMpLiBUaGUga2V5Ym9hcmQgY2FsbGJhY2tzXG4gKiBgb25LZXlib2FyZFdpbGwvRGlkLypgIGFyZSAqZ2xvYmFsKiBldmVudHMsIGJ1dCBhcmUgaW52b2tlZCBvbiBzY3JvbGxcbiAqIHJlc3BvbmRlcidzIHByb3BzIHNvIHRoYXQgeW91IGNhbiBndWFyYW50ZWUgdGhhdCB0aGUgc2Nyb2xsIHJlc3BvbmRlcidzXG4gKiBpbnRlcm5hbCBzdGF0ZSBoYXMgYmVlbiB1cGRhdGVkIGFjY29yZGluZ2x5IChhbmQgZGV0ZXJtaW5pc3RpY2FsbHkpIGJ5XG4gKiB0aGUgdGltZSB0aGUgcHJvcHMgY2FsbGJhY2tzIGFyZSBpbnZva2UuIE90aGVyd2lzZSwgeW91IHdvdWxkIGFsd2F5cyB3b25kZXJcbiAqIGlmIHRoZSBzY3JvbGwgcmVzcG9uZGVyIGlzIGN1cnJlbnRseSBpbiBhIHN0YXRlIHdoZXJlIGl0IHJlY29nbml6ZXMgbmV3XG4gKiBrZXlib2FyZCBwb3NpdGlvbnMgZXRjLiBJZiBjb29yZGluYXRpbmcgc2Nyb2xsaW5nIHdpdGgga2V5Ym9hcmQgbW92ZW1lbnQsXG4gKiAqYWx3YXlzKiB1c2UgdGhlc2UgaG9va3MgaW5zdGVhZCBvZiBsaXN0ZW5pbmcgdG8geW91ciBvd24gZ2xvYmFsIGtleWJvYXJkXG4gKiBldmVudHMuXG4gKlxuICogUHVibGljIGtleWJvYXJkIGxpZmVjeWNsZSBBUEk6IChwcm9wcyBjYWxsYmFja3MpXG4gKlxuICogU3RhbmRhcmQgS2V5Ym9hcmQgQXBwZWFyYW5jZSBTZXF1ZW5jZTpcbiAqXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxTaG93XG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3dcbiAqXG4gKiBgb25TY3JvbGxSZXNwb25kZXJLZXlib2FyZERpc21pc3NlZGAgd2lsbCBiZSBpbnZva2VkIGlmIGFuIGFwcHJvcHJpYXRlXG4gKiB0YXAgaW5zaWRlIHRoZSBzY3JvbGwgcmVzcG9uZGVyJ3Mgc2Nyb2xsYWJsZSByZWdpb24gd2FzIHJlc3BvbnNpYmxlXG4gKiBmb3IgdGhlIGRpc21pc3NhbCBvZiB0aGUga2V5Ym9hcmQuIFRoZXJlIGFyZSBvdGhlciByZWFzb25zIHdoeSB0aGVcbiAqIGtleWJvYXJkIGNvdWxkIGJlIGRpc21pc3NlZC5cbiAqXG4gKiAgIHRoaXMucHJvcHMub25TY3JvbGxSZXNwb25kZXJLZXlib2FyZERpc21pc3NlZFxuICpcbiAqIFN0YW5kYXJkIEtleWJvYXJkIEhpZGUgU2VxdWVuY2U6XG4gKlxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZVxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlXG4gKi9cblxuLy8gUHVibGljIG1ldGhvZHMgZm9yIFNjcm9sbFZpZXdcbmV4cG9ydCB0eXBlIFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcyA9ICRSZWFkT25seTx7fFxuICBnZXRTY3JvbGxSZXNwb25kZXI6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldFNjcm9sbFJlc3BvbmRlcic+LFxuICBnZXRTY3JvbGxhYmxlTm9kZTogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsYWJsZU5vZGUnPixcbiAgZ2V0SW5uZXJWaWV3Tm9kZTogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3Tm9kZSc+LFxuICBnZXRJbm5lclZpZXdSZWY6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldElubmVyVmlld1JlZic+LFxuICBnZXROYXRpdmVTY3JvbGxSZWY6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldE5hdGl2ZVNjcm9sbFJlZic+LFxuICBzY3JvbGxUbzogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG8nPixcbiAgc2Nyb2xsVG9FbmQ6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFRvRW5kJz4sXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZmxhc2hTY3JvbGxJbmRpY2F0b3JzJz4sXG4gIHNjcm9sbFJlc3BvbmRlclpvb21UbzogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsUmVzcG9uZGVyWm9vbVRvJz4sXG4gIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6ICRQcm9wZXJ0eVR5cGU8XG4gICAgU2Nyb2xsVmlldyxcbiAgICAnc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCcsXG4gID4sXG58fT47XG5cbmV4cG9ydCB0eXBlIERlY2VsZXJhdGlvblJhdGVUeXBlID0gJ2Zhc3QnIHwgJ25vcm1hbCcgfCBudW1iZXI7XG5leHBvcnQgdHlwZSBTY3JvbGxSZXNwb25kZXJUeXBlID0gU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzO1xuXG50eXBlIFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSA9ICRSZWFkT25seTx7fFxuICAuLi5Ib3N0SW5zdGFuY2UsXG4gIC4uLlNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcyxcbnx9PjtcblxudHlwZSBJbm5lclZpZXdJbnN0YW5jZSA9IFJlYWN0LkVsZW1lbnRSZWY8Vmlldz47XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgU2Nyb2xsVmlldyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgaXRzIGBjb250ZW50SW5zZXRgXG4gICAqIGFuZCBgc2Nyb2xsVmlld0luc2V0c2Agd2hlbiB0aGUgS2V5Ym9hcmQgY2hhbmdlcyBpdHMgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RLZXlib2FyZEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBzY3JvbGwgaW5kaWNhdG9yXG4gICAqIGluc2V0cy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS4gQXZhaWxhYmxlIG9uIGlPUyAxMyBhbmQgbGF0ZXIuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RzU2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGlzIGluc2V0IGZyb20gdGhlIGVkZ2VzXG4gICAqIG9mIHRoZSBzY3JvbGwgdmlldy4gRGVmYXVsdHMgdG8gYHt0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0PzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZCBvZiB0aGVcbiAgICogY29udGVudCBpZiB0aGUgY29udGVudCBpcyBsYXJnZXIgdGhlbiB0aGUgc2Nyb2xsIHZpZXcgYWxvbmcgdGhlIGF4aXMgb2ZcbiAgICogdGhlIHNjcm9sbCBkaXJlY3Rpb24uIFdoZW4gZmFsc2UsIGl0IGRpc2FibGVzIGFsbCBib3VuY2luZyBldmVuIGlmXG4gICAqIHRoZSBgYWx3YXlzQm91bmNlKmAgcHJvcHMgYXJlIHRydWUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGJvdW5jZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQsIFNjcm9sbFZpZXcgaGFzIGFuIGFjdGl2ZSBwYW4gcmVzcG9uZGVyIHRoYXQgaGlqYWNrcyBwYW5yZXNwb25kZXJzXG4gICAqIGRlZXBlciBpbiB0aGUgcmVuZGVyIHRyZWUgaW4gb3JkZXIgdG8gcHJldmVudCBhY2NpZGVudGFsIHRvdWNoZXMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgKiBIb3dldmVyLCBpbiBjZXJ0YWluIG9jY2FzaW9ucyAoc3VjaCBhcyB3aGVuIHVzaW5nIHNuYXBUb0ludGVydmFsKSBpbiBhIHZlcnRpY2FsIHNjcm9sbHZpZXdcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBiZWhhdmlvciBpbiBvcmRlciB0byBwcmV2ZW50IHRoZSBTY3JvbGxWaWV3IGZyb20gYmxvY2tpbmcgdG91Y2hlc1xuICAgKi9cbiAgZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgZ2VzdHVyZXMgY2FuIGRyaXZlIHpvb20gcGFzdCBtaW4vbWF4IGFuZCB0aGUgem9vbSB3aWxsIGFuaW1hdGVcbiAgICogdG8gdGhlIG1pbi9tYXggdmFsdWUgYXQgZ2VzdHVyZSBlbmQsIG90aGVyd2lzZSB0aGUgem9vbSB3aWxsIG5vdCBleGNlZWRcbiAgICogdGhlIGxpbWl0cy5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlc1pvb20/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgaG9yaXpvbnRhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIHRydWUgd2hlbiBgaG9yaXpvbnRhbD17dHJ1ZX1gIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZUhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgdmVydGljYWxseSB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZFxuICAgKiBldmVuIGlmIHRoZSBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgaXRzZWxmLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIHRydWUgb3RoZXJ3aXNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhbHdheXNCb3VuY2VWZXJ0aWNhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYXV0b21hdGljYWxseSBjZW50ZXJzIHRoZSBjb250ZW50IHdoZW4gdGhlXG4gICAqIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBib3VuZHM7IHdoZW4gdGhlIGNvbnRlbnQgaXNcbiAgICogbGFyZ2VyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LCB0aGlzIHByb3BlcnR5IGhhcyBubyBlZmZlY3QuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjZW50ZXJDb250ZW50PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2YgdGhlIHNjcm9sbCBpbmRpY2F0b3JzLlxuICAgKlxuICAgKiAgIC0gYCdkZWZhdWx0J2AgKHRoZSBkZWZhdWx0KSwgc2FtZSBhcyBgYmxhY2tgLlxuICAgKiAgIC0gYCdibGFjaydgLCBzY3JvbGwgaW5kaWNhdG9yIGlzIGJsYWNrLiBUaGlzIHN0eWxlIGlzIGdvb2QgYWdhaW5zdCBhIGxpZ2h0IGJhY2tncm91bmQuXG4gICAqICAgLSBgJ3doaXRlJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgd2hpdGUuIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgZGFyayBiYWNrZ3JvdW5kLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBpbmRpY2F0b3JTdHlsZT86ID8oJ2RlZmF1bHQnIHwgJ2JsYWNrJyB8ICd3aGl0ZScpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgU2Nyb2xsVmlldyB3aWxsIHRyeSB0byBsb2NrIHRvIG9ubHkgdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgKiBzY3JvbGxpbmcgd2hpbGUgZHJhZ2dpbmcuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZGlyZWN0aW9uYWxMb2NrRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgb25jZSB0cmFja2luZyBzdGFydHMsIHdvbid0IHRyeSB0byBkcmFnIGlmIHRoZSB0b3VjaCBtb3Zlcy5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2FuQ2FuY2VsQ29udGVudFRvdWNoZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtYXhpbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtaW5pbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU2Nyb2xsVmlldyBhbGxvd3MgdXNlIG9mIHBpbmNoIGdlc3R1cmVzIHRvIHpvb20gaW4gYW5kIG91dC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgcGluY2hHZXN0dXJlRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgaW5kaWNhdG9ycyBhcmUgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHNob3VsZCBub3JtYWxseSBiZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWUgYXNcbiAgICogdGhlIGBjb250ZW50SW5zZXRgLiBEZWZhdWx0cyB0byBgezAsIDAsIDAsIDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgc2Nyb2xsZWQgYmV5b25kIGl0c1xuICAgKiBjb250ZW50IHNpemUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxUb092ZXJmbG93RW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3Agd2hlbiB0aGUgc3RhdHVzIGJhciBpcyB0YXBwZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbHNUb1RvcD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3AgYWZ0ZXIgdGhlIHN0YXR1cyBiYXIgaGFzIGJlZW4gdGFwcGVkXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG9uU2Nyb2xsVG9Ub3A/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIGhvcml6b250YWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmFkZXMgb3V0IHRoZSBlZGdlcyBvZiB0aGUgc2Nyb2xsIGNvbnRlbnQuXG4gICAqXG4gICAqIElmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gMCwgdGhlIGZhZGluZyBlZGdlcyB3aWxsIGJlIHNldCBhY2NvcmRpbmdseVxuICAgKiB0byB0aGUgY3VycmVudCBzY3JvbGwgZGlyZWN0aW9uIGFuZCBwb3NpdGlvbixcbiAgICogaW5kaWNhdGluZyBpZiB0aGVyZSBpcyBtb3JlIGNvbnRlbnQgdG8gc2hvdy5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgMC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIGZhZGluZ0VkZ2VMZW5ndGg/OiA/bnVtYmVyLFxufH0+O1xuXG50eXBlIFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGUgPSBjb21wb25lbnQoXG4gIHJlZj86IFJlYWN0LlJlZlNldHRlcjwkUmVhZE9ubHk8aW50ZXJmYWNlIHtzZXROZXh0SGVhZGVyWTogbnVtYmVyID0+IHZvaWR9Pj4sXG4gIC4uLlNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wc1xuKTtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHNldCB0aGUgc3RhcnRpbmcgc2Nyb2xsIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHt4OiAwLCB5OiAwfWAuXG4gICAqL1xuICBjb250ZW50T2Zmc2V0PzogP1BvaW50UHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIHRoZSBuZXh0IGluZGV4IChpbiByZWxhdGlvbiB0byBzY3JvbGxcbiAgICogcG9zaXRpb24gYXQgcmVsZWFzZSkgcmVnYXJkbGVzcyBvZiBob3cgZmFzdCB0aGUgZ2VzdHVyZSBpcy4gVGhpcyBjYW4gYmVcbiAgICogdXNlZCBmb3IgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2YgdGhlXG4gICAqIGhvcml6b250YWwgU2Nyb2xsVmlldyBvciB0aGUgaGVpZ2h0IG9mIHRoZSB2ZXJ0aWNhbCBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID9EZWNlbGVyYXRpb25SYXRlVHlwZSxcblxuICAvKipcbiAgICogKkV4cGVyaW1lbnRhbCwgaU9TIE9ubHkqLiBUaGUgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgd2lsbCBjaGFuZ2UgaW4gZnV0dXJlIHJlbGVhc2VzLlxuICAgKlxuICAgKiBDb250cm9scyBob3cgbXVjaCBkaXN0YW5jZSBpcyB0cmF2ZWxsZWQgYWZ0ZXIgdXNlciBzdG9wcyBzY3JvbGxpbmcuXG4gICAqIFZhbHVlIGdyZWF0ZXIgdGhhbiAxIHdpbGwgaW5jcmVhc2UgdGhlIGRpc3RhbmNlIHRyYXZlbGxlZC5cbiAgICogVmFsdWUgbGVzcyB0aGFuIDEgd2lsbCBkZWNyZWFzZSB0aGUgZGlzdGFuY2UgdHJhdmVsbGVkLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX2VuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyPzogP251bWJlcixcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8vLyBkZWZhdWx0XG4gIC8vIGNyb3NzLXBsYXRmb3JtXG4gICgnbm9uZScgfCAnb24tZHJhZycgfCAnaW50ZXJhY3RpdmUnKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogcGFydGlhbGx5IG9yIGZ1bGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsXG4gICAqIHdoZXJlIG5ldyBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwXG4gICAqIGlzIGNvbW1vbiwgYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnRcbiAgICogdGhhdCBzaG91bGQgbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqL1xuICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/OiA/JFJlYWRPbmx5PHt8XG4gICAgbWluSW5kZXhGb3JWaXNpYmxlOiBudW1iZXIsXG4gICAgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkPzogP251bWJlcixcbiAgfH0+LFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogKGNvbnRlbnRXaWR0aDogbnVtYmVyLCBjb250ZW50SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkSGlkZT86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkV2lsbEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiBtdWx0aXBsZXMgb2YgdGhlIHNjcm9sbCB2aWV3J3Mgc2l6ZVxuICAgKiB3aGVuIHNjcm9sbGluZy4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBwYWdpbmF0aW9uLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIHBhZ2luZ0VuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIHRoZSB2aWV3IGNhbm5vdCBiZSBzY3JvbGxlZCB2aWEgdG91Y2ggaW50ZXJhY3Rpb24uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgdmlldyBjYW4gYWx3YXlzIGJlIHNjcm9sbGVkIGJ5IGNhbGxpbmcgYHNjcm9sbFRvYC5cbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIExpbWl0cyBob3cgb2Z0ZW4gc2Nyb2xsIGV2ZW50cyB3aWxsIGJlIGZpcmVkIHdoaWxlIHNjcm9sbGluZywgc3BlY2lmaWVkIGFzXG4gICAqIGEgdGltZSBpbnRlcnZhbCBpbiBtcy4gVGhpcyBtYXkgYmUgdXNlZnVsIHdoZW4gZXhwZW5zaXZlIHdvcmsgaXMgcGVyZm9ybWVkXG4gICAqIGluIHJlc3BvbnNlIHRvIHNjcm9sbGluZy4gVmFsdWVzIDw9IGAxNmAgd2lsbCBkaXNhYmxlIHRocm90dGxpbmcsXG4gICAqIHJlZ2FyZGxlc3Mgb2YgdGhlIHJlZnJlc2ggcmF0ZSBvZiB0aGUgZGV2aWNlLlxuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgdmVydGljYWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU3RpY2t5IGhlYWRlciBpcyBoaWRkZW4gd2hlbiBzY3JvbGxpbmcgZG93biwgYW5kIGRvY2sgYXQgdGhlIHRvcFxuICAgKiB3aGVuIHNjcm9sbGluZyB1cFxuICAgKi9cbiAgc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNoaWxkIGluZGljZXMgZGV0ZXJtaW5pbmcgd2hpY2ggY2hpbGRyZW4gZ2V0IGRvY2tlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JlZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBwYXNzaW5nXG4gICAqIGBzdGlja3lIZWFkZXJJbmRpY2VzPXtbMF19YCB3aWxsIGNhdXNlIHRoZSBmaXJzdCBjaGlsZCB0byBiZSBmaXhlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIGluIGNvbmp1bmN0aW9uXG4gICAqIHdpdGggYGhvcml6b250YWw9e3RydWV9YC5cbiAgICovXG4gIHN0aWNreUhlYWRlckluZGljZXM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIEEgUmVhY3QgQ29tcG9uZW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciBzdGlja3kgaGVhZGVycy5cbiAgICogVG8gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBzdGlja3lIZWFkZXJJbmRpY2VzYCBvciB3aXRoIGBTZWN0aW9uTGlzdGAsIGRlZmF1bHRzIHRvIGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICogWW91IG1heSBuZWVkIHRvIHNldCB0aGlzIGlmIHlvdXIgc3RpY2t5IGhlYWRlciB1c2VzIGN1c3RvbSB0cmFuc2Zvcm1zIChlZy4gdHJhbnNsYXRpb24pLFxuICAgKiBmb3IgZXhhbXBsZSB3aGVuIHlvdSB3YW50IHlvdXIgbGlzdCB0byBoYXZlIGFuIGFuaW1hdGVkIGhpZGFibGUgaGVhZGVyLlxuICAgKi9cbiAgU3RpY2t5SGVhZGVyQ29tcG9uZW50PzogU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gYHNuYXBUb0ludGVydmFsYCBpcyBzZXQsIGBzbmFwVG9BbGlnbm1lbnRgIHdpbGwgZGVmaW5lIHRoZSByZWxhdGlvbnNoaXBcbiAgICogb2YgdGhlIHNuYXBwaW5nIHRvIHRoZSBzY3JvbGwgdmlldy5cbiAgICpcbiAgICogICAtIGAnc3RhcnQnYCAodGhlIGRlZmF1bHQpIHdpbGwgYWxpZ24gdGhlIHNuYXAgYXQgdGhlIGxlZnQgKGhvcml6b250YWwpIG9yIHRvcCAodmVydGljYWwpXG4gICAqICAgLSBgJ2NlbnRlcidgIHdpbGwgYWxpZ24gdGhlIHNuYXAgaW4gdGhlIGNlbnRlclxuICAgKiAgIC0gYCdlbmQnYCB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSByaWdodCAoaG9yaXpvbnRhbCkgb3IgYm90dG9tICh2ZXJ0aWNhbClcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCBtdWx0aXBsZXMgb2YgdGhlIHZhbHVlIG9mXG4gICAqIGBzbmFwVG9JbnRlcnZhbGAuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBzbmFwVG9BbGlnbm1lbnRgIGFuZCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgcHJvcC5cbiAgICovXG4gIHNuYXBUb0ludGVydmFsPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgdGhlIGRlZmluZWQgb2Zmc2V0cy5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIHZhcmlvdXNseSBzaXplZCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBhbmQgYHNuYXBUb0ludGVydmFsYCBwcm9wcy5cbiAgICovXG4gIHNuYXBUb09mZnNldHM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGJlZ2lubmluZ1xuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9TdGFydGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIHN0YXJ0IGFuZFxuICAgKiB0aGUgZmlyc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb1N0YXJ0PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBlbmRcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvRW5kYCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgZW5kIGFuZFxuICAgKiB0aGUgbGFzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvRW5kPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBFeHBlcmltZW50YWw6IFdoZW4gdHJ1ZSwgb2Zmc2NyZWVuIGNoaWxkIHZpZXdzICh3aG9zZSBgb3ZlcmZsb3dgIHZhbHVlIGlzXG4gICAqIGBoaWRkZW5gKSBhcmUgcmVtb3ZlZCBmcm9tIHRoZWlyIG5hdGl2ZSBiYWNraW5nIHN1cGVydmlldyB3aGVuIG9mZnNjcmVlbi5cbiAgICogVGhpcyBjYW4gaW1wcm92ZSBzY3JvbGxpbmcgcGVyZm9ybWFuY2Ugb24gbG9uZyBsaXN0cy4gVGhlIGRlZmF1bHQgdmFsdWUgaXNcbiAgICogdHJ1ZS5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQSBSZWZyZXNoQ29udHJvbCBjb21wb25lbnQsIHVzZWQgdG8gcHJvdmlkZSBwdWxsLXRvLXJlZnJlc2hcbiAgICogZnVuY3Rpb25hbGl0eSBmb3IgdGhlIFNjcm9sbFZpZXcuIE9ubHkgd29ya3MgZm9yIHZlcnRpY2FsIFNjcm9sbFZpZXdzXG4gICAqIChgaG9yaXpvbnRhbGAgcHJvcCBtdXN0IGJlIGBmYWxzZWApLlxuICAgKlxuICAgKiBTZWUgW1JlZnJlc2hDb250cm9sXShkb2NzL3JlZnJlc2hjb250cm9sLmh0bWwpLlxuICAgKi9cbiAgLyogJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdIC0gaG93IHRvIGhhbmRsZSBnZW5lcmljIHR5cGUgd2l0aG91dCBleGlzdGVudGlhbFxuICAgKiBvcGVyYXRvcj8gKi9cbiAgcmVmcmVzaENvbnRyb2w/OiA/RXhhY3RSZWFjdEVsZW1lbnRfREVQUkVDQVRFRDxhbnk+LFxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgaW5uZXIgVmlldyBlbGVtZW50IG9mIHRoZSBTY3JvbGxWaWV3LiBUaGlzIHNob3VsZCBiZSB1c2VkXG4gICAqIGluc3RlYWQgb2YgY2FsbGluZyBgZ2V0SW5uZXJWaWV3UmVmYC5cbiAgICovXG4gIGlubmVyVmlld1JlZj86IFJlYWN0LlJlZlNldHRlcjxJbm5lclZpZXdJbnN0YW5jZT4sXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgTmF0aXZlIFNjcm9sbFZpZXcgY29tcG9uZW50LiBUaGlzIHJlZiBjYW4gYmUgdXNlZCB0byBjYWxsXG4gICAqIGFsbCBvZiBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMsIGluIGFkZGl0aW9uIHRvIG5hdGl2ZSBtZXRob2RzIGxpa2VcbiAgICogbWVhc3VyZSwgbWVhc3VyZUxheW91dCwgZXRjLlxuICAgKi9cbiAgc2Nyb2xsVmlld1JlZj86IFJlYWN0LlJlZlNldHRlcjxQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2U+LFxufH0+O1xuXG50eXBlIFN0YXRlID0ge3xcbiAgbGF5b3V0SGVpZ2h0OiA/bnVtYmVyLFxufH07XG5cbmNvbnN0IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgPSAxNjtcblxuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MgPSAkUmVhZE9ubHk8e3xcbiAgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0LFxufH0+O1xuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IHdyYXBzIHBsYXRmb3JtIFNjcm9sbFZpZXcgd2hpbGUgcHJvdmlkaW5nXG4gKiBpbnRlZ3JhdGlvbiB3aXRoIHRvdWNoIGxvY2tpbmcgXCJyZXNwb25kZXJcIiBzeXN0ZW0uXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgU2Nyb2xsVmlld3MgbXVzdCBoYXZlIGEgYm91bmRlZCBoZWlnaHQgaW4gb3JkZXIgdG8gd29yayxcbiAqIHNpbmNlIHRoZXkgY29udGFpbiB1bmJvdW5kZWQtaGVpZ2h0IGNoaWxkcmVuIGludG8gYSBib3VuZGVkIGNvbnRhaW5lciAodmlhXG4gKiBhIHNjcm9sbCBpbnRlcmFjdGlvbikuIEluIG9yZGVyIHRvIGJvdW5kIHRoZSBoZWlnaHQgb2YgYSBTY3JvbGxWaWV3LCBlaXRoZXJcbiAqIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3IGRpcmVjdGx5IChkaXNjb3VyYWdlZCkgb3IgbWFrZSBzdXJlIGFsbCBwYXJlbnRcbiAqIHZpZXdzIGhhdmUgYm91bmRlZCBoZWlnaHQuIEZvcmdldHRpbmcgdG8gdHJhbnNmZXIgYHtmbGV4OiAxfWAgZG93biB0aGVcbiAqIHZpZXcgc3RhY2sgY2FuIGxlYWQgdG8gZXJyb3JzIGhlcmUsIHdoaWNoIHRoZSBlbGVtZW50IGluc3BlY3RvciBtYWtlc1xuICogZWFzeSB0byBkZWJ1Zy5cbiAqXG4gKiBEb2Vzbid0IHlldCBzdXBwb3J0IG90aGVyIGNvbnRhaW5lZCByZXNwb25kZXJzIGZyb20gYmxvY2tpbmcgdGhpcyBzY3JvbGxcbiAqIHZpZXcgZnJvbSBiZWNvbWluZyB0aGUgcmVzcG9uZGVyLlxuICpcbiAqXG4gKiBgPFNjcm9sbFZpZXc+YCB2cyBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KSAtIHdoaWNoIG9uZSB0byB1c2U/XG4gKlxuICogYFNjcm9sbFZpZXdgIHNpbXBseSByZW5kZXJzIGFsbCBpdHMgcmVhY3QgY2hpbGQgY29tcG9uZW50cyBhdCBvbmNlLiBUaGF0XG4gKiBtYWtlcyBpdCB2ZXJ5IGVhc3kgdG8gdW5kZXJzdGFuZCBhbmQgdXNlLlxuICpcbiAqIE9uIHRoZSBvdGhlciBoYW5kLCB0aGlzIGhhcyBhIHBlcmZvcm1hbmNlIGRvd25zaWRlLiBJbWFnaW5lIHlvdSBoYXZlIGEgdmVyeVxuICogbG9uZyBsaXN0IG9mIGl0ZW1zIHlvdSB3YW50IHRvIGRpc3BsYXksIG1heWJlIHNldmVyYWwgc2NyZWVucyB3b3J0aCBvZlxuICogY29udGVudC4gQ3JlYXRpbmcgSlMgY29tcG9uZW50cyBhbmQgbmF0aXZlIHZpZXdzIGZvciBldmVyeXRoaW5nIGFsbCBhdCBvbmNlLFxuICogbXVjaCBvZiB3aGljaCBtYXkgbm90IGV2ZW4gYmUgc2hvd24sIHdpbGwgY29udHJpYnV0ZSB0byBzbG93IHJlbmRlcmluZyBhbmRcbiAqIGluY3JlYXNlZCBtZW1vcnkgdXNhZ2UuXG4gKlxuICogVGhpcyBpcyB3aGVyZSBgRmxhdExpc3RgIGNvbWVzIGludG8gcGxheS4gYEZsYXRMaXN0YCByZW5kZXJzIGl0ZW1zIGxhemlseSxcbiAqIGp1c3Qgd2hlbiB0aGV5IGFyZSBhYm91dCB0byBhcHBlYXIsIGFuZCByZW1vdmVzIGl0ZW1zIHRoYXQgc2Nyb2xsIHdheSBvZmZcbiAqIHNjcmVlbiB0byBzYXZlIG1lbW9yeSBhbmQgcHJvY2Vzc2luZyB0aW1lLlxuICpcbiAqIGBGbGF0TGlzdGAgaXMgYWxzbyBoYW5keSBpZiB5b3Ugd2FudCB0byByZW5kZXIgc2VwYXJhdG9ycyBiZXR3ZWVuIHlvdXIgaXRlbXMsXG4gKiBtdWx0aXBsZSBjb2x1bW5zLCBpbmZpbml0ZSBzY3JvbGwgbG9hZGluZywgb3IgYW55IG51bWJlciBvZiBvdGhlciBmZWF0dXJlcyBpdFxuICogc3VwcG9ydHMgb3V0IG9mIHRoZSBib3guXG4gKi9cbmNsYXNzIFNjcm9sbFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBDb250ZXh0OiB0eXBlb2YgU2Nyb2xsVmlld0NvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQ/LnkgPz8gMCxcbiAgICApO1xuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KHRoaXMucHJvcHMuY29udGVudEluc2V0Py50b3AgPz8gMCk7XG4gIH1cblxuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZTtcbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50OiA/e2RldGFjaDogKCkgPT4gdm9pZCwgLi4ufSA9IG51bGw7XG4gIF9zdGlja3lIZWFkZXJSZWZzOiBNYXA8c3RyaW5nLCBSZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+PiA9XG4gICAgbmV3IE1hcCgpO1xuICBfaGVhZGVyTGF5b3V0WXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgX2tleWJvYXJkTWV0cmljczogP0tleWJvYXJkTWV0cmljcyA9IG51bGw7XG4gIF9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfaXNUb3VjaGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lOiBudW1iZXIgPSAwO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZTogbnVtYmVyID0gMDtcblxuICAvLyBSZXNldCB0byBmYWxzZSBldmVyeSB0aW1lIGJlY29tZXMgcmVzcG9uZGVyLiBUaGlzIGlzIHVzZWQgdG86XG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHRoZSBzY3JvbGwgdmlldyBoYXMgYmVlbiBzY3JvbGxlZCBhbmQgdGhlcmVmb3JlIHNob3VsZFxuICAvLyByZWZ1c2UgdG8gZ2l2ZSB1cCBpdHMgcmVzcG9uZGVyIGxvY2suXG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHJlbGVhc2luZyBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQgd2hlbiB3ZSBhcmUgaW5cbiAgLy8gdGFwLXRvLWRpc21pc3MgbW9kZSAodGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJykuXG4gIF9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIF9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ6ID9ib29sZWFuID0gbnVsbDtcblxuICBfYW5pbWF0ZWQ6ID9ib29sZWFuID0gbnVsbDtcblxuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdzogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG5cbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIGxheW91dEhlaWdodDogbnVsbCxcbiAgfTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGAna2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz17JHtcbiAgICAgICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09IHRydWUgPyAndHJ1ZScgOiAnZmFsc2UnXG4gICAgICAgIH19JyBpcyBkZXByZWNhdGVkLiBgICtcbiAgICAgICAgICBgVXNlICdrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPVwiJHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA/ICdhbHdheXMnIDogJ25ldmVyJ1xuICAgICAgICAgIH1cIicgaW5zdGVhZGAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IEtleWJvYXJkLm1ldHJpY3MoKTtcbiAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gMDtcblxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZFdpbGxTaG93JyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdyxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZFdpbGxIaWRlJyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZSxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkRGlkU2hvdycsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdyxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkRGlkSGlkZScsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZSxcbiAgICApO1xuXG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCBwcmV2Q29udGVudEluc2V0VG9wID0gcHJldlByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyBwcmV2UHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGNvbnN0IG5ld0NvbnRlbnRJbnNldFRvcCA9IHRoaXMucHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHRoaXMucHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGlmIChwcmV2Q29udGVudEluc2V0VG9wICE9PSBuZXdDb250ZW50SW5zZXRUb3ApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KG5ld0NvbnRlbnRJbnNldFRvcCB8fCAwKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlLnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdy5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLCB3aGljaCBzdXBwb3J0c1xuICAgKiBvcGVyYXRpb25zIGxpa2UgYHNjcm9sbFRvYC4gQWxsIFNjcm9sbFZpZXctbGlrZSBjb21wb25lbnRzIHNob3VsZFxuICAgKiBpbXBsZW1lbnQgdGhpcyBtZXRob2Qgc28gdGhhdCB0aGV5IGNhbiBiZSBjb21wb3NlZCB3aGlsZSBwcm92aWRpbmcgYWNjZXNzXG4gICAqIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIncyBtZXRob2RzLlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiAoKSA9PiBTY3JvbGxSZXNwb25kZXJUeXBlID0gKCkgPT4ge1xuICAgIC8vICRGbG93Rml4TWVbdW5jbGVhci10eXBlXVxuICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICB9O1xuXG4gIGdldFNjcm9sbGFibGVOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZigpKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UpO1xuICB9O1xuXG4gIGdldElubmVyVmlld1JlZjogKCkgPT4gSW5uZXJWaWV3SW5zdGFuY2UgfCBudWxsID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2U7XG4gIH07XG5cbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAoKSA9PiBIb3N0SW5zdGFuY2UgfCBudWxsID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYHNjcm9sbFRvKHt4OiAwLCB5OiAwLCBhbmltYXRlZDogdHJ1ZX0pYFxuICAgKlxuICAgKiBOb3RlOiBUaGUgd2VpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0LCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLFxuICAgKiB0aGUgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIHNlcGFyYXRlIGFyZ3VtZW50cyBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIFRoaXMgaXMgZGVwcmVjYXRlZCBkdWUgdG8gYW1iaWd1aXR5ICh5IGJlZm9yZSB4KSwgYW5kIFNIT1VMRCBOT1QgQkUgVVNFRC5cbiAgICovXG4gIHNjcm9sbFRvOiAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHZvaWQgPSAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHtcbiAgICBsZXQgeCwgeSwgYW5pbWF0ZWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFRvKHksIHgsIGFuaW1hdGVkKWAgaXMgZGVwcmVjYXRlZC4gVXNlIGBzY3JvbGxUbyh7eDogNSwgeTogNSwgJyArXG4gICAgICAgICAgJ2FuaW1hdGVkOiB0cnVlfSlgIGluc3RlYWQuJyxcbiAgICAgICk7XG4gICAgICB5ID0gb3B0aW9ucztcbiAgICAgIHggPSBkZXByZWNhdGVkWDtcbiAgICAgIGFuaW1hdGVkID0gZGVwcmVjYXRlZEFuaW1hdGVkO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucykge1xuICAgICAgeSA9IG9wdGlvbnMueTtcbiAgICAgIHggPSBvcHRpb25zLng7XG4gICAgICBhbmltYXRlZCA9IG9wdGlvbnMuYW5pbWF0ZWQ7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmKCk7XG4gICAgaWYgKGNvbXBvbmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvKGNvbXBvbmVudCwgeCB8fCAwLCB5IHx8IDAsIGFuaW1hdGVkICE9PSBmYWxzZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgYSB2ZXJ0aWNhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIGJvdHRvbS5cbiAgICogSWYgdGhpcyBpcyBhIGhvcml6b250YWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSByaWdodC5cbiAgICpcbiAgICogVXNlIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IHRydWV9KWAgZm9yIHNtb290aCBhbmltYXRlZCBzY3JvbGxpbmcsXG4gICAqIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSlgIGZvciBpbW1lZGlhdGUgc2Nyb2xsaW5nLlxuICAgKiBJZiBubyBvcHRpb25zIGFyZSBwYXNzZWQsIGBhbmltYXRlZGAgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICovXG4gIHNjcm9sbFRvRW5kOiAob3B0aW9ucz86ID97YW5pbWF0ZWQ/OiBib29sZWFuLCAuLi59KSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSxcbiAgKSA9PiB7XG4gICAgLy8gRGVmYXVsdCB0byB0cnVlXG4gICAgY29uc3QgYW5pbWF0ZWQgPSAob3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGVkKSAhPT0gZmFsc2U7XG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYoKTtcbiAgICBpZiAoY29tcG9uZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuc2Nyb2xsVG9FbmQoY29tcG9uZW50LCBhbmltYXRlZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBzY3JvbGwgaW5kaWNhdG9ycyBtb21lbnRhcmlseS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmKCk7XG4gICAgaWYgKGNvbXBvbmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyhjb21wb25lbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgY2FsbGJhY2sgdG8gb25Gb2N1cyBpbiBhIFRleHRJbnB1dHMnXG4gICAqIHBhcmVudCB2aWV3LiBOb3RlIHRoYXQgYW55IG1vZHVsZSB1c2luZyB0aGlzIG1peGluIG5lZWRzIHRvIHJldHVyblxuICAgKiB0aGUgcGFyZW50IHZpZXcncyByZWYgaW4gZ2V0U2Nyb2xsVmlld1JlZigpIGluIG9yZGVyIHRvIHVzZSB0aGlzIG1ldGhvZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVIYW5kbGUgVGhlIFRleHRJbnB1dCBub2RlIGhhbmRsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gYWRkaXRpb25hbE9mZnNldCBUaGUgc2Nyb2xsIHZpZXcncyBib3R0b20gXCJjb250ZW50SW5zZXRcIi5cbiAgICogICAgICAgIERlZmF1bHQgaXMgMC5cbiAgICogQHBhcmFtIHtib29sfSBwcmV2ZW50TmVnYXRpdmVTY3JvbGxpbmcgV2hldGhlciB0byBhbGxvdyBwdWxsaW5nIHRoZSBjb250ZW50XG4gICAqICAgICAgICBkb3duIHRvIG1ha2UgaXQgbWVldCB0aGUga2V5Ym9hcmQncyB0b3AuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiAoXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgSG9zdEluc3RhbmNlLFxuICAgIGFkZGl0aW9uYWxPZmZzZXQ/OiBudW1iZXIsXG4gICAgcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0PzogYm9vbGVhbixcbiAgKSA9PiB2b2lkID0gKFxuICAgIG5vZGVIYW5kbGU6IG51bWJlciB8IEhvc3RJbnN0YW5jZSxcbiAgICBhZGRpdGlvbmFsT2Zmc2V0PzogbnVtYmVyLFxuICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSBhZGRpdGlvbmFsT2Zmc2V0IHx8IDA7XG4gICAgdGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID0gISFwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5vZGVIYW5kbGUgPT09ICdudW1iZXInKSB7XG4gICAgICBVSU1hbmFnZXIubWVhc3VyZUxheW91dChcbiAgICAgICAgbm9kZUhhbmRsZSxcbiAgICAgICAgbnVsbHRocm93cyhmaW5kTm9kZUhhbmRsZSh0aGlzKSksXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICAgdGhpcy5faW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGVIYW5kbGUubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlLFxuICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX3RleHRJbnB1dEZvY3VzRXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQSBoZWxwZXIgZnVuY3Rpb24gdG8gem9vbSB0byBhIHNwZWNpZmljIHJlY3QgaW4gdGhlIHNjcm9sbHZpZXcuIFRoZSBhcmd1bWVudCBoYXMgdGhlIHNoYXBlXG4gICAqIHt4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IGFuaW1hdGVkOiBib29sZWFuID0gdHJ1ZX1cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAoXG4gICAgcmVjdDoge3xcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICB8fSxcbiAgICBhbmltYXRlZD86IGJvb2xlYW4sIC8vIGRlcHJlY2F0ZWQsIHB1dCB0aGlzIGluc2lkZSB0aGUgcmVjdCBhcmd1bWVudCBpbnN0ZWFkXG4gICkgPT4gdm9pZCA9IChcbiAgICByZWN0OiB7fFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIHx9LFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbiwgLy8gZGVwcmVjYXRlZCwgcHV0IHRoaXMgaW5zaWRlIHRoZSByZWN0IGFyZ3VtZW50IGluc3RlYWRcbiAgKSA9PiB7XG4gICAgaW52YXJpYW50KFBsYXRmb3JtLk9TID09PSAnaW9zJywgJ3pvb21Ub1JlY3QgaXMgbm90IGltcGxlbWVudGVkJyk7XG4gICAgaWYgKCdhbmltYXRlZCcgaW4gcmVjdCkge1xuICAgICAgdGhpcy5fYW5pbWF0ZWQgPSByZWN0LmFuaW1hdGVkO1xuICAgICAgZGVsZXRlIHJlY3QuYW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYW5pbWF0ZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvYCBgYW5pbWF0ZWRgIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuIFVzZSBgb3B0aW9ucy5hbmltYXRlZGAgaW5zdGVhZCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmKCk7XG4gICAgaWYgKGNvbXBvbmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnpvb21Ub1JlY3QoY29tcG9uZW50LCByZWN0LCBhbmltYXRlZCAhPT0gZmFsc2UpO1xuICB9O1xuXG4gIF90ZXh0SW5wdXRGb2N1c0Vycm9yKCkge1xuICAgIGNvbnNvbGUud2FybignRXJyb3IgbWVhc3VyaW5nIHRleHQgZmllbGQuJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGN1bGF0aW9ucyBwZXJmb3JtZWQgaGVyZSBhc3N1bWUgdGhlIHNjcm9sbCB2aWV3IHRha2VzIHVwIHRoZSBlbnRpcmVcbiAgICogc2NyZWVuIC0gZXZlbiBpZiBoYXMgc29tZSBjb250ZW50IGluc2V0LiBXZSB0aGVuIG1lYXN1cmUgdGhlIG9mZnNldHMgb2YgdGhlXG4gICAqIGtleWJvYXJkLCBhbmQgY29tcGVuc2F0ZSBib3RoIGZvciB0aGUgc2Nyb2xsIHZpZXcncyBcImNvbnRlbnRJbnNldFwiLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvcCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdGV4dCBpbnB1dC5cbiAgICovXG4gIF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkOiAoXG4gICAgbGVmdDogbnVtYmVyLFxuICAgIHRvcDogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICkgPT4gdm9pZCA9IChsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGxldCBrZXlib2FyZFNjcmVlblkgPSBEaW1lbnNpb25zLmdldCgnd2luZG93JykuaGVpZ2h0O1xuXG4gICAgY29uc3Qgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0ID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2tleWJvYXJkTWV0cmljcyAhPSBudWxsKSB7XG4gICAgICAgIGtleWJvYXJkU2NyZWVuWSA9IHRoaXMuX2tleWJvYXJkTWV0cmljcy5zY3JlZW5ZO1xuICAgICAgfVxuICAgICAgbGV0IHNjcm9sbE9mZnNldFkgPVxuICAgICAgICB0b3AgLSBrZXlib2FyZFNjcmVlblkgKyBoZWlnaHQgKyB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0O1xuXG4gICAgICAvLyBCeSBkZWZhdWx0LCB0aGlzIGNhbiBzY3JvbGwgd2l0aCBuZWdhdGl2ZSBvZmZzZXQsIHB1bGxpbmcgdGhlIGNvbnRlbnRcbiAgICAgIC8vIGRvd24gc28gdGhhdCB0aGUgdGFyZ2V0IGNvbXBvbmVudCdzIGJvdHRvbSBtZWV0cyB0aGUga2V5Ym9hcmQncyB0b3AuXG4gICAgICAvLyBJZiByZXF1ZXN0ZWQgb3RoZXJ3aXNlLCBjYXAgdGhlIG9mZnNldCBhdCAwIG1pbmltdW0gdG8gYXZvaWQgY29udGVudFxuICAgICAgLy8gc2hpZnRpbmcgZG93bi5cbiAgICAgIGlmICh0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgc2Nyb2xsT2Zmc2V0WSA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldFkpO1xuICAgICAgfVxuICAgICAgdGhpcy5zY3JvbGxUbyh7eDogMCwgeTogc2Nyb2xsT2Zmc2V0WSwgYW5pbWF0ZWQ6IHRydWV9KTtcblxuICAgICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IDA7XG4gICAgICB0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2tleWJvYXJkTWV0cmljcyA9PSBudWxsKSB7XG4gICAgICAvLyBgX2tleWJvYXJkTWV0cmljc2AgaXMgc2V0IGluc2lkZSBgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvd2Agd2hpY2hcbiAgICAgIC8vIGlzIG5vdCBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCBidXQgbmF0aXZlIGhhcyBhbHJlYWR5IHNjaGVkdWxlZCBpdC5cbiAgICAgIC8vIEluIGNhc2UgaXQgd2FzIG5vdCBjYWxsZWQgYmVmb3JlIGBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZGAsIHdlIHBvc3Rwb25lIHNjcm9sbGluZyB0b1xuICAgICAgLy8gdGV4dCBpbnB1dC5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgX2dldEtleUZvckluZGV4KGluZGV4OiAkRmxvd0ZpeE1lLCBjaGlsZEFycmF5OiAkRmxvd0ZpeE1lKTogJEZsb3dGaXhNZSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZEFycmF5W2luZGV4XTtcbiAgICByZXR1cm4gY2hpbGQgJiYgY2hpbGQua2V5O1xuICB9XG5cbiAgX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzICYmXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQgPVxuICAgICAgICBBbmltYXRlZEltcGxlbWVudGF0aW9uLmF0dGFjaE5hdGl2ZUV2ZW50KFxuICAgICAgICAgIHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmKCksXG4gICAgICAgICAgJ29uU2Nyb2xsJyxcbiAgICAgICAgICBbe25hdGl2ZUV2ZW50OiB7Y29udGVudE9mZnNldDoge3k6IHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9fX1dLFxuICAgICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRTdGlja3lIZWFkZXJSZWYoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcmVmOiA/UmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPixcbiAgKSB7XG4gICAgaWYgKHJlZikge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5zZXQoa2V5LCByZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuXG4gIF9vblN0aWNreUhlYWRlckxheW91dChpbmRleDogJEZsb3dGaXhNZSwgZXZlbnQ6ICRGbG93Rml4TWUsIGtleTogJEZsb3dGaXhNZSkge1xuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFzdGlja3lIZWFkZXJJbmRpY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5PCRGbG93Rml4TWU+KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGlmIChrZXkgIT09IHRoaXMuX2dldEtleUZvckluZGV4KGluZGV4LCBjaGlsZEFycmF5KSkge1xuICAgICAgLy8gaWdub3JlIHN0YWxlIGxheW91dCB1cGRhdGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsYXlvdXRZID0gZXZlbnQubmF0aXZlRXZlbnQubGF5b3V0Lnk7XG4gICAgdGhpcy5faGVhZGVyTGF5b3V0WXMuc2V0KGtleSwgbGF5b3V0WSk7XG5cbiAgICBjb25zdCBpbmRleE9mSW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpO1xuICAgIGNvbnN0IHByZXZpb3VzSGVhZGVySW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCAtIDFdO1xuICAgIGlmIChwcmV2aW91c0hlYWRlckluZGV4ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzSGVhZGVyID0gdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5nZXQoXG4gICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KHByZXZpb3VzSGVhZGVySW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgKTtcbiAgICAgIHByZXZpb3VzSGVhZGVyICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZKGxheW91dFkpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTY3JvbGwgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICB0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiYgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgfTtcblxuICBfaGFuZGxlTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bGF5b3V0SGVpZ2h0OiBlLm5hdGl2ZUV2ZW50LmxheW91dC5oZWlnaHR9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25MYXlvdXQpIHtcbiAgICAgIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgfVxuICB9O1xuXG4gIF9oYW5kbGVDb250ZW50T25MYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBlLm5hdGl2ZUV2ZW50LmxheW91dDtcbiAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgJiZcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfTtcblxuICBfaW5uZXJWaWV3OiBSZWZGb3J3YXJkZXI8SW5uZXJWaWV3SW5zdGFuY2UsIElubmVyVmlld0luc3RhbmNlPiA9XG4gICAgY3JlYXRlUmVmRm9yd2FyZGVyKFxuICAgICAgKGluc3RhbmNlOiBJbm5lclZpZXdJbnN0YW5jZSk6IElubmVyVmlld0luc3RhbmNlID0+IGluc3RhbmNlLFxuICAgICk7XG5cbiAgX3Njcm9sbFZpZXc6IFJlZkZvcndhcmRlcjxIb3N0SW5zdGFuY2UsIFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSB8IG51bGw+ID1cbiAgICBjcmVhdGVSZWZGb3J3YXJkZXIobmF0aXZlSW5zdGFuY2UgPT4ge1xuICAgICAgLy8gVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiAgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAgIC8vIGhvc3QgY29tcG9uZW50LiBIb3dldmVyLCBzaW5jZSBTY3JvbGxWaWV3IGhhcyBpdCdzIG93biBtZXRob2RzIHRoYXQgY2FuIGJlXG4gICAgICAvLyBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAvLyBtZXRob2RzIHdvdWxkbid0IGJlIGFjY2Vzc2libGUgYW5kIHRodXMgYmUgYSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAvL1xuICAgICAgLy8gVGhlcmVmb3JlIHdlIGVkaXQgcmVmIHRvIGluY2x1ZGUgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzIHNvIHRoYXRcbiAgICAgIC8vIHRoZXkgYXJlIGNhbGxhYmxlIGZyb20gdGhlIHJlZi5cblxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gS25vd24gaXNzdWUgd2l0aCBhcHBlbmRpbmcgY3VzdG9tIG1ldGhvZHMuXG4gICAgICBjb25zdCBwdWJsaWNJbnN0YW5jZTogUHVibGljU2Nyb2xsVmlld0luc3RhbmNlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgbmF0aXZlSW5zdGFuY2UsXG4gICAgICAgIHtcbiAgICAgICAgICBnZXRTY3JvbGxSZXNwb25kZXI6IHRoaXMuZ2V0U2Nyb2xsUmVzcG9uZGVyLFxuICAgICAgICAgIGdldFNjcm9sbGFibGVOb2RlOiB0aGlzLmdldFNjcm9sbGFibGVOb2RlLFxuICAgICAgICAgIGdldElubmVyVmlld05vZGU6IHRoaXMuZ2V0SW5uZXJWaWV3Tm9kZSxcbiAgICAgICAgICBnZXRJbm5lclZpZXdSZWY6IHRoaXMuZ2V0SW5uZXJWaWV3UmVmLFxuICAgICAgICAgIGdldE5hdGl2ZVNjcm9sbFJlZjogdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYsXG4gICAgICAgICAgc2Nyb2xsVG86IHRoaXMuc2Nyb2xsVG8sXG4gICAgICAgICAgc2Nyb2xsVG9FbmQ6IHRoaXMuc2Nyb2xsVG9FbmQsXG4gICAgICAgICAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiB0aGlzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyxcbiAgICAgICAgICBzY3JvbGxSZXNwb25kZXJab29tVG86IHRoaXMuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvLFxuICAgICAgICAgIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQsXG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gcHVibGljSW5zdGFuY2U7XG4gICAgfSk7XG5cbiAgLyoqXG4gICAqIFdhcm5pbmcsIHRoaXMgbWF5IGJlIGNhbGxlZCBzZXZlcmFsIHRpbWVzIGZvciBhIHNpbmdsZSBrZXlib2FyZCBvcGVuaW5nLlxuICAgKiBJdCdzIGJlc3QgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGluIHRoaXMgbWV0aG9kIGFuZCB0aGVuIHRha2UgYW55IGFjdGlvblxuICAgKiBhdCBhIGxhdGVyIHBvaW50IChlaXRoZXIgaW4gYGtleWJvYXJkRGlkU2hvd2Agb3Igb3RoZXIpLlxuICAgKlxuICAgKiBIZXJlJ3MgdGhlIG9yZGVyIHRoYXQgZXZlbnRzIG9jY3VyIGluOlxuICAgKiAtIGZvY3VzXG4gICAqIC0gd2lsbFNob3cge3N0YXJ0Q29vcmRpbmF0ZXMsIGVuZENvb3JkaW5hdGVzfSBzZXZlcmFsIHRpbWVzXG4gICAqIC0gZGlkU2hvdyBzZXZlcmFsIHRpbWVzXG4gICAqIC0gYmx1clxuICAgKiAtIHdpbGxIaWRlIHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZEhpZGUgc2V2ZXJhbCB0aW1lc1xuICAgKlxuICAgKiBUaGUgYFNjcm9sbFJlc3BvbmRlcmAgbW9kdWxlIGNhbGxiYWNrcyBmb3IgZWFjaCBvZiB0aGVzZSBldmVudHMuXG4gICAqIEV2ZW4gdGhvdWdoIGFueSB1c2VyIGNvdWxkIGhhdmUgZWFzaWx5IGxpc3RlbmVkIHRvIGtleWJvYXJkIGV2ZW50c1xuICAgKiB0aGVtc2VsdmVzLCB1c2luZyB0aGVzZSBgcHJvcHNgIGNhbGxiYWNrcyBlbnN1cmVzIHRoYXQgb3JkZXJpbmcgb2YgZXZlbnRzXG4gICAqIGlzIGNvbnNpc3RlbnQgLSBhbmQgbm90IGRlcGVuZGVudCBvbiB0aGUgb3JkZXIgdGhhdCB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZVxuICAgKiBzdWJzY3JpYmVkIHRvLiBUaGlzIG1hdHRlcnMgd2hlbiB0ZWxsaW5nIHRoZSBzY3JvbGwgdmlldyB0byBzY3JvbGwgdG8gd2hlcmVcbiAgICogdGhlIGtleWJvYXJkIGlzIGhlYWRlZCAtIHRoZSBzY3JvbGwgcmVzcG9uZGVyIGJldHRlciBoYXZlIGJlZW4gbm90aWZpZWQgb2ZcbiAgICogdGhlIGtleWJvYXJkIGRlc3RpbmF0aW9uIGJlZm9yZSBiZWluZyBpbnN0cnVjdGVkIHRvIHNjcm9sbCB0byB3aGVyZSB0aGVcbiAgICoga2V5Ym9hcmQgd2lsbCBiZS4gU3RpY2sgdG8gdGhlIGBTY3JvbGxSZXNwb25kZXJgIGNhbGxiYWNrcywgYW5kIGV2ZXJ5dGhpbmdcbiAgICogd2lsbCB3b3JrLlxuICAgKlxuICAgKiBXQVJOSU5HOiBUaGVzZSBjYWxsYmFja3Mgd2lsbCBmaXJlIGV2ZW4gaWYgYSBrZXlib2FyZCBpcyBkaXNwbGF5ZWQgaW4gYVxuICAgKiBkaWZmZXJlbnQgbmF2aWdhdGlvbiBwYW5lLiBGaWx0ZXIgb3V0IHRoZSBldmVudHMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAqIHJlbGV2YW50IHRvIHlvdS4gKEZvciBleGFtcGxlLCBvbmx5IGlmIHlvdSByZWNlaXZlIHRoZXNlIGNhbGxiYWNrcyBhZnRlclxuICAgKiB5b3UgaGFkIGV4cGxpY2l0bHkgZm9jdXNlZCBhIG5vZGUgZXRjKS5cbiAgICovXG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gZS5lbmRDb29yZGluYXRlcztcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyhlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlKGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gZS5lbmRDb29yZGluYXRlcztcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93ICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZShlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxFbmRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmZvcnR1bmF0ZWx5LCBgb25TY3JvbGxCZWdpbkRyYWdgIGFsc28gZmlyZXMgd2hlbiAqc3RvcHBpbmcqIHRoZSBzY3JvbGxcbiAgICogYW5pbWF0aW9uLCBhbmQgdGhlcmUncyBub3QgYW4gZWFzeSB3YXkgdG8gZGlzdGluZ3Vpc2ggYSBkcmFnIHZzLiBzdG9wcGluZ1xuICAgKiBtb21lbnR1bS5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxCZWdpbkRyYWdgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbEJlZ2luRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmJlZ2luU2Nyb2xsKCk7IC8vIFRPRE86IHRyYWNrIGFsbCBzY3JvbGxzIGFmdGVyIGltcGxlbWVudGluZyBvblNjcm9sbEVuZEFuaW1hdGlvblxuXG4gICAgaWYgKFxuICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZERpc21pc3NNb2RlID09PSAnb24tZHJhZydcbiAgICApIHtcbiAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxFbmREcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxFbmREcmFnOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICAvLyAtIElmIHdlIGFyZSBhbmltYXRpbmcsIHRoZW4gdGhpcyBpcyBhIFwiZHJhZ1wiIHRoYXQgaXMgc3RvcHBpbmcgdGhlIHNjcm9sbHZpZXcgYW5kIG1vbWVudHVtIGVuZFxuICAgIC8vICAgd2lsbCBmaXJlLlxuICAgIC8vIC0gSWYgdmVsb2NpdHkgaXMgbm9uLXplcm8sIHRoZW4gdGhlIGludGVyYWN0aW9uIHdpbGwgc3RvcCB3aGVuIG1vbWVudHVtIHNjcm9sbCBlbmRzIG9yXG4gICAgLy8gICBhbm90aGVyIGRyYWcgc3RhcnRzIGFuZCBlbmRzLlxuICAgIC8vIC0gSWYgd2UgZG9uJ3QgZ2V0IHZlbG9jaXR5LCBiZXR0ZXIgdG8gc3RvcCB0aGUgaW50ZXJhY3Rpb24gdHdpY2UgdGhhbiBub3Qgc3RvcCBpdC5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5faXNBbmltYXRpbmcoKSAmJlxuICAgICAgKCF2ZWxvY2l0eSB8fCAodmVsb2NpdHkueCA9PT0gMCAmJiB2ZWxvY2l0eS55ID09PSAwKSlcbiAgICApIHtcbiAgICAgIEZyYW1lUmF0ZUxvZ2dlci5lbmRTY3JvbGwoKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIGZvciB0aGlzIGNsYXNzIHRoYXQgbGV0cyB1cyBxdWlja2x5IGRldGVybWluZSBpZiB0aGVcbiAgICogdmlldyBpcyBjdXJyZW50bHkgYW5pbWF0aW5nLiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgdG8ga25vdyB3aGVuXG4gICAqIGEgdG91Y2ggaGFzIGp1c3Qgc3RhcnRlZCBvciBlbmRlZC5cbiAgICovXG4gIF9pc0FuaW1hdGluZzogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kID1cbiAgICAgIG5vdyAtIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU7XG4gICAgY29uc3QgaXNBbmltYXRpbmcgPVxuICAgICAgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIDwgSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyB8fFxuICAgICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA8IHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTtcbiAgICByZXR1cm4gaXNBbmltYXRpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyR3JhbnRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlckdyYW50OiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlckdyYW50ICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudChlKTtcbiAgICB0aGlzLl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyA9IHRoaXMuX2lzQW5pbWF0aW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVqZWN0YCBldmVudC5cbiAgICpcbiAgICogU29tZSBvdGhlciBlbGVtZW50IGlzIG5vdCB5aWVsZGluZyBpdHMgcm9sZSBhcyByZXNwb25kZXIuIE5vcm1hbGx5LCB3ZSdkXG4gICAqIGp1c3QgZGlzYWJsZSB0aGUgYFVJU2Nyb2xsVmlld2AsIGJ1dCBhIHRvdWNoIGhhcyBhbHJlYWR5IGJlZ2FuIG9uIGl0LCB0aGVcbiAgICogYFVJU2Nyb2xsVmlld2Agd2lsbCBub3QgYWNjZXB0IGJlaW5nIGRpc2FibGVkIGFmdGVyIHRoYXQuIFRoZSBlYXNpZXN0XG4gICAqIHNvbHV0aW9uIGZvciBub3cgaXMgdG8gYWNjZXB0IHRoZSBsaW1pdGF0aW9uIG9mIGRpc2FsbG93aW5nIHRoaXNcbiAgICogYWx0b2dldGhlci4gVG8gaW1wcm92ZSB0aGlzLCBmaW5kIGEgd2F5IHRvIGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgIGFmdGVyXG4gICAqIGEgdG91Y2ggaGFzIGFscmVhZHkgc3RhcnRlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWplY3Q6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWxlYXNlOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGUubmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UgJiYgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UoZSk7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCeSBkZWZhdWx0IHNjcm9sbCB2aWV3cyB3aWxsIHVuZm9jdXMgYSB0ZXh0RmllbGRcbiAgICAvLyBpZiBhbm90aGVyIHRvdWNoIG9jY3VycyBvdXRzaWRlIG9mIGl0XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSB0cnVlICYmXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgIT09ICdhbHdheXMnICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT09IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgJiZcbiAgICAgICF0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIgJiZcbiAgICAgICF0aGlzLl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZ1xuICAgICkge1xuICAgICAgVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dChjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFdlIHdpbGwgYWxsb3cgdGhlIHNjcm9sbCB2aWV3IHRvIGdpdmUgdXAgaXRzIGxvY2sgaWZmIGl0IGFjcXVpcmVkIHRoZSBsb2NrXG4gICAqIGR1cmluZyBhbiBhbmltYXRpb24uIFRoaXMgaXMgYSB2ZXJ5IHVzZWZ1bCBkZWZhdWx0IHRoYXQgaGFwcGVucyB0byBzYXRpc2Z5XG4gICAqIG1hbnkgY29tbW9uIHVzZXIgZXhwZXJpZW5jZXMuXG4gICAqXG4gICAqIC0gU3RvcCBhIHNjcm9sbCBvbiB0aGUgbGVmdCBlZGdlLCB0aGVuIHR1cm4gdGhhdCBpbnRvIGFuIG91dGVyIHZpZXcnc1xuICAgKiAgIGJhY2tzd2lwZS5cbiAgICogLSBTdG9wIGEgc2Nyb2xsIG1pZC1ib3VuY2UgYXQgdGhlIHRvcCwgY29udGludWUgcHVsbGluZyB0byBoYXZlIHRoZSBvdXRlclxuICAgKiAgIHZpZXcgZGlzbWlzcy5cbiAgICogLSBIb3dldmVyLCB3aXRob3V0IGNhdGNoaW5nIHRoZSBzY3JvbGwgdmlldyBtaWQtYm91bmNlICh3aGlsZSBpdCBpc1xuICAgKiAgIG1vdGlvbmxlc3MpLCBpZiB5b3UgZHJhZyBmYXIgZW5vdWdoIGZvciB0aGUgc2Nyb2xsIHZpZXcgdG8gYmVjb21lXG4gICAqICAgcmVzcG9uZGVyIChhbmQgdGhlcmVmb3JlIGRyYWcgdGhlIHNjcm9sbCB2aWV3IGEgYml0KSwgYW55IGJhY2tzd2lwZVxuICAgKiAgIG5hdmlnYXRpb24gb2YgYSBzd2lwZSBnZXN0dXJlIGhpZ2hlciBpbiB0aGUgdmlldyBoaWVyYXJjaHksIHNob3VsZCBiZVxuICAgKiAgIHJlamVjdGVkLlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICByZXR1cm4gIXRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlcjtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXNUb3VjaGluZztcbiAgfTtcblxuICAvKipcbiAgICogTWVyZWx5IHRvdWNoIHN0YXJ0aW5nIGlzIG5vdCBzdWZmaWNpZW50IGZvciBhIHNjcm9sbCB2aWV3IHRvIGJlY29tZSB0aGVcbiAgICogcmVzcG9uZGVyLiBCZWluZyB0aGUgXCJyZXNwb25kZXJcIiBtZWFucyB0aGF0IHRoZSB2ZXJ5IG5leHQgdG91Y2ggbW92ZS9lbmRcbiAgICogZXZlbnQgd2lsbCByZXN1bHQgaW4gYW4gYWN0aW9uL21vdmVtZW50LlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCBldmVudC5cbiAgICpcbiAgICogYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgIGlzIHVzZWQgd2hlbiB0aGUgbmV4dCBtb3ZlL2VuZCB3aWxsIHRyaWdnZXJcbiAgICogc29tZSBVSSBtb3ZlbWVudC9hY3Rpb24sIGJ1dCB3aGVuIHlvdSB3YW50IHRvIHlpZWxkIHByaW9yaXR5IHRvIHZpZXdzXG4gICAqIG5lc3RlZCBpbnNpZGUgb2YgdGhlIHZpZXcuXG4gICAqXG4gICAqIFRoZXJlIG1heSBiZSBzb21lIGNhc2VzIHdoZXJlIHNjcm9sbCB2aWV3cyBhY3R1YWxseSBzaG91bGQgcmV0dXJuIGB0cnVlYFxuICAgKiBmcm9tIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYDogQW55IHRpbWUgd2UgYXJlIGRldGVjdGluZyBhIHN0YW5kYXJkIHRhcFxuICAgKiB0aGF0IGdpdmVzIHByaW9yaXR5IHRvIG5lc3RlZCB2aWV3cy5cbiAgICpcbiAgICogLSBJZiBhIHNpbmdsZSB0YXAgb24gdGhlIHNjcm9sbCB2aWV3IHRyaWdnZXJzIGFuIGFjdGlvbiBzdWNoIGFzXG4gICAqICAgcmVjZW50ZXJpbmcgYSBtYXAgc3R5bGUgdmlldyB5ZXQgd2FudHMgdG8gZ2l2ZSBwcmlvcml0eSB0byBpbnRlcmFjdGlvblxuICAgKiAgIHZpZXdzIGluc2lkZSAoc3VjaCBhcyBkcm9wcGVkIHBpbnMgb3IgbGFiZWxzKSwgdGhlbiB3ZSB3b3VsZCByZXR1cm4gdHJ1ZVxuICAgKiAgIGZyb20gdGhpcyBtZXRob2Qgd2hlbiB0aGVyZSBpcyBhIHNpbmdsZSB0b3VjaC5cbiAgICpcbiAgICogLSBTaW1pbGFyIHRvIHRoZSBwcmV2aW91cyBjYXNlLCBpZiBhIHR3byBmaW5nZXIgXCJ0YXBcIiBzaG91bGQgdHJpZ2dlciBhXG4gICAqICAgem9vbSwgd2Ugd291bGQgY2hlY2sgdGhlIGB0b3VjaGVzYCBjb3VudCwgYW5kIGlmIGA+PSAyYCwgd2Ugd291bGQgcmV0dXJuXG4gICAqICAgdHJ1ZS5cbiAgICpcbiAgICovXG4gIF9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcjogKGU6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4gPSAoXG4gICAgZTogUHJlc3NFdmVudCxcbiAgKSA9PiB7XG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkSW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICdoYW5kbGVkJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkSW5wdXRcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZXJlIGFyZSB0aW1lcyB3aGVuIHRoZSBzY3JvbGwgdmlldyB3YW50cyB0byBiZWNvbWUgdGhlIHJlc3BvbmRlclxuICAgKiAobWVhbmluZyByZXNwb25kIHRvIHRoZSBuZXh0IGltbWVkaWF0ZSBgdG91Y2hTdGFydC90b3VjaEVuZGApLCBpbiBhIHdheVxuICAgKiB0aGF0ICpkb2Vzbid0KiBnaXZlIHByaW9yaXR5IHRvIG5lc3RlZCB2aWV3cyAoaGVuY2UgdGhlIGNhcHR1cmUgcGhhc2UpOlxuICAgKlxuICAgKiAtIEN1cnJlbnRseSBhbmltYXRpbmcuXG4gICAqIC0gVGFwcGluZyBhbnl3aGVyZSB0aGF0IGlzIG5vdCBhIHRleHQgaW5wdXQsIHdoaWxlIHRoZSBrZXlib2FyZCBpc1xuICAgKiAgIHVwICh3aGljaCBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQpLlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiAoZTogUHJlc3NFdmVudCkgPT4gYm9vbGVhbiA9IChcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApID0+IHtcbiAgICAvLyBUaGUgc2Nyb2xsIHZpZXcgc2hvdWxkIHJlY2VpdmUgdGFwcyBpbnN0ZWFkIG9mIGl0cyBkZXNjZW5kYW50cyBpZjpcbiAgICAvLyAqIGl0IGlzIGFscmVhZHkgYW5pbWF0aW5nL2RlY2VsZXJhdGluZ1xuICAgIGlmICh0aGlzLl9pc0FuaW1hdGluZygpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vICogdGhlIGtleWJvYXJkIGlzIHVwLCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIGlzICduZXZlcicgKHRoZSBkZWZhdWx0KSxcbiAgICAvLyBhbmQgYSBuZXcgdG91Y2ggc3RhcnRzIHdpdGggYSBub24tdGV4dGlucHV0IHRhcmdldCAoaW4gd2hpY2ggY2FzZSB0aGVcbiAgICAvLyBmaXJzdCB0YXAgc2hvdWxkIGJlIHNlbnQgdG8gdGhlIHNjcm9sbCB2aWV3IGFuZCBkaXNtaXNzIHRoZSBrZXlib2FyZCxcbiAgICAvLyB0aGVuIHRoZSBzZWNvbmQgdGFwIGdvZXMgdG8gdGhlIGFjdHVhbCBpbnRlcmlvciB2aWV3KVxuICAgIGNvbnN0IHtrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzID1cbiAgICAgICFrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIHx8IGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICduZXZlcic7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBMZXQgcHJlc3NlcyB0aHJvdWdoIGlmIHRoZSBzb2Z0IGtleWJvYXJkIGlzIGRldGFjaGVkIGZyb20gdGhlIHZpZXdwb3J0XG4gICAgaWYgKHRoaXMuX3NvZnRLZXlib2FyZElzRGV0YWNoZWQoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9IG51bGwgJiZcbiAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdXG4gICAgICAhVGV4dElucHV0U3RhdGUuaXNUZXh0SW5wdXQoZS50YXJnZXQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERvIHdlIGNvbnNpZGVyIHRoZXJlIHRvIGJlIGEgZGlzbWlzc2libGUgc29mdC1rZXlib2FyZCBvcGVuP1xuICAgKi9cbiAgX2tleWJvYXJkSXNEaXNtaXNzaWJsZTogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkSW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcblxuICAgIC8vIFdlIGNhbm5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZCB3aXRob3V0IGFuIGlucHV0IHRvIGJsdXIsIGV2ZW4gaWYgYSBzb2Z0XG4gICAgLy8ga2V5Ym9hcmQgaXMgb3BlbiAoZS5nLiB3aGVuIGtleWJvYXJkIGlzIG9wZW4gZHVlIHRvIGEgbmF0aXZlIGNvbXBvbmVudFxuICAgIC8vIG5vdCBwYXJ0aWNpcGF0aW5nIGluIFRleHRJbnB1dFN0YXRlKS4gSXQncyBhbHNvIHBvc3NpYmxlIHRoYXQgdGhlXG4gICAgLy8gY3VycmVudGx5IGZvY3VzZWQgaW5wdXQgaXNuJ3QgYSBUZXh0SW5wdXQgKHN1Y2ggYXMgYnkgY2FsbGluZyByZWYuZm9jdXNcbiAgICAvLyBvbiBhIG5vbi1UZXh0SW5wdXQpLlxuICAgIGNvbnN0IGhhc0ZvY3VzZWRUZXh0SW5wdXQgPVxuICAgICAgY3VycmVudGx5Rm9jdXNlZElucHV0ICE9IG51bGwgJiZcbiAgICAgIFRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRJbnB1dCk7XG5cbiAgICAvLyBFdmVuIGlmIGFuIGlucHV0IGlzIGZvY3VzZWQsIHdlIG1heSBub3QgaGF2ZSBhIGtleWJvYXJkIHRvIGRpc21pc3MuIEUuZ1xuICAgIC8vIHdoZW4gdXNpbmcgYSBwaHlzaWNhbCBrZXlib2FyZC4gRW5zdXJlIHdlIGhhdmUgYW4gZXZlbnQgZm9yIGFuIG9wZW5lZFxuICAgIC8vIGtleWJvYXJkLlxuICAgIGNvbnN0IHNvZnRLZXlib2FyZE1heUJlT3BlbiA9XG4gICAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgIT0gbnVsbCB8fCB0aGlzLl9rZXlib2FyZEV2ZW50c0FyZVVucmVsaWFibGUoKTtcblxuICAgIHJldHVybiBoYXNGb2N1c2VkVGV4dElucHV0ICYmIHNvZnRLZXlib2FyZE1heUJlT3BlbjtcbiAgfTtcblxuICAvKipcbiAgICogV2hldGhlciBhbiBvcGVuIHNvZnQga2V5Ym9hcmQgaXMgcHJlc2VudCB3aGljaCBkb2VzIG5vdCBvdmVybGFwIHRoZVxuICAgKiB2aWV3cG9ydC4gRS5nLiBmb3IgYSBWUiBzb2Z0LWtleWJvYXJkIHdoaWNoIGlzIGRldGFjaGVkIGZyb20gdGhlIGFwcFxuICAgKiB2aWV3cG9ydC5cbiAgICovXG4gIF9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9rZXlib2FyZE1ldHJpY3MgIT0gbnVsbCAmJiB0aGlzLl9rZXlib2FyZE1ldHJpY3MuaGVpZ2h0ID09PSAwO1xuICB9O1xuXG4gIF9rZXlib2FyZEV2ZW50c0FyZVVucmVsaWFibGU6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQW5kcm9pZCB2ZXJzaW9ucyBwcmlvciB0byBBUEkgMzAgcmVseSBvbiBvYnNlcnZpbmcgbGF5b3V0IGNoYW5nZXMgd2hlblxuICAgIC8vIGBhbmRyb2lkOndpbmRvd1NvZnRJbnB1dE1vZGVgIGlzIHNldCB0byBgYWRqdXN0UmVzaXplYCBvciBgYWRqdXN0UGFuYC5cbiAgICByZXR1cm4gUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBQbGF0Zm9ybS5WZXJzaW9uIDwgMzA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hFbmRgIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgRXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hFbmQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICBjb25zdCBuYXRpdmVFdmVudCA9IGUubmF0aXZlRXZlbnQ7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IG5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoICE9PSAwO1xuXG4gICAgY29uc3Qge2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHN9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBrZXlib2FyZE5ldmVyUGVyc2lzdHNUYXBzID1cbiAgICAgICFrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIHx8IGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICduZXZlcic7XG5cbiAgICAvLyBEaXNtaXNzIHRoZSBrZXlib2FyZCBub3cgaWYgd2UgZGlkbid0IGJlY29tZSByZXNwb25kZXIgaW4gY2FwdHVyZSBwaGFzZVxuICAgIC8vIHRvIGVhdCBwcmVzc2VzLCBidXQgc3RpbGwgd2FudCB0byBkaXNtaXNzIG9uIGludGVyYWN0aW9uLlxuICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoZSB0YXJnZXQgb2YgdGhlIHRvdWNoIGV2ZW50IGlzIHRoZSBjdXJyZW50IGlucHV0LlxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICE9IG51bGwgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICB0aGlzLl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkKCkgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBrZXlib2FyZE5ldmVyUGVyc2lzdHNUYXBzXG4gICAgKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25Ub3VjaEVuZCAmJiB0aGlzLnByb3BzLm9uVG91Y2hFbmQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hDYW5jZWxgIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgRXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hDYW5jZWw6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoQ2FuY2VsICYmIHRoaXMucHJvcHMub25Ub3VjaENhbmNlbChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaFN0YXJ0YCBldmVudC5cbiAgICpcbiAgICogU2luY2Ugd2Uga25vdyB0aGF0IHRoZSBgU2ltcGxlRXZlbnRQbHVnaW5gIG9jY3VycyBsYXRlciBpbiB0aGUgcGx1Z2luXG4gICAqIG9yZGVyLCBhZnRlciBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gLCB3ZSBjYW4gZGV0ZWN0IHRoYXQgd2Ugd2VyZSAqbm90KlxuICAgKiBwZXJtaXR0ZWQgdG8gYmUgdGhlIHJlc3BvbmRlciAocHJlc3VtYWJseSBiZWNhdXNlIGEgY29udGFpbmVkIHZpZXcgYmVjYW1lXG4gICAqIHJlc3BvbmRlcikuIFRoZSBgb25SZXNwb25kZXJSZWplY3RgIHdvbid0IGZpcmUgaW4gdGhhdCBjYXNlIC0gaXQgb25seVxuICAgKiBmaXJlcyB3aGVuIGEgKmN1cnJlbnQqIHJlc3BvbmRlciByZWplY3RzIG91ciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgVG91Y2ggU3RhcnQgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hTdGFydDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25Ub3VjaFN0YXJ0ICYmIHRoaXMucHJvcHMub25Ub3VjaFN0YXJ0KGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoTW92ZWAgZXZlbnQuXG4gICAqXG4gICAqIFNpbmNlIHdlIGtub3cgdGhhdCB0aGUgYFNpbXBsZUV2ZW50UGx1Z2luYCBvY2N1cnMgbGF0ZXIgaW4gdGhlIHBsdWdpblxuICAgKiBvcmRlciwgYWZ0ZXIgYFJlc3BvbmRlckV2ZW50UGx1Z2luYCwgd2UgY2FuIGRldGVjdCB0aGF0IHdlIHdlcmUgKm5vdCpcbiAgICogcGVybWl0dGVkIHRvIGJlIHRoZSByZXNwb25kZXIgKHByZXN1bWFibHkgYmVjYXVzZSBhIGNvbnRhaW5lZCB2aWV3IGJlY2FtZVxuICAgKiByZXNwb25kZXIpLiBUaGUgYG9uUmVzcG9uZGVyUmVqZWN0YCB3b24ndCBmaXJlIGluIHRoYXQgY2FzZSAtIGl0IG9ubHlcbiAgICogZmlyZXMgd2hlbiBhICpjdXJyZW50KiByZXNwb25kZXIgcmVqZWN0cyBvdXIgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoTW92ZTogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25Ub3VjaE1vdmUgJiYgdGhpcy5wcm9wcy5vblRvdWNoTW92ZShlKTtcbiAgfTtcblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgY29uc3QgaG9yaXpvbnRhbCA9IHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZTtcblxuICAgIGNvbnN0IE5hdGl2ZVNjcm9sbFZpZXcgPSBob3Jpem9udGFsXG4gICAgICA/IEhTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50XG4gICAgICA6IFZTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuXG4gICAgY29uc3QgTmF0aXZlU2Nyb2xsQ29udGVudFZpZXcgPSBob3Jpem9udGFsXG4gICAgICA/IEhTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudFxuICAgICAgOiBWU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQ7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyU3R5bGUgPSBbXG4gICAgICBob3Jpem9udGFsICYmIHN0eWxlcy5jb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlLFxuICAgIF07XG4gICAgaWYgKF9fREVWX18gJiYgdGhpcy5wcm9wcy5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3VuZGVyY29uc3RyYWluZWQtaW1wbGljaXQtaW5zdGFudGlhdGlvbl1cbiAgICAgIGNvbnN0IHN0eWxlID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgY29uc3QgY2hpbGRMYXlvdXRQcm9wcyA9IFsnYWxpZ25JdGVtcycsICdqdXN0aWZ5Q29udGVudCddLmZpbHRlcihcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgICBwcm9wID0+IHN0eWxlICYmIHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjaGlsZExheW91dFByb3BzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgJ1Njcm9sbFZpZXcgY2hpbGQgbGF5b3V0ICgnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShjaGlsZExheW91dFByb3BzKSArXG4gICAgICAgICAgJykgbXVzdCBiZSBhcHBsaWVkIHRocm91Z2ggdGhlIGNvbnRlbnRDb250YWluZXJTdHlsZSBwcm9wLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPVxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlID09IG51bGxcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDoge1xuICAgICAgICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUNvbnRlbnRPbkxheW91dCxcbiAgICAgICAgICB9O1xuXG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIGNhdXNlIHVubmVjZXNzYXJ5IHJlbW91bnQgd2hlbiBuZXN0ZWQgaW4gY29uZGl0aW9uYWxzIGFzIGl0IGNhdXNlcyByZW1hcCBvZiBjaGlsZHJlbiBrZXlzLlxuICAgICAqIGh0dHBzOi8vcmVhY3QuZGV2L3JlZmVyZW5jZS9yZWFjdC9DaGlsZHJlbiNjaGlsZHJlbi10b2FycmF5LWNhdmVhdHNcbiAgICAgKi9cbiAgICBjaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXk8JEZsb3dGaXhNZT4oY2hpbGRyZW4pO1xuXG4gICAgaWYgKHN0aWNreUhlYWRlckluZGljZXMgIT0gbnVsbCAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4ubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXhPZkluZGV4ID0gY2hpbGQgPyBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpIDogLTE7XG4gICAgICAgIGlmIChpbmRleE9mSW5kZXggPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCArIDFdO1xuICAgICAgICAgIGNvbnN0IFN0aWNreUhlYWRlckNvbXBvbmVudCA9XG4gICAgICAgICAgICB0aGlzLnByb3BzLlN0aWNreUhlYWRlckNvbXBvbmVudCB8fCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U3RpY2t5SGVhZGVyQ29tcG9uZW50XG4gICAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB0aGlzLl9zZXRTdGlja3lIZWFkZXJSZWYoa2V5LCByZWYpfVxuICAgICAgICAgICAgICBuZXh0SGVhZGVyTGF5b3V0WT17dGhpcy5faGVhZGVyTGF5b3V0WXMuZ2V0KFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KG5leHRJbmRleCwgY2hpbGRyZW4pLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBvbkxheW91dD17ZXZlbnQgPT4gdGhpcy5fb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpfVxuICAgICAgICAgICAgICBzY3JvbGxBbmltYXRlZFZhbHVlPXt0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfVxuICAgICAgICAgICAgICBpbnZlcnRlZD17dGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzfVxuICAgICAgICAgICAgICBoaWRkZW5PblNjcm9sbD17dGhpcy5wcm9wcy5zdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbH1cbiAgICAgICAgICAgICAgc2Nyb2xsVmlld0hlaWdodD17dGhpcy5zdGF0ZS5sYXlvdXRIZWlnaHR9PlxuICAgICAgICAgICAgICB7Y2hpbGR9XG4gICAgICAgICAgICA8L1N0aWNreUhlYWRlckNvbXBvbmVudD5cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNoaWxkcmVuID0gKFxuICAgICAgPFNjcm9sbFZpZXdDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtob3Jpem9udGFsID8gSE9SSVpPTlRBTCA6IFZFUlRJQ0FMfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9TY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuXG4gICAgY29uc3QgaGFzU3RpY2t5SGVhZGVycyA9XG4gICAgICBBcnJheS5pc0FycmF5KHN0aWNreUhlYWRlckluZGljZXMpICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMDtcblxuICAgIC8vIFNvbWUgU2Nyb2xsVmlldyBuYXRpdmUgY29tcG9uZW50IGJlaGF2aW9ycyByZWx5IG9uIHVzaW5nIHRoZSBtZXRyaWNzXG4gICAgLy8gb2YgbW91bnRlZCB2aWV3cyBmb3IgYW5jaG9yaW5nLiBNYWtlIHN1cmUgbm90IHRvIGZsYXR0ZW4gY2hpbGRyZW4gaWZcbiAgICAvLyB0aGlzIGlzIHRoZSBjYXNlLlxuICAgIGNvbnN0IHByZXNlcnZlQ2hpbGRyZW4gPVxuICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24gIT0gbnVsbCB8fFxuICAgICAgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgdGhpcy5wcm9wcy5zbmFwVG9BbGlnbm1lbnQgIT0gbnVsbCk7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gKFxuICAgICAgPE5hdGl2ZVNjcm9sbENvbnRlbnRWaWV3XG4gICAgICAgIHsuLi5jb250ZW50U2l6ZUNoYW5nZVByb3BzfVxuICAgICAgICByZWY9e3RoaXMuX2lubmVyVmlldy5nZXRGb3J3YXJkaW5nUmVmKHRoaXMucHJvcHMuaW5uZXJWaWV3UmVmKX1cbiAgICAgICAgc3R5bGU9e2NvbnRlbnRDb250YWluZXJTdHlsZX1cbiAgICAgICAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPXtcbiAgICAgICAgICAvLyBTdWJ2aWV3IGNsaXBwaW5nIGNhdXNlcyBpc3N1ZXMgd2l0aCBzdGlja3kgaGVhZGVycyBvbiBBbmRyb2lkIGFuZFxuICAgICAgICAgIC8vIHdvdWxkIGJlIGhhcmQgdG8gZml4IHByb3Blcmx5IGluIGEgcGVyZm9ybWFudCB3YXkuXG4gICAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICA6IHRoaXMucHJvcHMucmVtb3ZlQ2xpcHBlZFN1YnZpZXdzXG4gICAgICAgIH1cbiAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfVxuICAgICAgICBjb2xsYXBzYWJsZUNoaWxkcmVuPXshcHJlc2VydmVDaGlsZHJlbn0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTmF0aXZlU2Nyb2xsQ29udGVudFZpZXc+XG4gICAgKTtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZUhvcml6b250YWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWxcbiAgICAgICAgOiB0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VWZXJ0aWNhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsXG4gICAgICAgIDogIXRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGJhc2VTdHlsZSA9IGhvcml6b250YWwgPyBzdHlsZXMuYmFzZUhvcml6b250YWwgOiBzdHlsZXMuYmFzZVZlcnRpY2FsO1xuXG4gICAgY29uc3Qge2V4cGVyaW1lbnRhbF9lbmREcmFnZ2luZ1NlbnNpdGl2aXR5TXVsdGlwbGllciwgLi4ub3RoZXJQcm9wc30gPVxuICAgICAgdGhpcy5wcm9wcztcbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgIC4uLm90aGVyUHJvcHMsXG4gICAgICBhbHdheXNCb3VuY2VIb3Jpem9udGFsLFxuICAgICAgYWx3YXlzQm91bmNlVmVydGljYWwsXG4gICAgICBzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGJhc2VTdHlsZSwgdGhpcy5wcm9wcy5zdHlsZSksXG4gICAgICAvLyBPdmVycmlkZSB0aGUgb25Db250ZW50U2l6ZUNoYW5nZSBmcm9tIHByb3BzLCBzaW5jZSB0aGlzIGV2ZW50IGNhblxuICAgICAgLy8gYnViYmxlIHVwIGZyb20gVGV4dElucHV0c1xuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogbnVsbCxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVMYXlvdXQsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX2hhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIG9uUmVzcG9uZGVyR3JhbnQ6IHRoaXMuX2hhbmRsZVJlc3BvbmRlckdyYW50LFxuICAgICAgb25SZXNwb25kZXJSZWplY3Q6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclJlamVjdCxcbiAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZTogdGhpcy5faGFuZGxlUmVzcG9uZGVyUmVsZWFzZSxcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5faGFuZGxlU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9oYW5kbGVTY3JvbGxFbmREcmFnLFxuICAgICAgb25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX2hhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmU6XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuX2hhbmRsZVRvdWNoRW5kLFxuICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuX2hhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5faGFuZGxlVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hDYW5jZWw6IHRoaXMuX2hhbmRsZVRvdWNoQ2FuY2VsLFxuICAgICAgb25TY3JvbGw6IHRoaXMuX2hhbmRsZVNjcm9sbCxcbiAgICAgIGVuZERyYWdnaW5nU2Vuc2l0aXZpdHlNdWx0aXBsaWVyOlxuICAgICAgICBleHBlcmltZW50YWxfZW5kRHJhZ2dpbmdTZW5zaXRpdml0eU11bHRpcGxpZXIsXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgID8gMVxuICAgICAgICA6IHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSxcbiAgICAgIHNlbmRNb21lbnR1bUV2ZW50czpcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gfHwgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvU3RhcnQ6IHRoaXMucHJvcHMuc25hcFRvU3RhcnQgIT09IGZhbHNlLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9FbmQ6IHRoaXMucHJvcHMuc25hcFRvRW5kICE9PSBmYWxzZSxcbiAgICAgIC8vIHBhZ2luZ0VuYWJsZWQgaXMgb3ZlcnJpZGRlbiBieSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHNcbiAgICAgIHBhZ2luZ0VuYWJsZWQ6IFBsYXRmb3JtLnNlbGVjdCh7XG4gICAgICAgIC8vIG9uIGlPUywgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byBmYWxzZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGlvczpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsID09IG51bGwgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgPT0gbnVsbCxcbiAgICAgICAgLy8gb24gQW5kcm9pZCwgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byB0cnVlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgYW5kcm9pZDpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsICE9IG51bGwgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgIT0gbnVsbCxcbiAgICAgIH0pLFxuICAgIH07XG5cbiAgICBjb25zdCB7ZGVjZWxlcmF0aW9uUmF0ZX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkZWNlbGVyYXRpb25SYXRlICE9IG51bGwpIHtcbiAgICAgIHByb3BzLmRlY2VsZXJhdGlvblJhdGUgPSBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZShkZWNlbGVyYXRpb25SYXRlKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWZyZXNoQ29udHJvbCA9IHRoaXMucHJvcHMucmVmcmVzaENvbnRyb2w7XG4gICAgY29uc3Qgc2Nyb2xsVmlld1JlZiA9IHRoaXMuX3Njcm9sbFZpZXcuZ2V0Rm9yd2FyZGluZ1JlZihcbiAgICAgIHRoaXMucHJvcHMuc2Nyb2xsVmlld1JlZixcbiAgICApO1xuXG4gICAgaWYgKHJlZnJlc2hDb250cm9sKSB7XG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIC8vIE9uIGlPUyB0aGUgUmVmcmVzaENvbnRyb2wgaXMgYSBjaGlsZCBvZiB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIEZsb3cgb25seSBrbm93cyBlbGVtZW50IHJlZnMuXG4gICAgICAgICAgPE5hdGl2ZVNjcm9sbFZpZXcgey4uLnByb3BzfSByZWY9e3Njcm9sbFZpZXdSZWZ9PlxuICAgICAgICAgICAge3JlZnJlc2hDb250cm9sfVxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9OYXRpdmVTY3JvbGxWaWV3PlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgIC8vIE9uIEFuZHJvaWQgd3JhcCB0aGUgU2Nyb2xsVmlldyB3aXRoIGEgQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dC5cbiAgICAgICAgLy8gU2luY2UgdGhlIFNjcm9sbFZpZXcgaXMgd3JhcHBlZCBhZGQgdGhlIHN0eWxlIHByb3BzIHRvIHRoZVxuICAgICAgICAvLyBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0IGFuZCB1c2UgZmxleDogMSBmb3IgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIC8vIE5vdGU6IHdlIHNob3VsZCBzcGxpdCBwcm9wcy5zdHlsZSBvbiB0aGUgaW5uZXIgYW5kIG91dGVyIHByb3BzXG4gICAgICAgIC8vIGhvd2V2ZXIsIHRoZSBTY3JvbGxWaWV3IHN0aWxsIG5lZWRzIHRoZSBiYXNlU3R5bGUgdG8gYmUgc2Nyb2xsYWJsZVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3VuZGVyY29uc3RyYWluZWQtaW1wbGljaXQtaW5zdGFudGlhdGlvbl1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF1cbiAgICAgICAgY29uc3Qge291dGVyLCBpbm5lcn0gPSBzcGxpdExheW91dFByb3BzKGZsYXR0ZW5TdHlsZShwcm9wcy5zdHlsZSkpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIHJlZnJlc2hDb250cm9sLFxuICAgICAgICAgIHtzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGJhc2VTdHlsZSwgb3V0ZXIpfSxcbiAgICAgICAgICA8TmF0aXZlU2Nyb2xsVmlld1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIGlubmVyKX1cbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gRmxvdyBvbmx5IGtub3dzIGVsZW1lbnQgcmVmcy5cbiAgICAgICAgICAgIHJlZj17c2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L05hdGl2ZVNjcm9sbFZpZXc+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBGbG93IG9ubHkga25vd3MgZWxlbWVudCByZWZzLlxuICAgICAgPE5hdGl2ZVNjcm9sbFZpZXcgey4uLnByb3BzfSByZWY9e3Njcm9sbFZpZXdSZWZ9PlxuICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgIDwvTmF0aXZlU2Nyb2xsVmlldz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZVZlcnRpY2FsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGJhc2VIb3Jpem9udGFsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG59KTtcblxudHlwZSBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+ID0ge1xuICBnZXRGb3J3YXJkaW5nUmVmOiAoXG4gICAgP1JlYWN0LlJlZlNldHRlcjxUUHVibGljSW5zdGFuY2U+LFxuICApID0+IChUTmF0aXZlSW5zdGFuY2UgfCBudWxsKSA9PiB2b2lkLFxuICBuYXRpdmVJbnN0YW5jZTogVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCxcbiAgcHVibGljSW5zdGFuY2U6IFRQdWJsaWNJbnN0YW5jZSB8IG51bGwsXG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGB1c2VDYWxsYmFja2AgYW5kIGB1c2VNZXJnZVJlZnNgXG4gKiBvbmNlIGBTY3JvbGxWaWV3YCBpcyByZWltcGxlbWVudGVkIGFzIGEgZnVuY3Rpb25hbCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4oXG4gIG11dGF0b3I6IFROYXRpdmVJbnN0YW5jZSA9PiBUUHVibGljSW5zdGFuY2UsXG4pOiBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+IHtcbiAgY29uc3Qgc3RhdGU6IFJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4gPSB7XG4gICAgZ2V0Rm9yd2FyZGluZ1JlZjogbWVtb2l6ZShmb3J3YXJkZWRSZWYgPT4ge1xuICAgICAgcmV0dXJuIChuYXRpdmVJbnN0YW5jZTogVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBwdWJsaWNJbnN0YW5jZSA9XG4gICAgICAgICAgbmF0aXZlSW5zdGFuY2UgPT0gbnVsbCA/IG51bGwgOiBtdXRhdG9yKG5hdGl2ZUluc3RhbmNlKTtcblxuICAgICAgICBzdGF0ZS5uYXRpdmVJbnN0YW5jZSA9IG5hdGl2ZUluc3RhbmNlO1xuICAgICAgICBzdGF0ZS5wdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlO1xuXG4gICAgICAgIGlmIChmb3J3YXJkZWRSZWYgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZm9yd2FyZGVkUmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmb3J3YXJkZWRSZWYocHVibGljSW5zdGFuY2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3J3YXJkZWRSZWYuY3VycmVudCA9IHB1YmxpY0luc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBuYXRpdmVJbnN0YW5jZTogbnVsbCxcbiAgICBwdWJsaWNJbnN0YW5jZTogbnVsbCxcbiAgfTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8vIFRPRE86IEFmdGVyIHVwZ3JhZGluZyB0byBSZWFjdCAxOSwgcmVtb3ZlIGBmb3J3YXJkUmVmYCBmcm9tIHRoaXMgY29tcG9uZW50LlxuLy8gTk9URTogVGhpcyB3cmFwcGVyIGNvbXBvbmVudCBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgU2Nyb2xsVmlld2AgaXMgYSBjbGFzc1xuLy8gY29tcG9uZW50IGFuZCB3ZSBuZWVkIHRvIG1hcCBgcmVmYCB0byBhIGRpZmZlcmVudGx5IG5hbWVkIHByb3AuIFRoaXMgY2FuIGJlXG4vLyByZW1vdmVkIHdoZW4gYFNjcm9sbFZpZXdgIGlzIGEgZnVuY3Rpb25hbCBjb21wb25lbnQuXG5jb25zdCBXcmFwcGVyOiBjb21wb25lbnQoXG4gIHJlZjogUmVhY3QuUmVmU2V0dGVyPFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZT4sXG4gIC4uLnByb3BzOiBQcm9wc1xuKSA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gV3JhcHBlcihcbiAgcHJvcHM6IFByb3BzLFxuICByZWY6ID9SZWFjdC5SZWZTZXR0ZXI8UHVibGljU2Nyb2xsVmlld0luc3RhbmNlPixcbik6IFJlYWN0Lk5vZGUge1xuICByZXR1cm4gcmVmID09IG51bGwgPyAoXG4gICAgPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPlxuICApIDogKFxuICAgIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gc2Nyb2xsVmlld1JlZj17cmVmfSAvPlxuICApO1xufSk7XG5XcmFwcGVyLmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuLy8gJEZsb3dFeHBlY3RlZEVycm9yW3Byb3AtbWlzc2luZ11cbldyYXBwZXIuQ29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoV3JhcHBlcjogJEZsb3dGaXhNZSk6IHR5cGVvZiBXcmFwcGVyICZcbiAgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBMEJBLElBQUFBLDRCQUFBLEdBQUFDLE9BQUE7QUFJQSxJQUFBQyw0QkFBQSxHQUFBRCxPQUFBO0FBSUEsSUFBQUUsdUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLGdCQUFBLEdBQUFELHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSyxjQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxVQUFBLEdBQUFILHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBTyxhQUFBLEdBQUFKLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBUSxrQkFBQSxHQUFBTCxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQVMsV0FBQSxHQUFBTixzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQVUsV0FBQSxHQUFBUCxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQVcsZ0JBQUEsR0FBQVIsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFZLFNBQUEsR0FBQVQsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFhLFNBQUEsR0FBQVYsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFjLGVB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QUFLO0lBQ3BCQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RoRiwwQkFBMEIsRUFBRTtJQUMxQitFLGFBQWEsRUFBRTtFQUNqQjtBQUNGLENBQUMsQ0FBQztBQWNGLFNBQVN6TSxrQkFBa0JBLENBQ3pCMk0sT0FBMkMsRUFDSztFQUNoRCxJQUFNelEsS0FBcUQsR0FBRztJQUM1RHVOLGdCQUFnQixFQUFFLElBQUFtRCxtQkFBTyxFQUFDLFVBQUFDLFlBQVksRUFBSTtNQUN4QyxPQUFPLFVBQUNuUSxjQUFzQyxFQUFXO1FBQ3ZELElBQU13RCxjQUFjLEdBQ2xCeEQsY0FBYyxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUdpUSxPQUFPLENBQUNqUSxjQUFjLENBQUM7UUFFekRSLEtBQUssQ0FBQ1EsY0FBYyxHQUFHQSxjQUFjO1FBQ3JDUixLQUFLLENBQUNnRSxjQUFjLEdBQUdBLGNBQWM7UUFFckMsSUFBSTJNLFlBQVksSUFBSSxJQUFJLEVBQUU7VUFDeEIsSUFBSSxPQUFPQSxZQUFZLEtBQUssVUFBVSxFQUFFO1lBQ3RDQSxZQUFZLENBQUMzTSxjQUFjLENBQUM7VUFDOUIsQ0FBQyxNQUFNO1lBQ0wyTSxZQUFZLENBQUNDLE9BQU8sR0FBRzVNLGNBQWM7VUFDdkM7UUFDRjtNQUNGLENBQUM7SUFDSCxDQUFDLENBQUM7SUFDRnhELGNBQWMsRUFBRSxJQUFJO0lBQ3BCd0QsY0FBYyxFQUFFO0VBQ2xCLENBQUM7RUFFRCxPQUFPaEUsS0FBSztBQUNkO0FBTUEsSUFBTTZRLE9BR0wsR0FBRzNVLEtBQUssQ0FBQzRVLFVBQVUsQ0FBQyxTQUFTRCxPQUFPQSxDQUNuQ3JTLEtBQVksRUFDWndMLEdBQStDLEVBQ25DO0VBQ1osT0FBT0EsR0FBRyxJQUFJLElBQUksR0FDaEIsSUFBQTdOLFdBQUEsQ0FBQW1RLEdBQUEsRUFBQ2hPLFVBQVUsRUFBQXJCLE1BQUEsQ0FBQWdILE1BQUEsS0FBS3pGLEtBQUssQ0FBRyxDQUFDLEdBRXpCLElBQUFyQyxXQUFBLENBQUFtUSxHQUFBLEVBQUNoTyxVQUFVLEVBQUFyQixNQUFBLENBQUFnSCxNQUFBLEtBQUt6RixLQUFLO0lBQUVrUixhQUFhLEVBQUUxRjtFQUFJLEVBQUUsQ0FDN0M7QUFDSCxDQUFDLENBQUM7QUFDRjZHLE9BQU8sQ0FBQ0UsV0FBVyxHQUFHLFlBQVk7QUFFbENGLE9BQU8sQ0FBQ1gsT0FBTyxHQUFHQywwQkFBaUI7QUFFbkNhLE1BQU0sQ0FBQ0MsT0FBTyxHQUFLSixPQUNVIiwiaWdub3JlTGlzdCI6W119