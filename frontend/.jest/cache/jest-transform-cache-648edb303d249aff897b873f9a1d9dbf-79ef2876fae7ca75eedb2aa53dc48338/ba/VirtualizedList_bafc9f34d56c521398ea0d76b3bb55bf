f5001cc8d30d4ce70f52a589bf0252b9
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _Batchinator = _interopRequireDefault(require("../Interaction/Batchinator"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _ListMetricsAggregator = _interopRequireDefault(require("./ListMetricsAggregator"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizedListProps = require("./VirtualizedListProps");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["onContentSizeChange"];
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
var VirtualizedList = function (_StateSafePureCompone) {
  function VirtualizedList(_props) {
    var _this$props$updateCel, _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _callSuper(this, VirtualizedList, [_props]);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _this;
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._cellRefs = {};
    _this._listMetrics = new _ListMetricsAggregator.default();
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._pendingViewabilityUpdate = false;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        var onContentSizeChange = props.onContentSizeChange,
          otherProps = (0, _objectWithoutProperties2.default)(props, _excluded);
        return (0, _jsxRuntime.jsx)(_reactNative.View, Object.assign({}, otherProps));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, cellIndex) {
      var layoutHasChanged = _this._listMetrics.notifyCellLayout({
        cellIndex: cellIndex,
        cellKey: cellKey,
        layout: e.nativeEvent.layout,
        orientation: _this._orientation()
      });
      if (layoutHasChanged) {
        _this._scheduleCellsToRenderUpdate();
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellFocusCapture = function (cellKey) {
      _this._lastFocusedCellKey = cellKey;
      _this._updateCellsToRender();
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      _this._listMetrics.notifyCellUnmounted(cellKey);
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      _this._listMetrics.notifyListContentLayout({
        layout: {
          width: width,
          height: height
        },
        orientation: _this._orientation()
      });
      _this._maybeScrollToInitialScrollIndex(width, height);
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._listMetrics.getContentLength();
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._offsetFromScrollEvent(e);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._listMetrics.getContentLength() === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this._listMetrics.getCellMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this._listMetrics.getCellMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._listMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  return (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      this.scrollToOffset({
        animated: animated,
        offset: offset
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._listMetrics.getHighestMeasuredCellIndex()) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._listMetrics.getAverageCellLength(),
          highestMeasuredFrameIndex: this._listMetrics.getHighestMeasuredCellIndex(),
          index: index
        });
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._listMetrics.getCellOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      this.scrollToOffset({
        offset: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var index = 0; index < itemCount; index++) {
        if (getItem(data, index) === item) {
          this.scrollToIndex(Object.assign({}, params, {
            index: index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      var scrollRef = this._scrollRef;
      if (scrollRef == null) {
        return;
      }
      if (scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      var _this$_orientation = this._orientation(),
        horizontal = _this$_orientation.horizontal,
        rtl = _this$_orientation.rtl;
      if (horizontal && rtl && !this._listMetrics.hasContentLength()) {
        console.warn('scrollToOffset may not be called in RTL before content is laid out');
        return;
      }
      scrollRef.scrollTo(Object.assign({
        animated: animated
      }, this._scrollToParamsFromOffset(offset)));
    }
  }, {
    key: "_scrollToParamsFromOffset",
    value: function _scrollToParamsFromOffset(offset) {
      var _this$_orientation2 = this._orientation(),
        horizontal = _this$_orientation2.horizontal,
        rtl = _this$_orientation2.rtl;
      if (horizontal && rtl) {
        var cartOffset = this._listMetrics.cartesianOffset(offset + this._scrollMetrics.visibleLength);
        return horizontal ? {
          x: cartOffset
        } : {
          y: cartOffset
        };
      } else {
        return horizontal ? {
          x: offset
        } : {
          y: offset
        };
      }
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)((0, _VirtualizedListProps.windowSizeOrDefault)(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (true && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var contentLength = this._listMetrics.getContentLength();
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch), (0, _VirtualizedListProps.windowSizeOrDefault)(props.windowSize), cellsAroundViewport, this._listMetrics, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      this._updateCellsToRenderBatcher.dispose();
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, Object.assign({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: _this2._onCellFocusCapture,
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal));
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this,
        _this$props$scrollEve;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: React.cloneElement(_element, {
            onLayout: function onLayout(event) {
              _this3._onLayoutEmpty(event);
              if (_element.props.onLayout) {
                _element.props.onLayout(event);
              }
            },
            style: _reactNative.StyleSheet.compose(inversionStyle, _element.props.style)
          })
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastRegion = renderRegions[renderRegions.length - 1];
        var lastSpacer = lastRegion != null && lastRegion.isSpacer ? lastRegion : null;
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._listMetrics.getHighestMeasuredCellIndex()) : section.last;
            var firstMetrics = this._listMetrics.getCellMetricsApprox(section.first, this.props);
            var lastMetrics = this._listMetrics.getCellMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element2
          })
        }, "$footer"));
      }
      var scrollProps = Object.assign({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: (_this$props$scrollEve = this.props.scrollEventThrottle) != null ? _this$props$scrollEve : 0.0001,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? Object.assign({}, this.props.maintainVisibleContentPosition, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (true) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !(0, _VirtualizedListProps.horizontalOrDefault)(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null && _this3.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData,
        getItemLayout = _this$props7.getItemLayout;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
      if (getItemLayout != null) {
        this._maybeCallOnEdgeReached();
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._listMetrics.notifyListContentLayout({
            layout: {
              width: width,
              height: height
            },
            orientation: _this4._orientation()
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;
            _this4._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._listMetrics.getContentLength() || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._listMetrics.getCellMetricsApprox(ii, this.props);
        if (frame.isMounted) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !(0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(_ref3) {
      var x = _ref3.x,
        y = _ref3.y;
      return this._orientation().horizontal ? x : y;
    }
  }, {
    key: "_orientation",
    value: function _orientation() {
      return {
        horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
        rtl: _reactNative.I18nManager.isRTL
      };
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (!this._listMetrics.hasContentLength() || this._scrollMetrics.visibleLength === 0) {
        return;
      }
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = this._listMetrics.getContentLength() - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._listMetrics.getContentLength() !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._listMetrics.getContentLength();
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
      if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._listMetrics.getContentLength() !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._listMetrics.getContentLength();
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      }
      if (!isWithinStartThreshold) {
        this._sentStartForContentLength = 0;
      }
      if (!isWithinEndThreshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_maybeScrollToInitialScrollIndex",
    value: function _maybeScrollToInitialScrollIndex(contentWidth, contentHeight) {
      if (contentWidth > 0 && contentHeight > 0 && this.props.initialScrollIndex != null && this.props.initialScrollIndex > 0 && !this._hasTriggeredInitialScrollToIndex) {
        if (this.props.contentOffset == null) {
          if (this.props.initialScrollIndex < this.props.getItemCount(this.props.data)) {
            this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(this.props.initialScrollIndex)
            });
          } else {
            this.scrollToEnd({
              animated: false
            });
          }
        }
        this._hasTriggeredInitialScrollToIndex = true;
      }
    }
  }, {
    key: "unstable_onScroll",
    value: function unstable_onScroll(e) {
      this._onScroll(e);
    }
  }, {
    key: "_offsetFromScrollEvent",
    value: function _offsetFromScrollEvent(e) {
      var _e$nativeEvent = e.nativeEvent,
        contentOffset = _e$nativeEvent.contentOffset,
        contentSize = _e$nativeEvent.contentSize,
        layoutMeasurement = _e$nativeEvent.layoutMeasurement;
      var _this$_orientation3 = this._orientation(),
        horizontal = _this$_orientation3.horizontal,
        rtl = _this$_orientation3.rtl;
      if (horizontal && rtl) {
        return this._selectLength(contentSize) - (this._selectOffset(contentOffset) + this._selectLength(layoutMeasurement));
      } else {
        return this._selectOffset(contentOffset);
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      if ((this._listMetrics.getAverageCellLength() > 0 || this.props.getItemLayout != null) && this._shouldRenderWithPriority() && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose();
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_shouldRenderWithPriority",
    value: function _shouldRenderWithPriority() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = (0, _VirtualizedListProps.onStartReachedThresholdOrDefault)(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this._listMetrics.getCellMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this._listMetrics.getCellMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      return hiPri;
    }
  }, {
    key: "unstable_onScrollBeginDrag",
    value: function unstable_onScrollBeginDrag(e) {
      this._onScrollBeginDrag(e);
    }
  }, {
    key: "unstable_onScrollEndDrag",
    value: function unstable_onScrollEndDrag(e) {
      this._onScrollEndDrag(e);
    }
  }, {
    key: "unstable_onMomentumScrollBegin",
    value: function unstable_onMomentumScrollBegin(e) {
      this._onMomentumScrollBegin(e);
    }
  }, {
    key: "unstable_onMomentumScrollEnd",
    value: function unstable_onMomentumScrollEnd(e) {
      this._onMomentumScrollEnd(e);
    }
  }, {
    key: "__getListMetrics",
    value: function __getListMetrics() {
      return this._listMetrics;
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this5 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._listMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + (0, _VirtualizedListProps.initialNumToRenderOrDefault)(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var lastPossibleCellIndex = itemCount - 1;
      var maxToRenderPerBatch = (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch);
      var maxFirst = Math.max(0, lastPossibleCellIndex - maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, cells.first, maxFirst),
        last: Math.min(lastPossibleCellIndex, cells.last)
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQmF0Y2hpbmF0b3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFtcCIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX1N0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJfVmlld2FiaWxpdHlIZWxwZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyIiwiX1ZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJfVmlydHVhbGl6ZWRMaXN0UHJvcHMiLCJfVmlydHVhbGl6ZVV0aWxzIiwiX2ludmFyaWFudCIsIl9udWxsdGhyb3dzIiwiUmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9yZWFjdE5hdGl2ZSIsIl9qc3hSdW50aW1lIiwiX2V4Y2x1ZGVkIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiX2NhbGxTdXBlciIsIm8iLCJfZ2V0UHJvdG90eXBlT2YyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJPTl9FREdFX1JFQUNIRURfRVBTSUxPTiIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiZ2V0U2Nyb2xsaW5nVGhyZXNob2xkIiwidGhyZXNob2xkIiwidmlzaWJsZUxlbmd0aCIsIlZpcnR1YWxpemVkTGlzdCIsIl9TdGF0ZVNhZmVQdXJlQ29tcG9uZSIsInByb3BzIiwiX3RoaXMkcHJvcHMkdXBkYXRlQ2VsIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WMiIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9nZXRTY3JvbGxNZXRyaWNzIiwiX3Njcm9sbE1ldHJpY3MiLCJfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24iLCJjb250ZXh0IiwiZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJfbmVzdGVkQ2hpbGRMaXN0cyIsImFkZCIsInJlZiIsImNlbGxLZXkiLCJfaGFzSW50ZXJhY3RlZCIsInJlY29yZEludGVyYWN0aW9uIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwicmVtb3ZlIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsImtleXMiLCJuZXdQcm9wcyIsImZvckVhY2giLCJrZXkiLCJfY2VsbFJlZnMiLCJ1cGRhdGVTZXBhcmF0b3JQcm9wcyIsIl9nZXRTcGFjZXJLZXkiLCJpc1ZlcnRpY2FsIiwiX2xpc3RNZXRyaWNzIiwiTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX2Zvb3Rlckxlbmd0aCIsIl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCIsIl9oYXNNb3JlIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2luZGljZXNUb0tleXMiLCJNYXAiLCJfbGFzdEZvY3VzZWRDZWxsS2V5IiwiQ2hpbGRMaXN0Q29sbGVjdGlvbiIsIl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0IiwiX3BlbmRpbmdWaWV3YWJpbGl0eVVwZGF0ZSIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiZE9mZnNldCIsImR0Iiwib2Zmc2V0IiwidGltZXN0YW1wIiwidmVsb2NpdHkiLCJ6b29tU2NhbGUiLCJfc2Nyb2xsUmVmIiwiX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGgiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdmlld2FiaWxpdHlUdXBsZXMiLCJfY2FwdHVyZVNjcm9sbFJlZiIsIl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50Iiwib25SZWZyZXNoIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIm90aGVyUHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwianN4IiwiVmlldyIsImFzc2lnbiIsIl9wcm9wcyRyZWZyZXNoaW5nIiwiaW52YXJpYW50IiwicmVmcmVzaGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJTY3JvbGxWaWV3IiwicmVmcmVzaENvbnRyb2wiLCJSZWZyZXNoQ29udHJvbCIsInByb2dyZXNzVmlld09mZnNldCIsIl9vbkNlbGxMYXlvdXQiLCJjZWxsSW5kZXgiLCJsYXlvdXRIYXNDaGFuZ2VkIiwibm90aWZ5Q2VsbExheW91dCIsImxheW91dCIsIm5hdGl2ZUV2ZW50Iiwib3JpZW50YXRpb24iLCJfb3JpZW50YXRpb24iLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsIiwiX2NvbXB1dGVCbGFua25lc3MiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsInN0YXRlIiwiY2VsbHNBcm91bmRWaWV3cG9ydCIsIl9vbkNlbGxGb2N1c0NhcHR1cmUiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlciIsIl9vbkNlbGxVbm1vdW50Iiwibm90aWZ5Q2VsbFVubW91bnRlZCIsIl9vbkxheW91dCIsIm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QiLCJfc2VsZWN0TGVuZ3RoIiwib25MYXlvdXQiLCJfbWF5YmVDYWxsT25FZGdlUmVhY2hlZCIsIl9vbkxheW91dEVtcHR5IiwiX29uTGF5b3V0Rm9vdGVyIiwiX2dldEZvb3RlckNlbGxLZXkiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0Iiwibm90aWZ5TGlzdENvbnRlbnRMYXlvdXQiLCJfbWF5YmVTY3JvbGxUb0luaXRpYWxTY3JvbGxJbmRleCIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm1ldHJpY3MiLCJjb250ZW50TGVuZ3RoIiwiZ2V0Q29udGVudExlbmd0aCIsIl9vblNjcm9sbCIsIm9uU2Nyb2xsIiwidGltZVN0YW1wIiwibGF5b3V0TWVhc3VyZW1lbnQiLCJjb250ZW50U2l6ZSIsIl9vZmZzZXRGcm9tU2Nyb2xsRXZlbnQiLCJfdGhpcyRfY29udmVydFBhcmVudFMiLCJNYXRoIiwibWF4IiwicGVyZiIsImluZm9Mb2ciLCJwcmV2RHQiLCJwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQiLCJzZXRTdGF0ZSIsIl9maWxsUmF0ZUhlbHBlciIsImFjdGl2YXRlIiwiX29uU2Nyb2xsQmVnaW5EcmFnIiwidHVwbGUiLCJ2aWV3YWJpbGl0eUhlbHBlciIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX29uU2Nyb2xsRW5kRHJhZyIsIl9zZWxlY3RPZmZzZXQiLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQiLCJyZW5kZXJNYXNrIiwiX2NyZWF0ZVJlbmRlck1hc2siLCJfZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zIiwiZmlyc3QiLCJsYXN0IiwiZXF1YWxzIiwiX2NyZWF0ZVZpZXdUb2tlbiIsImluZGV4IiwiaXNWaWV3YWJsZSIsImRhdGEiLCJnZXRJdGVtIiwiaXRlbSIsIl9rZXlFeHRyYWN0b3IiLCJsYXN0Rm9jdXNlZENlbGxSZW5kZXJlciIsImZvY3VzZWRDZWxsSW5kZXgiLCJpdGVtQ291bnQiLCJnZXRJdGVtQ291bnQiLCJfZ2V0SXRlbUtleSIsImhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIiwiZ2V0Q2VsbE1ldHJpY3NBcHByb3giLCJsZW5ndGgiLCJoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkIiwiX2NoZWNrUHJvcHMiLCJGaWxsUmF0ZUhlbHBlciIsIl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciIsIkJhdGNoaW5hdG9yIiwidXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCIsInZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycyIsIm1hcCIsInBhaXIiLCJWaWV3YWJpbGl0eUhlbHBlciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsIl90aGlzJHByb3BzIiwicHVzaCIsImluaXRpYWxSZW5kZXJSZWdpb24iLCJfaW5pdGlhbFJlbmRlclJlZ2lvbiIsIm1pbkluZGV4Rm9yVmlzaWJsZSIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiIsImZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJpbml0aWFsU2Nyb2xsSW5kZXgiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwic2Nyb2xsVG9FbmQiLCJwYXJhbXMiLCJhbmltYXRlZCIsInZlcnlMYXN0IiwiZnJhbWUiLCJzY3JvbGxUb09mZnNldCIsInNjcm9sbFRvSW5kZXgiLCJfdGhpcyRwcm9wczIiLCJnZXRJdGVtTGF5b3V0Iiwib25TY3JvbGxUb0luZGV4RmFpbGVkIiwidmlld09mZnNldCIsInZpZXdQb3NpdGlvbiIsImdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCIsImF2ZXJhZ2VJdGVtTGVuZ3RoIiwiZ2V0QXZlcmFnZUNlbGxMZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiZmxvb3IiLCJnZXRDZWxsT2Zmc2V0QXBwcm94Iiwic2Nyb2xsVG9JdGVtIiwiX3RoaXMkcHJvcHMzIiwic2Nyb2xsUmVmIiwic2Nyb2xsVG8iLCJjb25zb2xlIiwid2FybiIsIl90aGlzJF9vcmllbnRhdGlvbiIsImhvcml6b250YWwiLCJydGwiLCJoYXNDb250ZW50TGVuZ3RoIiwiX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldCIsIl90aGlzJF9vcmllbnRhdGlvbjIiLCJjYXJ0T2Zmc2V0IiwiY2FydGVzaWFuT2Zmc2V0IiwieCIsInkiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0U2Nyb2xsUmVmIiwic2V0TmF0aXZlUHJvcHMiLCJfZ2V0Q2VsbEtleSIsIl90aGlzJGNvbnRleHQiLCJoYXNNb3JlIiwid2luZG93U2l6ZSIsIl9faXNOYXRpdmUiLCJ3aW5kb3dTaXplT3JEZWZhdWx0IiwiZmxleFdyYXAiLCJmbGF0U3R5bGVzIiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljcyIsImRpc3RhbmNlRnJvbUVuZCIsIl9jb25zdHJhaW5Ub0l0ZW1Db3VudCIsIm5ld0NlbGxzQXJvdW5kVmlld3BvcnQiLCJkaXNhYmxlVmlydHVhbGl6YXRpb24iLCJyZW5kZXJBaGVhZCIsIm1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwibWluIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwic2l6ZSIsImNoaWxkSWR4IiwiX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsImFueUluQ2VsbCIsImNvbXBvbmVudERpZE1vdW50IiwicmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImRpc3Bvc2UiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJfcHVzaENlbGxzIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHM0IiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJMaXN0SXRlbUNvbXBvbmVudCIsImRlYnVnIiwicmVuZGVySXRlbSIsInN0aWNreU9mZnNldCIsImVuZCIsInByZXZDZWxsS2V5IiwiX2xvb3AiLCJzaG91bGRMaXN0ZW5Gb3JMYXlvdXQiLCJlbmFibGVkIiwidW5kZWZpbmVkIiwib25VcGRhdGVTZXBhcmF0b3JzIiwib25DZWxsRm9jdXNDYXB0dXJlIiwib25Vbm1vdW50Iiwib25DZWxsTGF5b3V0IiwibmVzdGVkQ29udGV4dCIsImhvcml6b250YWxPckRlZmF1bHQiLCJyZW5kZXIiLCJfdGhpczMiLCJfdGhpcyRwcm9wcyRzY3JvbGxFdmUiLCJfdGhpcyRwcm9wczUiLCJMaXN0RW1wdHlDb21wb25lbnQiLCJMaXN0Rm9vdGVyQ29tcG9uZW50IiwiX3RoaXMkcHJvcHM2IiwiaW52ZXJ0ZWQiLCJzdHlsZXMiLCJob3Jpem9udGFsbHlJbnZlcnRlZCIsInZlcnRpY2FsbHlJbnZlcnRlZCIsIlNldCIsImVsZW1lbnQiLCJpc1ZhbGlkRWxlbWVudCIsIlZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsImNvbGxhcHNhYmxlIiwic3R5bGUiLCJjb21wb3NlIiwiTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlIiwiY2xvbmVFbGVtZW50IiwiZXZlbnQiLCJzcGFjZXJLZXkiLCJyZW5kZXJSZWdpb25zIiwiZW51bWVyYXRlUmVnaW9ucyIsImxhc3RSZWdpb24iLCJsYXN0U3BhY2VyIiwiaXNTcGFjZXIiLCJzZWN0aW9uIiwiaXNMYXN0U3BhY2VyIiwiY29uc3RyYWluVG9NZWFzdXJlZCIsImNsYW1wIiwiZmlyc3RNZXRyaWNzIiwibGFzdE1ldHJpY3MiLCJzcGFjZXJTaXplIiwiX2RlZmluZVByb3BlcnR5MiIsIkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSIsInNjcm9sbFByb3BzIiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsImludmVydFN0aWNreUhlYWRlcnMiLCJpc0ludmVydGVkVmlydHVhbGl6ZWRMaXN0IiwiaW5uZXJSZXQiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIiLCJnZXRTY3JvbGxNZXRyaWNzIiwicmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwicmV0IiwiQ29udGV4dCIsIkNvbnN1bWVyIiwic2Nyb2xsQ29udGV4dCIsIm5lc3RpbmciLCJzY3JvbGxFbmFibGVkIiwiZXJyb3IiLCJqc3hzIiwiX3JlbmRlckRlYnVnT3ZlcmxheSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIl90aGlzJHByb3BzNyIsImV4dHJhRGF0YSIsInJlc2V0Vmlld2FibGVJbmRpY2VzIiwiaGlQcmlJblByb2dyZXNzIiwiY29tcHV0ZUJsYW5rbmVzcyIsImZvckVhY2hJbkNlbGwiLCJfdGhpczQiLCJtZWFzdXJlTGF5b3V0Iiwic2Nyb2xsTWV0cmljcyIsIm1ldHJpY3NDaGFuZ2VkIiwic3RhY2siLCJub3JtYWxpemUiLCJmcmFtZXNJbkxheW91dCIsImlzTW91bnRlZCIsIndpbmRvd1RvcCIsImZyYW1lTGFzdCIsIndpbmRvd0xlbiIsInZpc1RvcCIsInZpc0xlbiIsImRlYnVnT3ZlcmxheUJhc2UiLCJkZWJ1Z092ZXJsYXkiLCJmIiwiZGVidWdPdmVybGF5RnJhbWUiLCJ0b3AiLCJkZWJ1Z092ZXJsYXlGcmFtZUxhc3QiLCJkZWJ1Z092ZXJsYXlGcmFtZVZpcyIsIl9yZWYzIiwiSTE4bk1hbmFnZXIiLCJpc1JUTCIsIl90aGlzJHByb3BzOCIsIm9uU3RhcnRSZWFjaGVkIiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGQiLCJvbkVuZFJlYWNoZWQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczIiLCJkaXN0YW5jZUZyb21TdGFydCIsIkRFRkFVTFRfVEhSRVNIT0xEX1BYIiwic3RhcnRUaHJlc2hvbGQiLCJlbmRUaHJlc2hvbGQiLCJpc1dpdGhpblN0YXJ0VGhyZXNob2xkIiwiaXNXaXRoaW5FbmRUaHJlc2hvbGQiLCJjb250ZW50V2lkdGgiLCJjb250ZW50SGVpZ2h0IiwiY29udGVudE9mZnNldCIsIm51bGx0aHJvd3MiLCJ1bnN0YWJsZV9vblNjcm9sbCIsIl9lJG5hdGl2ZUV2ZW50IiwiX3RoaXMkX29yaWVudGF0aW9uMyIsIl9zaG91bGRSZW5kZXJXaXRoUHJpb3JpdHkiLCJzY2hlZHVsZSIsIl90aGlzJHN0YXRlJGNlbGxzQXJvdSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMyIsImhpUHJpIiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInVuc3RhYmxlX29uU2Nyb2xsQmVnaW5EcmFnIiwidW5zdGFibGVfb25TY3JvbGxFbmREcmFnIiwidW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwidW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEVuZCIsIl9fZ2V0TGlzdE1ldHJpY3MiLCJfdGhpczUiLCJvblVwZGF0ZSIsIl9maW5kSXRlbUluZGV4V2l0aEtleSIsImhpbnQiLCJjdXJLZXkiLCJhZGRpdGlvbmFsUmVnaW9ucyIsIkNlbGxSZW5kZXJNYXNrIiwiYWxsUmVnaW9ucyIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJyZWdpb24iLCJhZGRDZWxscyIsImluaXRpYWxSZWdpb24iLCJzdGlja3lJbmRpY2VzU2V0IiwiX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIiLCJfcHJvcHMkaW5pdGlhbFNjcm9sbEkiLCJmaXJzdENlbGxJbmRleCIsImxhc3RDZWxsSW5kZXgiLCJpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJjZWxsSWR4IiwiaXRlbUlkeCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByZXZTdGF0ZSIsIl9uZXdQcm9wcyRtYWludGFpblZpcyIsIl9uZXdQcm9wcyRtYWludGFpblZpczIiLCJudW1DZWxscyIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQiLCJwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSIsIm5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJmaXJzdFZpc2libGVJdGVtSW5kZXgiLCJjb25zdHJhaW5lZENlbGxzIiwibGFzdFBvc3NpYmxlQ2VsbEluZGV4IiwibWF4Rmlyc3QiLCJrZXlFeHRyYWN0b3IiLCJkZWZhdWx0S2V5RXh0cmFjdG9yIiwiU3RyaW5nIiwidHlwZSIsImRpc3BsYXlOYW1lIiwiU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsImNvbnRleHRUeXBlIiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsImNyZWF0ZSIsIlBsYXRmb3JtIiwiT1MiLCJ0cmFuc2Zvcm0iLCJzY2FsZSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXgiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImxlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVmlydHVhbGl6ZWRMaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtDZWxsTWV0cmljUHJvcHMsIExpc3RPcmllbnRhdGlvbn0gZnJvbSAnLi9MaXN0TWV0cmljc0FnZ3JlZ2F0b3InO1xuaW1wb3J0IHR5cGUge1ZpZXdUb2tlbn0gZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEl0ZW0sXG4gIFByb3BzLFxuICBSZW5kZXJJdGVtUHJvcHMsXG4gIFJlbmRlckl0ZW1UeXBlLFxuICBTZXBhcmF0b3JzLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdFByb3BzJztcbmltcG9ydCB0eXBlIHtTY3JvbGxSZXNwb25kZXJUeXBlfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3JztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIExheW91dEV2ZW50LFxuICBTY3JvbGxFdmVudCxcbn0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5cbmltcG9ydCBCYXRjaGluYXRvciBmcm9tICcuLi9JbnRlcmFjdGlvbi9CYXRjaGluYXRvcic7XG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vVXRpbGl0aWVzL2NsYW1wJztcbmltcG9ydCBpbmZvTG9nIGZyb20gJy4uL1V0aWxpdGllcy9pbmZvTG9nJztcbmltcG9ydCB7Q2VsbFJlbmRlck1hc2t9IGZyb20gJy4vQ2VsbFJlbmRlck1hc2snO1xuaW1wb3J0IENoaWxkTGlzdENvbGxlY3Rpb24gZnJvbSAnLi9DaGlsZExpc3RDb2xsZWN0aW9uJztcbmltcG9ydCBGaWxsUmF0ZUhlbHBlciBmcm9tICcuL0ZpbGxSYXRlSGVscGVyJztcbmltcG9ydCBMaXN0TWV0cmljc0FnZ3JlZ2F0b3IgZnJvbSAnLi9MaXN0TWV0cmljc0FnZ3JlZ2F0b3InO1xuaW1wb3J0IFN0YXRlU2FmZVB1cmVDb21wb25lbnQgZnJvbSAnLi9TdGF0ZVNhZmVQdXJlQ29tcG9uZW50JztcbmltcG9ydCBWaWV3YWJpbGl0eUhlbHBlciBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCBDZWxsUmVuZGVyZXIgZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXInO1xuaW1wb3J0IHtcbiAgVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcixcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCxcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdENvbnRleHQuanMnO1xuaW1wb3J0IHtcbiAgaG9yaXpvbnRhbE9yRGVmYXVsdCxcbiAgaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0LFxuICBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0LFxuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQsXG4gIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0LFxuICB3aW5kb3dTaXplT3JEZWZhdWx0LFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdFByb3BzJztcbmltcG9ydCB7XG4gIGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyxcbiAga2V5RXh0cmFjdG9yIGFzIGRlZmF1bHRLZXlFeHRyYWN0b3IsXG59IGZyb20gJy4vVmlydHVhbGl6ZVV0aWxzJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgSTE4bk1hbmFnZXIsXG4gIFBsYXRmb3JtLFxuICBSZWZyZXNoQ29udHJvbCxcbiAgU2Nyb2xsVmlldyxcbiAgU3R5bGVTaGVldCxcbiAgVmlldyxcbiAgZmluZE5vZGVIYW5kbGUsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5cbmV4cG9ydCB0eXBlIHtSZW5kZXJJdGVtUHJvcHMsIFJlbmRlckl0ZW1UeXBlLCBTZXBhcmF0b3JzfTtcblxuY29uc3QgT05fRURHRV9SRUFDSEVEX0VQU0lMT04gPSAwLjAwMTtcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC4uLlxufTtcblxudHlwZSBTdGF0ZSA9IHtcbiAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAvLyBVc2VkIHRvIHRyYWNrIGl0ZW1zIGFkZGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgbGlzdCBmb3IgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLlxuICBmaXJzdFZpc2libGVJdGVtS2V5OiA/c3RyaW5nLFxuICAvLyBXaGVuID4gMCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGF2YWlsYWJsZSBpbiBKUyBpcyBjb25zaWRlcmVkIHN0YWxlIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxufTtcblxuZnVuY3Rpb24gZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKHRocmVzaG9sZDogbnVtYmVyLCB2aXNpYmxlTGVuZ3RoOiBudW1iZXIpIHtcbiAgcmV0dXJuICh0aHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoKSAvIDI7XG59XG5cbi8qKlxuICogQmFzZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIG1vcmUgY29udmVuaWVudCBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3Mvc2VjdGlvbmxpc3QpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIG9yIGBpZGAgcHJvcCBvbiBlYWNoIGl0ZW0gYW5kIHVzZXMgdGhhdCBmb3IgdGhlIFJlYWN0IGtleS5cbiAqICAgQWx0ZXJuYXRpdmVseSwgeW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBrZXlFeHRyYWN0b3JgIHByb3AuXG4gKiAtIEFzIGFuIGVmZm9ydCB0byByZW1vdmUgZGVmYXVsdFByb3BzLCB1c2UgaGVscGVyIGZ1bmN0aW9ucyB3aGVuIHJlZmVyZW5jaW5nIGNlcnRhaW4gcHJvcHNcbiAqXG4gKi9cbmNsYXNzIFZpcnR1YWxpemVkTGlzdCBleHRlbmRzIFN0YXRlU2FmZVB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBjb250ZXh0VHlwZTogdHlwZW9mIFZpcnR1YWxpemVkTGlzdENvbnRleHQgPSBWaXJ0dWFsaXplZExpc3RDb250ZXh0O1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW4sIC4uLn0pIHtcbiAgICBjb25zdCBhbmltYXRlZCA9IHBhcmFtcyA/IHBhcmFtcy5hbmltYXRlZCA6IHRydWU7XG4gICAgY29uc3QgdmVyeUxhc3QgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICBpZiAodmVyeUxhc3QgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3godmVyeUxhc3QsIHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIGZyYW1lLm9mZnNldCArXG4gICAgICAgIGZyYW1lLmxlbmd0aCArXG4gICAgICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCAtXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICApO1xuXG4gICAgLy8gVE9ETzogY29uc2lkZXIgdXNpbmcgYHJlZi5zY3JvbGxUb0VuZGAgZGlyZWN0bHlcbiAgICB0aGlzLnNjcm9sbFRvT2Zmc2V0KHthbmltYXRlZCwgb2Zmc2V0fSk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIGdldEl0ZW1MYXlvdXQsIG9uU2Nyb2xsVG9JbmRleEZhaWxlZH0gPVxuICAgICAgdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBidXQgbWluaW11bSBpcyAwYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+PSAxLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiBpdGVtIGxlbmd0aCAke2dldEl0ZW1Db3VudChcbiAgICAgICAgZGF0YSxcbiAgICAgICl9IGJ1dCBtaW5pbXVtIGlzIDFgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBpcyBvdXQgb2YgMCB0byAke1xuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxXG4gICAgICB9YCxcbiAgICApO1xuICAgIGlmIChcbiAgICAgICFnZXRJdGVtTGF5b3V0ICYmXG4gICAgICBpbmRleCA+IHRoaXMuX2xpc3RNZXRyaWNzLmdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCgpXG4gICAgKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgICEhb25TY3JvbGxUb0luZGV4RmFpbGVkLFxuICAgICAgICAnc2Nyb2xsVG9JbmRleCBzaG91bGQgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGdldEl0ZW1MYXlvdXQgb3Igb25TY3JvbGxUb0luZGV4RmFpbGVkLCAnICtcbiAgICAgICAgICAnb3RoZXJ3aXNlIHRoZXJlIGlzIG5vIHdheSB0byBrbm93IHRoZSBsb2NhdGlvbiBvZiBvZmZzY3JlZW4gaW5kaWNlcyBvciBoYW5kbGUgZmFpbHVyZXMuJyxcbiAgICAgICk7XG4gICAgICBvblNjcm9sbFRvSW5kZXhGYWlsZWQoe1xuICAgICAgICBhdmVyYWdlSXRlbUxlbmd0aDogdGhpcy5fbGlzdE1ldHJpY3MuZ2V0QXZlcmFnZUNlbGxMZW5ndGgoKSxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDpcbiAgICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRIaWdoZXN0TWVhc3VyZWRDZWxsSW5kZXgoKSxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgIE1hdGguZmxvb3IoaW5kZXgpLFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApO1xuICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE9mZnNldEFwcHJveChpbmRleCwgdGhpcy5wcm9wcykgLVxuICAgICAgICAgICh2aWV3UG9zaXRpb24gfHwgMCkgKlxuICAgICAgICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAtIGZyYW1lLmxlbmd0aCksXG4gICAgICApIC0gKHZpZXdPZmZzZXQgfHwgMCk7XG5cbiAgICB0aGlzLnNjcm9sbFRvT2Zmc2V0KHtvZmZzZXQsIGFuaW1hdGVkfSk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSkge1xuICAgIGNvbnN0IHtpdGVtfSA9IHBhcmFtcztcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbSwgZ2V0SXRlbUNvdW50fSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpdGVtQ291bnQ7IGluZGV4KyspIHtcbiAgICAgIGlmIChnZXRJdGVtKGRhdGEsIGluZGV4KSA9PT0gaXRlbSkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoey4uLnBhcmFtcywgaW5kZXh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmljIGNvbnRlbnQgcGl4ZWwgb2Zmc2V0IGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBQYXJhbSBgb2Zmc2V0YCBleHBlY3RzIHRoZSBvZmZzZXQgdG8gc2Nyb2xsIHRvLlxuICAgKiBJbiBjYXNlIG9mIGBob3Jpem9udGFsYCBpcyB0cnVlLCB0aGUgb2Zmc2V0IGlzIHRoZSB4LXZhbHVlLFxuICAgKiBpbiBhbnkgb3RoZXIgY2FzZSB0aGUgb2Zmc2V0IGlzIHRoZSB5LXZhbHVlLlxuICAgKlxuICAgKiBQYXJhbSBgYW5pbWF0ZWRgIChgdHJ1ZWAgYnkgZGVmYXVsdCkgZGVmaW5lcyB3aGV0aGVyIHRoZSBsaXN0XG4gICAqIHNob3VsZCBkbyBhbiBhbmltYXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgKi9cbiAgc2Nyb2xsVG9PZmZzZXQocGFyYW1zOiB7YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgb2Zmc2V0OiBudW1iZXIsIC4uLn0pIHtcbiAgICBjb25zdCB7YW5pbWF0ZWQsIG9mZnNldH0gPSBwYXJhbXM7XG4gICAgY29uc3Qgc2Nyb2xsUmVmID0gdGhpcy5fc2Nyb2xsUmVmO1xuXG4gICAgaWYgKHNjcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7aG9yaXpvbnRhbCwgcnRsfSA9IHRoaXMuX29yaWVudGF0aW9uKCk7XG4gICAgaWYgKGhvcml6b250YWwgJiYgcnRsICYmICF0aGlzLl9saXN0TWV0cmljcy5oYXNDb250ZW50TGVuZ3RoKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ3Njcm9sbFRvT2Zmc2V0IG1heSBub3QgYmUgY2FsbGVkIGluIFJUTCBiZWZvcmUgY29udGVudCBpcyBsYWlkIG91dCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjcm9sbFJlZi5zY3JvbGxUbyh7XG4gICAgICBhbmltYXRlZCxcbiAgICAgIC4uLnRoaXMuX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldChvZmZzZXQpLFxuICAgIH0pO1xuICB9XG5cbiAgX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldChvZmZzZXQ6IG51bWJlcik6IHt4PzogbnVtYmVyLCB5PzogbnVtYmVyfSB7XG4gICAgY29uc3Qge2hvcml6b250YWwsIHJ0bH0gPSB0aGlzLl9vcmllbnRhdGlvbigpO1xuICAgIGlmIChob3Jpem9udGFsICYmIHJ0bCkge1xuICAgICAgLy8gQWRkIHRoZSB2aXNpYmxlIGxlbmd0aCBvZiB0aGUgc2Nyb2xsdmlldyBzbyB0aGF0IHRoZSBvZmZzZXQgaXMgcmlnaHQtYWxpZ25lZFxuICAgICAgY29uc3QgY2FydE9mZnNldCA9IHRoaXMuX2xpc3RNZXRyaWNzLmNhcnRlc2lhbk9mZnNldChcbiAgICAgICAgb2Zmc2V0ICsgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBob3Jpem9udGFsID8ge3g6IGNhcnRPZmZzZXR9IDoge3k6IGNhcnRPZmZzZXR9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXR9IDoge3k6IG9mZnNldH07XG4gICAgfVxuICB9XG5cbiAgcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgfVxuXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBoYW5kbGUgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlci5cbiAgICogTm90ZSB0aGF0IGB0aGlzLl9zY3JvbGxSZWZgIG1pZ2h0IG5vdCBiZSBhIGBTY3JvbGxWaWV3YCwgc28gd2VcbiAgICogbmVlZCB0byBjaGVjayB0aGF0IGl0IHJlc3BvbmRzIHRvIGBnZXRTY3JvbGxSZXNwb25kZXJgIGJlZm9yZSBjYWxsaW5nIGl0LlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyKCk6ID9TY3JvbGxSZXNwb25kZXJUeXBlIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKTogP251bWJlciB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsUmVmKCk6XG4gICAgfCA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsVmlldz5cbiAgICB8ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmO1xuICAgIH1cbiAgfVxuXG4gIHNldE5hdGl2ZVByb3BzKHByb3BzOiBPYmplY3QpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICB0aGlzLl9zY3JvbGxSZWYuc2V0TmF0aXZlUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dD8uY2VsbEtleSB8fCAncm9vdExpc3QnO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfZ2V0U2Nyb2xsTWV0cmljcyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgfTtcblxuICBoYXNNb3JlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9oYXNNb3JlO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgcmVmOiBWaXJ0dWFsaXplZExpc3QsXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmFkZChjaGlsZExpc3QucmVmLCBjaGlsZExpc3QuY2VsbEtleSk7XG4gICAgaWYgKHRoaXMuX2hhc0ludGVyYWN0ZWQpIHtcbiAgICAgIGNoaWxkTGlzdC5yZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkID0gKGNoaWxkTGlzdDoge3JlZjogVmlydHVhbGl6ZWRMaXN0fSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMucmVtb3ZlKGNoaWxkTGlzdC5yZWYpO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5fY2hlY2tQcm9wcyhwcm9wcyk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9saXN0TWV0cmljcyk7XG4gICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIgPSBuZXcgQmF0Y2hpbmF0b3IoXG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyLFxuICAgICAgdGhpcy5wcm9wcy51cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kID8/IDUwLFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy52aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMpIHtcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzID0gdGhpcy5wcm9wcy52aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMubWFwKFxuICAgICAgICBwYWlyID0+ICh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcihwYWlyLnZpZXdhYmlsaXR5Q29uZmlnKSxcbiAgICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiBwYWlyLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qge29uVmlld2FibGVJdGVtc0NoYW5nZWQsIHZpZXdhYmlsaXR5Q29uZmlnfSA9IHRoaXMucHJvcHM7XG4gICAgICBpZiAob25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCkge1xuICAgICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5wdXNoKHtcbiAgICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHZpZXdhYmlsaXR5Q29uZmlnKSxcbiAgICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbml0aWFsUmVuZGVyUmVnaW9uID0gVmlydHVhbGl6ZWRMaXN0Ll9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzKTtcblxuICAgIGNvbnN0IG1pbkluZGV4Rm9yVmlzaWJsZSA9XG4gICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj8ubWluSW5kZXhGb3JWaXNpYmxlID8/IDA7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydDogaW5pdGlhbFJlbmRlclJlZ2lvbixcbiAgICAgIHJlbmRlck1hc2s6IFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFzayhwcm9wcywgaW5pdGlhbFJlbmRlclJlZ2lvbiksXG4gICAgICBmaXJzdFZpc2libGVJdGVtS2V5OlxuICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpID4gbWluSW5kZXhGb3JWaXNpYmxlXG4gICAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkodGhpcy5wcm9wcywgbWluSW5kZXhGb3JWaXNpYmxlKVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgIC8vIFdoZW4gd2UgaGF2ZSBhIG5vbi16ZXJvIGluaXRpYWxTY3JvbGxJbmRleCwgd2Ugd2lsbCByZWNlaXZlIGFcbiAgICAgIC8vIHNjcm9sbCBldmVudCBsYXRlciBzbyB0aGlzIHdpbGwgcHJldmVudCB0aGUgd2luZG93IGZyb20gdXBkYXRpbmdcbiAgICAgIC8vIHVudGlsIHdlIGdldCBhIHZhbGlkIG9mZnNldC5cbiAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDpcbiAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDBcbiAgICAgICAgICA/IDFcbiAgICAgICAgICA6IDAsXG4gICAgfTtcbiAgfVxuXG4gIF9jaGVja1Byb3BzKHByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHtvblNjcm9sbCwgd2luZG93U2l6ZSwgZ2V0SXRlbUNvdW50LCBkYXRhLCBpbml0aWFsU2Nyb2xsSW5kZXh9ID1cbiAgICAgIHByb3BzO1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAhb25TY3JvbGwgfHwgIW9uU2Nyb2xsLl9faXNOYXRpdmUsXG4gICAgICAnQ29tcG9uZW50cyBiYXNlZCBvbiBWaXJ0dWFsaXplZExpc3QgbXVzdCBiZSB3cmFwcGVkIHdpdGggQW5pbWF0ZWQuY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgJyArXG4gICAgICAgICd0byBzdXBwb3J0IG5hdGl2ZSBvblNjcm9sbCBldmVudHMgd2l0aCB1c2VOYXRpdmVEcml2ZXInLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgd2luZG93U2l6ZU9yRGVmYXVsdCh3aW5kb3dTaXplKSA+IDAsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgd2luZG93U2l6ZSBwcm9wIG11c3QgYmUgcHJlc2VudCBhbmQgc2V0IHRvIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJyxcbiAgICApO1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogVGhlIFwiZ2V0SXRlbUNvdW50XCIgcHJvcCBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgICApO1xuXG4gICAgY29uc3QgaXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGRhdGEpO1xuXG4gICAgaWYgKFxuICAgICAgaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgICF0aGlzLl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCAmJlxuICAgICAgKGluaXRpYWxTY3JvbGxJbmRleCA8IDAgfHxcbiAgICAgICAgKGl0ZW1Db3VudCA+IDAgJiYgaW5pdGlhbFNjcm9sbEluZGV4ID49IGl0ZW1Db3VudCkpICYmXG4gICAgICAhdGhpcy5faGFzV2FybmVkLmluaXRpYWxTY3JvbGxJbmRleFxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgaW5pdGlhbFNjcm9sbEluZGV4IFwiJHtpbml0aWFsU2Nyb2xsSW5kZXh9XCIgaXMgbm90IHZhbGlkIChsaXN0IGhhcyAke2l0ZW1Db3VudH0gaXRlbXMpYCxcbiAgICAgICk7XG4gICAgICB0aGlzLl9oYXNXYXJuZWQuaW5pdGlhbFNjcm9sbEluZGV4ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoX19ERVZfXyAmJiAhdGhpcy5faGFzV2FybmVkLmZsZXhXcmFwKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3VuZGVyY29uc3RyYWluZWQtaW1wbGljaXQtaW5zdGFudGlhdGlvbl1cbiAgICAgIGNvbnN0IGZsYXRTdHlsZXMgPSBTdHlsZVNoZWV0LmZsYXR0ZW4odGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUpO1xuICAgICAgaWYgKGZsYXRTdHlsZXMgIT0gbnVsbCAmJiBmbGF0U3R5bGVzLmZsZXhXcmFwID09PSAnd3JhcCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdgZmxleFdyYXA6IGB3cmFwYGAgaXMgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBgVmlydHVhbGl6ZWRMaXN0YCBjb21wb25lbnRzLicgK1xuICAgICAgICAgICAgJ0NvbnNpZGVyIHVzaW5nIGBudW1Db2x1bW5zYCB3aXRoIGBGbGF0TGlzdGAgaW5zdGVhZC4nLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9oYXNXYXJuZWQuZmxleFdyYXAgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfZmluZEl0ZW1JbmRleFdpdGhLZXkoXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGtleTogc3RyaW5nLFxuICAgIGhpbnQ6ID9udW1iZXIsXG4gICk6ID9udW1iZXIge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcbiAgICBpZiAoaGludCAhPSBudWxsICYmIGhpbnQgPj0gMCAmJiBoaW50IDwgaXRlbUNvdW50KSB7XG4gICAgICBjb25zdCBjdXJLZXkgPSBWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkocHJvcHMsIGhpbnQpO1xuICAgICAgaWYgKGN1cktleSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybiBoaW50O1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaXRlbUNvdW50OyBpaSsrKSB7XG4gICAgICBjb25zdCBjdXJLZXkgPSBWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkocHJvcHMsIGlpKTtcbiAgICAgIGlmIChjdXJLZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gaWk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3RhdGljIF9nZXRJdGVtS2V5KFxuICAgIHByb3BzOiB7XG4gICAgICBkYXRhOiBQcm9wc1snZGF0YSddLFxuICAgICAgZ2V0SXRlbTogUHJvcHNbJ2dldEl0ZW0nXSxcbiAgICAgIGtleUV4dHJhY3RvcjogUHJvcHNbJ2tleUV4dHJhY3RvciddLFxuICAgICAgLi4uXG4gICAgfSxcbiAgICBpbmRleDogbnVtYmVyLFxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGl0ZW0gPSBwcm9wcy5nZXRJdGVtKHByb3BzLmRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4gVmlydHVhbGl6ZWRMaXN0Ll9rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgsIHByb3BzKTtcbiAgfVxuXG4gIHN0YXRpYyBfY3JlYXRlUmVuZGVyTWFzayhcbiAgICBwcm9wczogUHJvcHMsXG4gICAgY2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICAgYWRkaXRpb25hbFJlZ2lvbnM/OiA/JFJlYWRPbmx5QXJyYXk8e2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0+LFxuICApOiBDZWxsUmVuZGVyTWFzayB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCA+PSAwICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA+PSBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0IC0gMSAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBpdGVtQ291bnQsXG4gICAgICBgSW52YWxpZCBjZWxscyBhcm91bmQgdmlld3BvcnQgXCJbJHtjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0fSwgJHtjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3R9XVwiIHdhcyBwYXNzZWQgdG8gVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrYCxcbiAgICApO1xuXG4gICAgY29uc3QgcmVuZGVyTWFzayA9IG5ldyBDZWxsUmVuZGVyTWFzayhpdGVtQ291bnQpO1xuXG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIGNvbnN0IGFsbFJlZ2lvbnMgPSBbY2VsbHNBcm91bmRWaWV3cG9ydCwgLi4uKGFkZGl0aW9uYWxSZWdpb25zID8/IFtdKV07XG4gICAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiBhbGxSZWdpb25zKSB7XG4gICAgICAgIHJlbmRlck1hc2suYWRkQ2VsbHMocmVnaW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGluaXRpYWxseSByZW5kZXJlZCBjZWxscyBhcmUgcmV0YWluZWQgYXMgcGFydCBvZiB0aGVcbiAgICAgIC8vIFwic2Nyb2xsLXRvLXRvcFwiIG9wdGltaXphdGlvblxuICAgICAgaWYgKHByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA9PSBudWxsIHx8IHByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA8PSAwKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxSZWdpb24gPSBWaXJ0dWFsaXplZExpc3QuX2luaXRpYWxSZW5kZXJSZWdpb24ocHJvcHMpO1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKGluaXRpYWxSZWdpb24pO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgbGF5b3V0IGNvb3JkaW5hdGVzIG9mIHN0aWNrZXIgaGVhZGVycyBtYXkgYmUgb2ZmLXNjcmVlbiB3aGlsZSB0aGVcbiAgICAgIC8vIGFjdHVhbCBoZWFkZXIgaXMgb24tc2NyZWVuLiBLZWVwIHRoZSBtb3N0IHJlY2VudCBiZWZvcmUgdGhlIHZpZXdwb3J0XG4gICAgICAvLyByZW5kZXJlZCwgZXZlbiBpZiBpdHMgbGF5b3V0IGNvb3JkaW5hdGVzIGFyZSBub3QgaW4gdmlld3BvcnQuXG4gICAgICBjb25zdCBzdGlja3lJbmRpY2VzU2V0ID0gbmV3IFNldChwcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzKTtcbiAgICAgIFZpcnR1YWxpemVkTGlzdC5fZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlcihcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0aWNreUluZGljZXNTZXQsXG4gICAgICAgIHJlbmRlck1hc2ssXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJNYXNrO1xuICB9XG5cbiAgc3RhdGljIF9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzOiBQcm9wcyk6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9IHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICBjb25zdCBmaXJzdENlbGxJbmRleCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIE1hdGguZmxvb3IocHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID8/IDApKSxcbiAgICApO1xuXG4gICAgY29uc3QgbGFzdENlbGxJbmRleCA9XG4gICAgICBNYXRoLm1pbihcbiAgICAgICAgaXRlbUNvdW50LFxuICAgICAgICBmaXJzdENlbGxJbmRleCArIGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdChwcm9wcy5pbml0aWFsTnVtVG9SZW5kZXIpLFxuICAgICAgKSAtIDE7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGZpcnN0Q2VsbEluZGV4LFxuICAgICAgbGFzdDogbGFzdENlbGxJbmRleCxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIF9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyKFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBzdGlja3lJbmRpY2VzU2V0OiBTZXQ8bnVtYmVyPixcbiAgICByZW5kZXJNYXNrOiBDZWxsUmVuZGVyTWFzayxcbiAgICBjZWxsSWR4OiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IHByb3BzLkxpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcblxuICAgIGZvciAobGV0IGl0ZW1JZHggPSBjZWxsSWR4IC0gMTsgaXRlbUlkeCA+PSAwOyBpdGVtSWR4LS0pIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzU2V0LmhhcyhpdGVtSWR4ICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKHtmaXJzdDogaXRlbUlkeCwgbGFzdDogaXRlbUlkeH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfYWRqdXN0Q2VsbHNBcm91bmRWaWV3cG9ydChcbiAgICBwcm9wczogUHJvcHMsXG4gICAgY2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OiBudW1iZXIsXG4gICk6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50fSA9IHByb3BzO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGh9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpO1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuXG4gICAgLy8gV2FpdCB1bnRpbCB0aGUgc2Nyb2xsIHZpZXcgbWV0cmljcyBoYXZlIGJlZW4gc2V0IHVwLiBBbmQgdW50aWwgdGhlbixcbiAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgIGlmICh2aXNpYmxlTGVuZ3RoIDw9IDAgfHwgY29udGVudExlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGdldEl0ZW1Db3VudChkYXRhKVxuICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoY2VsbHNBcm91bmRWaWV3cG9ydCwgcHJvcHMpXG4gICAgICAgIDogY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICB9XG5cbiAgICBsZXQgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn07XG4gICAgaWYgKHByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbikge1xuICAgICAgY29uc3QgcmVuZGVyQWhlYWQgPVxuICAgICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgICAgPyBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpXG4gICAgICAgICAgOiAwO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0ID0ge1xuICAgICAgICBmaXJzdDogMCxcbiAgICAgICAgbGFzdDogTWF0aC5taW4oXG4gICAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICsgcmVuZGVyQWhlYWQsXG4gICAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSxcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBwZW5kaW5nIHNjcm9sbCB1cGRhdGUsIHdlIHNob3VsZCBub3QgYWRqdXN0IHRoZSByZW5kZXIgd2luZG93IGFzIGl0XG4gICAgICAvLyBtaWdodCBvdmVycmlkZSB0aGUgY29ycmVjdCB3aW5kb3cuXG4gICAgICBpZiAocGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGdldEl0ZW1Db3VudChkYXRhKVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChjZWxsc0Fyb3VuZFZpZXdwb3J0LCBwcm9wcylcbiAgICAgICAgICA6IGNlbGxzQXJvdW5kVmlld3BvcnQ7XG4gICAgICB9XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQgPSBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgICAgICB3aW5kb3dTaXplT3JEZWZhdWx0KHByb3BzLndpbmRvd1NpemUpLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9saXN0TWV0cmljcyxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICk7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgICAgJ2NvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cygpIHNob3VsZCByZXR1cm4gcmFuZ2UgaW4tYm91bmRzJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX25lc3RlZENoaWxkTGlzdHMuc2l6ZSgpID4gMCkge1xuICAgICAgLy8gSWYgc29tZSBjZWxsIGluIHRoZSBuZXcgc3RhdGUgaGFzIGEgY2hpbGQgbGlzdCBpbiBpdCwgd2Ugc2hvdWxkIG9ubHkgcmVuZGVyXG4gICAgICAvLyB1cCB0aHJvdWdoIHRoYXQgaXRlbSwgc28gdGhhdCB3ZSBnaXZlIHRoYXQgbGlzdCBhIGNoYW5jZSB0byByZW5kZXIuXG4gICAgICAvLyBPdGhlcndpc2UgdGhlcmUncyBjaHVybiBmcm9tIG11bHRpcGxlIGNoaWxkIGxpc3RzIG1vdW50aW5nIGFuZCB1bi1tb3VudGluZ1xuICAgICAgLy8gdGhlaXIgaXRlbXMuXG5cbiAgICAgIC8vIFdpbGwgdGhpcyBwcmV2ZW50IHJlbmRlcmluZyBpZiB0aGUgbmVzdGVkIGxpc3QgZG9lc24ndCByZWFsaXplIHRoZSBlbmQ/XG4gICAgICBjb25zdCBjaGlsZElkeCA9IHRoaXMuX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUoXG4gICAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QsXG4gICAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdCxcbiAgICAgICk7XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9IGNoaWxkSWR4ID8/IG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3Q2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgfVxuXG4gIF9maW5kRmlyc3RDaGlsZFdpdGhNb3JlKGZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcik6IG51bWJlciB8IG51bGwge1xuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGNlbGxLZXlGb3JJbmRleCA9IHRoaXMuX2luZGljZXNUb0tleXMuZ2V0KGlpKTtcbiAgICAgIGlmIChcbiAgICAgICAgY2VsbEtleUZvckluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5hbnlJbkNlbGwoY2VsbEtleUZvckluZGV4LCBjaGlsZExpc3QgPT5cbiAgICAgICAgICBjaGlsZExpc3QuaGFzTW9yZSgpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICB0aGlzLmNvbnRleHQucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgcmVmOiB0aGlzLFxuICAgICAgICBjZWxsS2V5OiB0aGlzLmNvbnRleHQuY2VsbEtleSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnVucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtyZWY6IHRoaXN9KTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmRlYWN0aXZhdGVBbmRGbHVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpOiBTdGF0ZSB7XG4gICAgLy8gZmlyc3QgYW5kIGxhc3QgY291bGQgYmUgc3RhbGUgKGUuZy4gaWYgYSBuZXcsIHNob3J0ZXIgaXRlbXMgcHJvcHMgaXMgcGFzc2VkIGluKSwgc28gd2UgbWFrZVxuICAgIC8vIHN1cmUgd2UncmUgcmVuZGVyaW5nIGEgcmVhc29uYWJsZSByYW5nZSBoZXJlLlxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IG5ld1Byb3BzLmdldEl0ZW1Db3VudChuZXdQcm9wcy5kYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID09PSBwcmV2U3RhdGUucmVuZGVyTWFzay5udW1DZWxscygpKSB7XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgIH1cblxuICAgIGxldCBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50OiA/bnVtYmVyID0gbnVsbDtcbiAgICBjb25zdCBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSA9IHByZXZTdGF0ZS5maXJzdFZpc2libGVJdGVtS2V5O1xuICAgIGNvbnN0IG1pbkluZGV4Rm9yVmlzaWJsZSA9XG4gICAgICBuZXdQcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuICAgIGNvbnN0IG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkgPVxuICAgICAgbmV3UHJvcHMuZ2V0SXRlbUNvdW50KG5ld1Byb3BzLmRhdGEpID4gbWluSW5kZXhGb3JWaXNpYmxlXG4gICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KG5ld1Byb3BzLCBtaW5JbmRleEZvclZpc2libGUpXG4gICAgICAgIDogbnVsbDtcbiAgICBpZiAoXG4gICAgICBuZXdQcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24gIT0gbnVsbCAmJlxuICAgICAgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkgIT0gbnVsbCAmJlxuICAgICAgbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSAhPSBudWxsXG4gICAgKSB7XG4gICAgICBpZiAobmV3Rmlyc3RWaXNpYmxlSXRlbUtleSAhPT0gcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoIGlmIGl0ZW1zIHdlcmUgYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LlxuICAgICAgICBjb25zdCBoaW50ID1cbiAgICAgICAgICBpdGVtQ291bnQgLSBwcmV2U3RhdGUucmVuZGVyTWFzay5udW1DZWxscygpICsgbWluSW5kZXhGb3JWaXNpYmxlO1xuICAgICAgICBjb25zdCBmaXJzdFZpc2libGVJdGVtSW5kZXggPSBWaXJ0dWFsaXplZExpc3QuX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIHByZXZGaXJzdFZpc2libGVJdGVtS2V5LFxuICAgICAgICAgIGhpbnQsXG4gICAgICAgICk7XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgPVxuICAgICAgICAgIGZpcnN0VmlzaWJsZUl0ZW1JbmRleCAhPSBudWxsXG4gICAgICAgICAgICA/IGZpcnN0VmlzaWJsZUl0ZW1JbmRleCAtIG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29uc3RyYWluZWRDZWxscyA9IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoXG4gICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ICE9IG51bGxcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBmaXJzdDpcbiAgICAgICAgICAgICAgcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgK1xuICAgICAgICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50LFxuICAgICAgICAgICAgbGFzdDpcbiAgICAgICAgICAgICAgcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCArXG4gICAgICAgICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQsXG4gICAgICAgICAgfVxuICAgICAgICA6IHByZXZTdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgbmV3UHJvcHMsXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiBjb25zdHJhaW5lZENlbGxzLFxuICAgICAgcmVuZGVyTWFzazogVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKG5ld1Byb3BzLCBjb25zdHJhaW5lZENlbGxzKSxcbiAgICAgIGZpcnN0VmlzaWJsZUl0ZW1LZXk6IG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXksXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgIT0gbnVsbFxuICAgICAgICAgID8gcHJldlN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCArIDFcbiAgICAgICAgICA6IHByZXZTdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQsXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogVmlld1N0eWxlUHJvcCxcbiAgKSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50LFxuICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCxcbiAgICAgIExpc3RIZWFkZXJDb21wb25lbnQsXG4gICAgICBMaXN0SXRlbUNvbXBvbmVudCxcbiAgICAgIGRhdGEsXG4gICAgICBkZWJ1ZyxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIHJlbmRlckl0ZW0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IGdldEl0ZW1Db3VudChkYXRhKSAtIDE7XG4gICAgbGV0IHByZXZDZWxsS2V5O1xuICAgIGxhc3QgPSBNYXRoLm1pbihlbmQsIGxhc3QpO1xuXG4gICAgZm9yIChsZXQgaWkgPSBmaXJzdDsgaWkgPD0gbGFzdDsgaWkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaWkpO1xuICAgICAgY29uc3Qga2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9rZXlFeHRyYWN0b3IoaXRlbSwgaWksIHRoaXMucHJvcHMpO1xuXG4gICAgICB0aGlzLl9pbmRpY2VzVG9LZXlzLnNldChpaSwga2V5KTtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGNlbGxzLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNob3VsZExpc3RlbkZvckxheW91dCA9XG4gICAgICAgIGdldEl0ZW1MYXlvdXQgPT0gbnVsbCB8fCBkZWJ1ZyB8fCB0aGlzLl9maWxsUmF0ZUhlbHBlci5lbmFibGVkKCk7XG5cbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxDZWxsUmVuZGVyZXJcbiAgICAgICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQ9e0NlbGxSZW5kZXJlckNvbXBvbmVudH1cbiAgICAgICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PXtpaSA8IGVuZCA/IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgOiB1bmRlZmluZWR9XG4gICAgICAgICAgTGlzdEl0ZW1Db21wb25lbnQ9e0xpc3RJdGVtQ29tcG9uZW50fVxuICAgICAgICAgIGNlbGxLZXk9e2tleX1cbiAgICAgICAgICBob3Jpem9udGFsPXtob3Jpem9udGFsfVxuICAgICAgICAgIGluZGV4PXtpaX1cbiAgICAgICAgICBpbnZlcnNpb25TdHlsZT17aW52ZXJzaW9uU3R5bGV9XG4gICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICBwcmV2Q2VsbEtleT17cHJldkNlbGxLZXl9XG4gICAgICAgICAgb25VcGRhdGVTZXBhcmF0b3JzPXt0aGlzLl9vblVwZGF0ZVNlcGFyYXRvcnN9XG4gICAgICAgICAgb25DZWxsRm9jdXNDYXB0dXJlPXt0aGlzLl9vbkNlbGxGb2N1c0NhcHR1cmV9XG4gICAgICAgICAgb25Vbm1vdW50PXt0aGlzLl9vbkNlbGxVbm1vdW50fVxuICAgICAgICAgIHJlZj17cmVmID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxSZWZzW2tleV0gPSByZWY7XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZW5kZXJJdGVtPXtyZW5kZXJJdGVtfVxuICAgICAgICAgIHsuLi4oc2hvdWxkTGlzdGVuRm9yTGF5b3V0ICYmIHtcbiAgICAgICAgICAgIG9uQ2VsbExheW91dDogdGhpcy5fb25DZWxsTGF5b3V0LFxuICAgICAgICAgIH0pfVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2NvbnN0cmFpblRvSXRlbUNvdW50KFxuICAgIGNlbGxzOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBwcm9wczogUHJvcHMsXG4gICk6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9IHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgY29uc3QgbGFzdFBvc3NpYmxlQ2VsbEluZGV4ID0gaXRlbUNvdW50IC0gMTtcblxuICAgIC8vIENvbnN0cmFpbmluZyBgbGFzdGAgbWF5IHNpZ25pZmljYW50bHkgc2hyaW5rIHRoZSB3aW5kb3cuIEFkanVzdCBgZmlyc3RgXG4gICAgLy8gdG8gZXhwYW5kIHRoZSB3aW5kb3cgaWYgdGhlIG5ldyBgbGFzdGAgcmVzdWx0cyBpbiBhIG5ldyB3aW5kb3cgc21hbGxlclxuICAgIC8vIHRoYW4gdGhlIG51bWJlciBvZiBjZWxscyByZW5kZXJlZCBwZXIgYmF0Y2guXG4gICAgY29uc3QgbWF4VG9SZW5kZXJQZXJCYXRjaCA9IG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQoXG4gICAgICBwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoLFxuICAgICk7XG4gICAgY29uc3QgbWF4Rmlyc3QgPSBNYXRoLm1heCgwLCBsYXN0UG9zc2libGVDZWxsSW5kZXggLSBtYXhUb1JlbmRlclBlckJhdGNoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogY2xhbXAoMCwgY2VsbHMuZmlyc3QsIG1heEZpcnN0KSxcbiAgICAgIGxhc3Q6IE1hdGgubWluKGxhc3RQb3NzaWJsZUNlbGxJbmRleCwgY2VsbHMubGFzdCksXG4gICAgfTtcbiAgfVxuXG4gIF9vblVwZGF0ZVNlcGFyYXRvcnMgPSAoa2V5czogQXJyYXk8P3N0cmluZz4sIG5ld1Byb3BzOiBPYmplY3QpID0+IHtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IHJlZiA9IGtleSAhPSBudWxsICYmIHRoaXMuX2NlbGxSZWZzW2tleV07XG4gICAgICByZWYgJiYgcmVmLnVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzKTtcbiAgICB9KTtcbiAgfTtcblxuICBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5lc3RlZENvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgcmV0dXJuICEhKFxuICAgICAgbmVzdGVkQ29udGV4dCAmJlxuICAgICAgISFuZXN0ZWRDb250ZXh0Lmhvcml6b250YWwgPT09IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICk7XG4gIH1cblxuICBfZ2V0U3BhY2VyS2V5ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiBzdHJpbmcgPT5cbiAgICBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIHN0YXRpYyBfa2V5RXh0cmFjdG9yKFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcm9wczoge1xuICAgICAga2V5RXh0cmFjdG9yPzogPyhpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiBzdHJpbmcsXG4gICAgICAuLi5cbiAgICB9LFxuICApOiBzdHJpbmcge1xuICAgIGlmIChwcm9wcy5rZXlFeHRyYWN0b3IgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHByb3BzLmtleUV4dHJhY3RvcihpdGVtLCBpbmRleCk7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gZGVmYXVsdEtleUV4dHJhY3RvcihpdGVtLCBpbmRleCk7XG4gICAgaWYgKGtleSA9PT0gU3RyaW5nKGluZGV4KSkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IHRydWU7XG4gICAgICBpZiAoaXRlbS50eXBlICYmIGl0ZW0udHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIHRoaXMuX2NoZWNrUHJvcHModGhpcy5wcm9wcyk7XG4gICAgY29uc3Qge0xpc3RFbXB0eUNvbXBvbmVudCwgTGlzdEZvb3RlckNvbXBvbmVudCwgTGlzdEhlYWRlckNvbXBvbmVudH0gPVxuICAgICAgdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHM6IEFycmF5PGFueSB8IFJlYWN0Lk5vZGU+ID0gW107XG4gICAgY29uc3Qgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyA9IG5ldyBTZXQodGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzKTtcbiAgICBjb25zdCBzdGlja3lIZWFkZXJJbmRpY2VzID0gW107XG5cbiAgICAvLyAxLiBBZGQgY2VsbCBmb3IgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgIGlmIChMaXN0SGVhZGVyQ29tcG9uZW50KSB7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoMCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKDApO1xuICAgICAgfVxuICAgICAgY29uc3QgZWxlbWVudCA9IFJlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RIZWFkZXJDb21wb25lbnQpID8gKFxuICAgICAgICBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0SGVhZGVyQ29tcG9uZW50IC8+XG4gICAgICApO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWhlYWRlcid9XG4gICAgICAgICAga2V5PVwiJGhlYWRlclwiPlxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICAvLyBXZSBleHBlY3QgdGhhdCBoZWFkZXIgY29tcG9uZW50IHdpbGwgYmUgYSBzaW5nbGUgbmF0aXZlIHZpZXcgc28gbWFrZSBpdFxuICAgICAgICAgICAgLy8gbm90IGNvbGxhcHNhYmxlIHRvIGF2b2lkIHRoaXMgdmlldyBiZWluZyBmbGF0dGVuZWQgYW5kIG1ha2UgdGhpcyBhc3N1bXB0aW9uXG4gICAgICAgICAgICAvLyBubyBsb25nZXIgdHJ1ZS5cbiAgICAgICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEhlYWRlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMmEuIEFkZCBhIGNlbGwgZm9yIExpc3RFbXB0eUNvbXBvbmVudCBpZiBhcHBsaWNhYmxlXG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgaWYgKGl0ZW1Db3VudCA9PT0gMCAmJiBMaXN0RW1wdHlDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQ6IEV4YWN0UmVhY3RFbGVtZW50X0RFUFJFQ0FURUQ8YW55PiA9ICgoUmVhY3QuaXNWYWxpZEVsZW1lbnQoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudCxcbiAgICAgICkgPyAoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEVtcHR5Q29tcG9uZW50IC8+XG4gICAgICApKTogYW55KTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1lbXB0eSd9XG4gICAgICAgICAga2V5PVwiJGVtcHR5XCI+XG4gICAgICAgICAge1JlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICAgICAgICBvbkxheW91dDogKGV2ZW50OiBMYXlvdXRFdmVudCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl9vbkxheW91dEVtcHR5KGV2ZW50KTtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIFJlYWN0LkVsZW1lbnQgaW50ZXJuYWwgaW5zcGVjdGlvblxuICAgICAgICAgICAgICBpZiAoZWxlbWVudC5wcm9wcy5vbkxheW91dCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMub25MYXlvdXQoZXZlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIFJlYWN0LkVsZW1lbnQgaW50ZXJuYWwgaW5zcGVjdGlvblxuICAgICAgICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShpbnZlcnNpb25TdHlsZSwgZWxlbWVudC5wcm9wcy5zdHlsZSksXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDJiLiBBZGQgY2VsbHMgYW5kIHNwYWNlcnMgZm9yIGVhY2ggaXRlbVxuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG4gICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gJyc7XG4gICAgICBjb25zdCBzcGFjZXJLZXkgPSB0aGlzLl9nZXRTcGFjZXJLZXkoIWhvcml6b250YWwpO1xuXG4gICAgICBjb25zdCByZW5kZXJSZWdpb25zID0gdGhpcy5zdGF0ZS5yZW5kZXJNYXNrLmVudW1lcmF0ZVJlZ2lvbnMoKTtcbiAgICAgIGNvbnN0IGxhc3RSZWdpb24gPSByZW5kZXJSZWdpb25zW3JlbmRlclJlZ2lvbnMubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBsYXN0U3BhY2VyID0gbGFzdFJlZ2lvbj8uaXNTcGFjZXIgPyBsYXN0UmVnaW9uIDogbnVsbDtcblxuICAgICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHJlbmRlclJlZ2lvbnMpIHtcbiAgICAgICAgaWYgKHNlY3Rpb24uaXNTcGFjZXIpIHtcbiAgICAgICAgICAvLyBMZWdhY3kgYmVoYXZpb3IgaXMgdG8gYXZvaWQgc3BhY2VycyB3aGVuIHZpcnR1YWxpemF0aW9uIGlzXG4gICAgICAgICAgLy8gZGlzYWJsZWQgKGluY2x1ZGluZyBoZWFkIHNwYWNlcnMgb24gaW5pdGlhbCByZW5kZXIpLlxuICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2l0aG91dCBnZXRJdGVtTGF5b3V0LCB3ZSBsaW1pdCBvdXIgdGFpbCBzcGFjZXIgdG8gdGhlIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IHRvXG4gICAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAgIC8vIGxpa2VseSBqdW1wIGFyb3VuZCBhcyBpdCByZW5kZXJzIGluIGFib3ZlIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICBjb25zdCBpc0xhc3RTcGFjZXIgPSBzZWN0aW9uID09PSBsYXN0U3BhY2VyO1xuICAgICAgICAgIGNvbnN0IGNvbnN0cmFpblRvTWVhc3VyZWQgPSBpc0xhc3RTcGFjZXIgJiYgIXRoaXMucHJvcHMuZ2V0SXRlbUxheW91dDtcbiAgICAgICAgICBjb25zdCBsYXN0ID0gY29uc3RyYWluVG9NZWFzdXJlZFxuICAgICAgICAgICAgPyBjbGFtcChcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmZpcnN0IC0gMSxcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmxhc3QsXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0SGlnaGVzdE1lYXN1cmVkQ2VsbEluZGV4KCksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogc2VjdGlvbi5sYXN0O1xuXG4gICAgICAgICAgY29uc3QgZmlyc3RNZXRyaWNzID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICAgICAgICBzZWN0aW9uLmZpcnN0LFxuICAgICAgICAgICAgdGhpcy5wcm9wcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGxhc3RNZXRyaWNzID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICAgICAgICBsYXN0LFxuICAgICAgICAgICAgdGhpcy5wcm9wcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHNwYWNlclNpemUgPVxuICAgICAgICAgICAgbGFzdE1ldHJpY3Mub2Zmc2V0ICsgbGFzdE1ldHJpY3MubGVuZ3RoIC0gZmlyc3RNZXRyaWNzLm9mZnNldDtcbiAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgICAga2V5PXtgJHNwYWNlci0ke3NlY3Rpb24uZmlyc3R9YH1cbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV1cbiAgICAgICAgICAgICAgc3R5bGU9e3tbc3BhY2VyS2V5XTogc3BhY2VyU2l6ZX19XG4gICAgICAgICAgICAvPixcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3B1c2hDZWxscyhcbiAgICAgICAgICAgIGNlbGxzLFxuICAgICAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHMsXG4gICAgICAgICAgICBzZWN0aW9uLmZpcnN0LFxuICAgICAgICAgICAgc2VjdGlvbi5sYXN0LFxuICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2hhc1dhcm5lZC5rZXlzICYmIF91c2VkSW5kZXhGb3JLZXkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IG1pc3Npbmcga2V5cyBmb3IgaXRlbXMsIG1ha2Ugc3VyZSB0byBzcGVjaWZ5IGEga2V5IG9yIGlkIHByb3BlcnR5IG9uIGVhY2ggJyArXG4gICAgICAgICAgICAnaXRlbSBvciBwcm92aWRlIGEgY3VzdG9tIGtleUV4dHJhY3Rvci4nLFxuICAgICAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2hhc1dhcm5lZC5rZXlzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAzLiBBZGQgY2VsbCBmb3IgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgIGlmIChMaXN0Rm9vdGVyQ29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEZvb3RlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RGb290ZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RGb290ZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldEZvb3RlckNlbGxLZXkoKX1cbiAgICAgICAgICBrZXk9XCIkZm9vdGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEZvb3Rlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gNC4gUmVuZGVyIHRoZSBTY3JvbGxWaWV3XG4gICAgY29uc3Qgc2Nyb2xsUHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogdGhpcy5fb25Db250ZW50U2l6ZUNoYW5nZSxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9vbkxheW91dCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9vblNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5fb25TY3JvbGxFbmREcmFnLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgLy8gaU9TL21hY09TIHJlcXVpcmVzIGEgbm9uLXplcm8gc2Nyb2xsRXZlbnRUaHJvdHRsZSB0byBmaXJlIG1vcmUgdGhhbiBhXG4gICAgICAvLyBzaW5nbGUgbm90aWZpY2F0aW9uIHdoaWxlIHNjcm9sbGluZy4gVGhpcyB3aWxsIG90aGVyd2lzZSBuby1vcC5cbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSA/PyAwLjAwMDEsXG4gICAgICBpbnZlcnRTdGlja3lIZWFkZXJzOlxuICAgICAgICB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzXG4gICAgICAgICAgOiB0aGlzLnByb3BzLmludmVydGVkLFxuICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgIHN0eWxlOiBpbnZlcnNpb25TdHlsZVxuICAgICAgICA/IFtpbnZlcnNpb25TdHlsZSwgdGhpcy5wcm9wcy5zdHlsZV1cbiAgICAgICAgOiB0aGlzLnByb3BzLnN0eWxlLFxuICAgICAgaXNJbnZlcnRlZFZpcnR1YWxpemVkTGlzdDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcbiAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbjpcbiAgICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24gIT0gbnVsbFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAuLi50aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbixcbiAgICAgICAgICAgICAgLy8gQWRqdXN0IGluZGV4IHRvIGFjY291bnQgZm9yIExpc3RIZWFkZXJDb21wb25lbnQuXG4gICAgICAgICAgICAgIG1pbkluZGV4Rm9yVmlzaWJsZTpcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbi5taW5JbmRleEZvclZpc2libGUgK1xuICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIHRoaXMuX2hhc01vcmUgPSB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA8IGl0ZW1Db3VudCAtIDE7XG5cbiAgICBjb25zdCBpbm5lclJldCA9IChcbiAgICAgIDxWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBjZWxsS2V5OiBudWxsLFxuICAgICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IHRoaXMuX2dldFNjcm9sbE1ldHJpY3MsXG4gICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpLFxuICAgICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgICAgdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICB9fT5cbiAgICAgICAge1JlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICAoXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJlbmRlclNjcm9sbENvbXBvbmVudCB8fFxuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudFxuICAgICAgICAgICkoc2Nyb2xsUHJvcHMpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogdGhpcy5fY2FwdHVyZVNjcm9sbFJlZixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbGxzLFxuICAgICAgICApfVxuICAgICAgPC9WaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXI+XG4gICAgKTtcbiAgICBsZXQgcmV0OiBSZWFjdC5Ob2RlID0gaW5uZXJSZXQ7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIHJldCA9IChcbiAgICAgICAgPFNjcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICB7c2Nyb2xsQ29udGV4dCA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNjcm9sbENvbnRleHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAhc2Nyb2xsQ29udGV4dC5ob3Jpem9udGFsID09PVxuICAgICAgICAgICAgICAgICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCkgJiZcbiAgICAgICAgICAgICAgIXRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nICYmXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9PSBudWxsICYmXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRW5hYmxlZCAhPT0gZmFsc2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHNob3VsZCBuZXZlciBiZSBuZXN0ZWQgaW5zaWRlIHBsYWluIFNjcm9sbFZpZXdzIHdpdGggdGhlIHNhbWUgJyArXG4gICAgICAgICAgICAgICAgICAnb3JpZW50YXRpb24gYmVjYXVzZSBpdCBjYW4gYnJlYWsgd2luZG93aW5nIGFuZCBvdGhlciBmdW5jdGlvbmFsaXR5IC0gdXNlIGFub3RoZXIgJyArXG4gICAgICAgICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0LWJhY2tlZCBjb250YWluZXIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9oYXNXYXJuZWQubmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJSZXQ7XG4gICAgICAgICAgfX1cbiAgICAgICAgPC9TY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5kZWJ1Zykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5kZWJ1Z30+XG4gICAgICAgICAge3JldH1cbiAgICAgICAgICB7dGhpcy5fcmVuZGVyRGVidWdPdmVybGF5KCl9XG4gICAgICAgIDwvVmlldz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7ZGF0YSwgZXh0cmFEYXRhLCBnZXRJdGVtTGF5b3V0fSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRhdGEgIT09IHByZXZQcm9wcy5kYXRhIHx8IGV4dHJhRGF0YSAhPT0gcHJldlByb3BzLmV4dHJhRGF0YSkge1xuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBUaGUgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgaXMgZ3VhcmFudGVlaW5nIGEgaGlQcmkgY2VsbCB1cGRhdGUgd2lsbCBvbmx5IGhhcHBlblxuICAgIC8vIG9uY2UgcGVyIGZpYmVyIHVwZGF0ZS4gVGhlIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIHNldCBpdCB0byB0cnVlXG4gICAgLy8gaWYgYSBoaVByaSB1cGRhdGUgbmVlZHMgdG8gcGVyZm9ybS4gSWYgYGNvbXBvbmVudERpZFVwZGF0ZWAgaXMgdHJpZ2dlcmVkIHdpdGhcbiAgICAvLyBgdGhpcy5faGlQcmlJblByb2dyZXNzPXRydWVgLCBtZWFucyBpdCdzIHRyaWdnZXJlZCBieSB0aGUgaGlQcmkgdXBkYXRlLiBUaGVcbiAgICAvLyBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBjaGVjayB0aGlzIGNvbmRpdGlvbiBhbmQgbm90IHBlcmZvcm1cbiAgICAvLyBhbm90aGVyIGhpUHJpIHVwZGF0ZS5cbiAgICBjb25zdCBoaVByaUluUHJvZ3Jlc3MgPSB0aGlzLl9oaVByaUluUHJvZ3Jlc3M7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgLy8gTWFrZSBzdXJlIHNldHRpbmcgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgYmFjayB0byBmYWxzZSBhZnRlciBgY29tcG9uZW50RGlkVXBkYXRlYFxuICAgIC8vIGlzIHRyaWdnZXJlZCB3aXRoIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlYFxuICAgIGlmIChoaVByaUluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFdlIG9ubHkgY2FsbCBgb25FbmRSZWFjaGVkYCBhZnRlciB3ZSByZW5kZXIgdGhlIGxhc3QgY2VsbCwgYnV0IHdoZW5cbiAgICAvLyBnZXRJdGVtTGF5b3V0IGlzIHByZXNlbnQsIHdlIGNhbiBzY3JvbGwgcGFzdCB0aGUgbGFzdCByZW5kZXJlZCBjZWxsLCBhbmRcbiAgICAvLyBuZXZlciB0cmlnZ2VyIGEgbmV3IGxheW91dCBvciBib3VuZHMgY2hhbmdlLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGFnYWluXG4gICAgLy8gYWZ0ZXIgcmVuZGVyaW5nIG1vcmUgY2VsbHMuXG4gICAgaWYgKGdldEl0ZW1MYXlvdXQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICAgIH1cbiAgfVxuXG4gIF9jZWxsUmVmczoge1tzdHJpbmddOiBudWxsIHwgQ2VsbFJlbmRlcmVyPGFueT59ID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9saXN0TWV0cmljczogTGlzdE1ldHJpY3NBZ2dyZWdhdG9yID0gbmV3IExpc3RNZXRyaWNzQWdncmVnYXRvcigpO1xuICBfZm9vdGVyTGVuZ3RoID0gMDtcbiAgLy8gVXNlZCBmb3IgcHJldmVudGluZyBzY3JvbGxUb0luZGV4IGZyb20gYmVpbmcgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGZvciBpbml0aWFsU2Nyb2xsSW5kZXhcbiAgX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ID0gZmFsc2U7XG4gIF9oYXNJbnRlcmFjdGVkID0gZmFsc2U7XG4gIF9oYXNNb3JlID0gZmFsc2U7XG4gIF9oYXNXYXJuZWQ6IHtbc3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcbiAgX2hlYWRlckxlbmd0aCA9IDA7XG4gIF9oaVByaUluUHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZTsgLy8gZmxhZyB0byBwcmV2ZW50IGluZmluaXRlIGhpUHJpIGNlbGwgbGltaXQgdXBkYXRlXG4gIF9pbmRpY2VzVG9LZXlzOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuICBfbGFzdEZvY3VzZWRDZWxsS2V5OiA/c3RyaW5nID0gbnVsbDtcbiAgX25lc3RlZENoaWxkTGlzdHM6IENoaWxkTGlzdENvbGxlY3Rpb248VmlydHVhbGl6ZWRMaXN0PiA9XG4gICAgbmV3IENoaWxkTGlzdENvbGxlY3Rpb24oKTtcbiAgX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q6IG51bWJlciA9IDA7XG4gIF9wZW5kaW5nVmlld2FiaWxpdHlVcGRhdGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX3ByZXZQYXJlbnRPZmZzZXQ6IG51bWJlciA9IDA7XG4gIF9zY3JvbGxNZXRyaWNzOiB7XG4gICAgZE9mZnNldDogbnVtYmVyLFxuICAgIGR0OiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgdGltZXN0YW1wOiBudW1iZXIsXG4gICAgdmVsb2NpdHk6IG51bWJlcixcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgem9vbVNjYWxlOiBudW1iZXIsXG4gIH0gPSB7XG4gICAgZE9mZnNldDogMCxcbiAgICBkdDogMTAsXG4gICAgb2Zmc2V0OiAwLFxuICAgIHRpbWVzdGFtcDogMCxcbiAgICB2ZWxvY2l0eTogMCxcbiAgICB2aXNpYmxlTGVuZ3RoOiAwLFxuICAgIHpvb21TY2FsZTogMSxcbiAgfTtcbiAgX3Njcm9sbFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8YW55PiA9IG51bGw7XG4gIF9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfY2FwdHVyZVNjcm9sbFJlZiA9IHJlZiA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsUmVmID0gcmVmO1xuICB9O1xuXG4gIF9jb21wdXRlQmxhbmtuZXNzKCkge1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmNvbXB1dGVCbGFua25lc3MoXG4gICAgICB0aGlzLnByb3BzLFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICApO1xuICB9XG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyBQcmV2ZW50IFZpcnR1YWxpemVkTGlzdC5fb25Db250ZW50U2l6ZUNoYW5nZSBmcm9tIGJlaW5nIHRyaWdnZXJlZCBieSBhIGJ1YmJsaW5nIG9uQ29udGVudFNpemVDaGFuZ2UgZXZlbnQuXG4gICAgICAvLyBUaGlzIGNvdWxkIGxlYWQgdG8gaW50ZXJuYWwgaW5jb25zaXN0ZW5jaWVzIHdpdGhpbiBWaXJ0dWFsaXplZExpc3QuXG4gICAgICBjb25zdCB7b25Db250ZW50U2l6ZUNoYW5nZSwgLi4ub3RoZXJQcm9wc30gPSBwcm9wcztcbiAgICAgIHJldHVybiA8VmlldyB7Li4ub3RoZXJQcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcgPz8gJ3VuZGVmaW5lZCcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgIDxTY3JvbGxWaWV3XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZnJlc2hDb250cm9sPXtcbiAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sID09IG51bGwgPyAoXG4gICAgICAgICAgICAgIDxSZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgcmV0dXJuIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfVxuICB9O1xuXG4gIF9vbkNlbGxMYXlvdXQgPSAoXG4gICAgZTogTGF5b3V0RXZlbnQsXG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGNlbGxJbmRleDogbnVtYmVyLFxuICApOiB2b2lkID0+IHtcbiAgICBjb25zdCBsYXlvdXRIYXNDaGFuZ2VkID0gdGhpcy5fbGlzdE1ldHJpY3Mubm90aWZ5Q2VsbExheW91dCh7XG4gICAgICBjZWxsSW5kZXgsXG4gICAgICBjZWxsS2V5LFxuICAgICAgbGF5b3V0OiBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgIG9yaWVudGF0aW9uOiB0aGlzLl9vcmllbnRhdGlvbigpLFxuICAgIH0pO1xuXG4gICAgaWYgKGxheW91dEhhc0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKGNlbGxLZXkpO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG4gIH07XG5cbiAgX29uQ2VsbEZvY3VzQ2FwdHVyZSA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXkgPSBjZWxsS2V5O1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgfTtcblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBkZWxldGUgdGhpcy5fY2VsbFJlZnNbY2VsbEtleV07XG4gICAgdGhpcy5fbGlzdE1ldHJpY3Mubm90aWZ5Q2VsbFVubW91bnRlZChjZWxsS2V5KTtcbiAgfTtcblxuICBfdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoSW5DZWxsKGNlbGxLZXksIGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpOiB2b2lkIHtcbiAgICAvLyBUT0RPIChUMzU1NzQ1MzgpOiBmaW5kTm9kZUhhbmRsZSBzb21ldGltZXMgY3Jhc2hlcyB3aXRoIFwiVW5hYmxlIHRvIGZpbmRcbiAgICAvLyBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnRcIiBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGFyZSBhc3N1bWluZyB0aGF0IGdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKVxuICAgICAgLy8gaXMgYSBub24tbnVsbCByZWZlcmVuY2UgdG8gYSBTY3JvbGxWaWV3XG4gICAgICB0aGlzLl9zY3JvbGxSZWYubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKSxcbiAgICAgICAgKHgsIHksIHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgICAgICB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHt4LCB5fSk7XG4gICAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3Mubm90aWZ5TGlzdENvbnRlbnRMYXlvdXQoe1xuICAgICAgICAgICAgbGF5b3V0OiB7d2lkdGgsIGhlaWdodH0sXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogdGhpcy5fb3JpZW50YXRpb24oKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBzY3JvbGxNZXRyaWNzID0gdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MoXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2V0U2Nyb2xsTWV0cmljcygpLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBtZXRyaWNzQ2hhbmdlZCA9XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggIT09IHNjcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCB8fFxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgIT09IHNjcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICAgICAgaWYgKG1ldHJpY3NDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCA9IHNjcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICAgICAgICAvLyBJZiBtZXRyaWNzIG9mIHRoZSBzY3JvbGxWaWV3IGNoYW5nZWQsIHRoZW4gd2UgdHJpZ2dlcmVkIHJlbWVhc3VyZSBmb3IgY2hpbGQgbGlzdFxuICAgICAgICAgICAgLy8gdG8gZW5zdXJlIFZpcnR1YWxpemVkTGlzdCBoYXMgdGhlIHJpZ2h0IGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICAgICAgICAgIGNoaWxkTGlzdC5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJyxcbiAgICAgICAgZXJyb3Iuc3RhY2ssXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9vbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gTmVlZCB0byBhZGp1c3Qgb3VyIHNjcm9sbCBtZXRyaWNzIHRvIGJlIHJlbGF0aXZlIHRvIG91ciBjb250YWluaW5nXG4gICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgIHRoaXMubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoXG4gICAgICAgIGUubmF0aXZlRXZlbnQubGF5b3V0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKTtcbiAgfTtcblxuICBfb25MYXlvdXRFbXB0eSA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgfTtcblxuICBfZ2V0Rm9vdGVyQ2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWZvb3Rlcic7XG4gIH1cblxuICBfb25MYXlvdXRGb290ZXIgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCh0aGlzLl9nZXRGb290ZXJDZWxsS2V5KCkpO1xuICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX29uTGF5b3V0SGVhZGVyID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5faGVhZGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9yZW5kZXJEZWJ1Z092ZXJsYXkoKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplID1cbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAvXG4gICAgICAodGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpIHx8IDEpO1xuICAgIGNvbnN0IGZyYW1lc0luTGF5b3V0ID0gW107XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaXRlbUNvdW50OyBpaSsrKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KGlpLCB0aGlzLnByb3BzKTtcbiAgICAgIGlmIChmcmFtZS5pc01vdW50ZWQpIHtcbiAgICAgICAgZnJhbWVzSW5MYXlvdXQucHVzaChmcmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdpbmRvd1RvcCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApLm9mZnNldDtcbiAgICBjb25zdCBmcmFtZUxhc3QgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0LFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApO1xuICAgIGNvbnN0IHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIGNvbnN0IHZpc1RvcCA9IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IHZpc0xlbiA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17W3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9wOiBmLm9mZnNldCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGYubGVuZ3RoICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVMYXN0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHdpbmRvd1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3dMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lVmlzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHZpc1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxuXG4gIF9zZWxlY3RMZW5ndGgoXG4gICAgbWV0cmljczogJFJlYWRPbmx5PHtcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0+LFxuICApOiBudW1iZXIge1xuICAgIHJldHVybiAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICA/IG1ldHJpY3MuaGVpZ2h0XG4gICAgICA6IG1ldHJpY3Mud2lkdGg7XG4gIH1cblxuICBfc2VsZWN0T2Zmc2V0KHt4LCB5fTogJFJlYWRPbmx5PHt4OiBudW1iZXIsIHk6IG51bWJlciwgLi4ufT4pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbigpLmhvcml6b250YWwgPyB4IDogeTtcbiAgfVxuXG4gIF9vcmllbnRhdGlvbigpOiBMaXN0T3JpZW50YXRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICBydGw6IEkxOG5NYW5hZ2VyLmlzUlRMLFxuICAgIH07XG4gIH1cblxuICBfbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgb25TdGFydFJlYWNoZWQsXG4gICAgICBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICAgIG9uRW5kUmVhY2hlZCxcbiAgICAgIG9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICAvLyBXYWl0IHVudGlsIHdlIGhhdmUgcmVhbCBtZXRyaWNzXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX2xpc3RNZXRyaWNzLmhhc0NvbnRlbnRMZW5ndGgoKSB8fFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID09PSAwXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZSBhbnkgcGVuZGluZyBzY3JvbGwgdXBkYXRlcyBpdCBtZWFucyB0aGF0IHRoZSBzY3JvbGwgbWV0cmljc1xuICAgIC8vIGFyZSBvdXQgb2YgZGF0ZSBhbmQgd2Ugc2hvdWxkIG5vdCBjYWxsIGFueSBvZiB0aGUgZWRnZSByZWFjaGVkIGNhbGxiYWNrcy5cbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge3Zpc2libGVMZW5ndGgsIG9mZnNldH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGxldCBkaXN0YW5jZUZyb21TdGFydCA9IG9mZnNldDtcbiAgICBsZXQgZGlzdGFuY2VGcm9tRW5kID1cbiAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG5cbiAgICAvLyBFc3BlY2lhbGx5IHdoZW4gb0VSVCBpcyB6ZXJvIGl0J3MgbmVjZXNzYXJ5IHRvICdmbG9vcicgdmVyeSBzbWFsbCBkaXN0YW5jZSB2YWx1ZXMgdG8gYmUgMFxuICAgIC8vIHNpbmNlIGRlYm91bmNpbmcgY2F1c2VzIHVzIHRvIG5vdCBmaXJlIHRoaXMgZXZlbnQgZm9yIGV2ZXJ5IHNpbmdsZSBcInBpeGVsXCIgd2Ugc2Nyb2xsIGFuZCBjYW4gdGh1c1xuICAgIC8vIGJlIGF0IHRoZSBlZGdlIG9mIHRoZSBsaXN0IHdpdGggYSBkaXN0YW5jZSBhcHByb3hpbWF0aW5nIDAgYnV0IG5vdCBxdWl0ZSB0aGVyZS5cbiAgICBpZiAoZGlzdGFuY2VGcm9tU3RhcnQgPCBPTl9FREdFX1JFQUNIRURfRVBTSUxPTikge1xuICAgICAgZGlzdGFuY2VGcm9tU3RhcnQgPSAwO1xuICAgIH1cbiAgICBpZiAoZGlzdGFuY2VGcm9tRW5kIDwgT05fRURHRV9SRUFDSEVEX0VQU0lMT04pIHtcbiAgICAgIGRpc3RhbmNlRnJvbUVuZCA9IDA7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVDEyMTE3MjE3MiBMb29rIGludG8gd2h5IHdlJ3JlIFwiZGVmYXVsdGluZ1wiIHRvIGEgdGhyZXNob2xkIG9mIDJweFxuICAgIC8vIHdoZW4gb0VSVCBpcyBub3QgcHJlc2VudCAoZGlmZmVyZW50IGZyb20gMiB2aWV3cG9ydHMgdXNlZCBlbHNld2hlcmUpXG4gICAgY29uc3QgREVGQVVMVF9USFJFU0hPTERfUFggPSAyO1xuXG4gICAgY29uc3Qgc3RhcnRUaHJlc2hvbGQgPVxuICAgICAgb25TdGFydFJlYWNoZWRUaHJlc2hvbGQgIT0gbnVsbFxuICAgICAgICA/IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICA6IERFRkFVTFRfVEhSRVNIT0xEX1BYO1xuICAgIGNvbnN0IGVuZFRocmVzaG9sZCA9XG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgIT0gbnVsbFxuICAgICAgICA/IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgOiBERUZBVUxUX1RIUkVTSE9MRF9QWDtcbiAgICBjb25zdCBpc1dpdGhpblN0YXJ0VGhyZXNob2xkID0gZGlzdGFuY2VGcm9tU3RhcnQgPD0gc3RhcnRUaHJlc2hvbGQ7XG4gICAgY29uc3QgaXNXaXRoaW5FbmRUaHJlc2hvbGQgPSBkaXN0YW5jZUZyb21FbmQgPD0gZW5kVGhyZXNob2xkO1xuXG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlIHVzZXIganVzdCBzY3JvbGxlZCB3aXRoaW4gdGhlIGVuZCB0aHJlc2hvbGRcbiAgICAvLyBhbmQgY2FsbCBvbkVuZFJlYWNoZWQgb25seSBvbmNlIGZvciBhIGdpdmVuIGNvbnRlbnQgbGVuZ3RoLFxuICAgIC8vIGFuZCBvbmx5IGlmIG9uU3RhcnRSZWFjaGVkIGlzIG5vdCBiZWluZyBleGVjdXRlZFxuICAgIGlmIChcbiAgICAgIG9uRW5kUmVhY2hlZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPT09IGdldEl0ZW1Db3VudChkYXRhKSAtIDEgJiZcbiAgICAgIGlzV2l0aGluRW5kVGhyZXNob2xkICYmXG4gICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgIT09IHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoXG4gICAgKSB7XG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKTtcbiAgICAgIG9uRW5kUmVhY2hlZCh7ZGlzdGFuY2VGcm9tRW5kfSk7XG4gICAgfVxuXG4gICAgLy8gTmV4dCBjaGVjayBpZiB0aGUgdXNlciBqdXN0IHNjcm9sbGVkIHdpdGhpbiB0aGUgc3RhcnQgdGhyZXNob2xkXG4gICAgLy8gYW5kIGNhbGwgb25TdGFydFJlYWNoZWQgb25seSBvbmNlIGZvciBhIGdpdmVuIGNvbnRlbnQgbGVuZ3RoLFxuICAgIC8vIGFuZCBvbmx5IGlmIG9uRW5kUmVhY2hlZCBpcyBub3QgYmVpbmcgZXhlY3V0ZWRcbiAgICBpZiAoXG4gICAgICBvblN0YXJ0UmVhY2hlZCAhPSBudWxsICYmXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPT09IDAgJiZcbiAgICAgIGlzV2l0aGluU3RhcnRUaHJlc2hvbGQgJiZcbiAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSAhPT0gdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKTtcbiAgICAgIG9uU3RhcnRSZWFjaGVkKHtkaXN0YW5jZUZyb21TdGFydH0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSB1c2VyIHNjcm9sbHMgYXdheSBmcm9tIHRoZSBzdGFydCBvciBlbmQgYW5kIGJhY2sgYWdhaW4sXG4gICAgLy8gY2F1c2Ugb25TdGFydFJlYWNoZWQgb3Igb25FbmRSZWFjaGVkIHRvIGJlIHRyaWdnZXJlZCBhZ2FpblxuICAgIGlmICghaXNXaXRoaW5TdGFydFRocmVzaG9sZCkge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IDA7XG4gICAgfVxuICAgIGlmICghaXNXaXRoaW5FbmRUaHJlc2hvbGQpIHtcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICBfb25Db250ZW50U2l6ZUNoYW5nZSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIHRoaXMuX2xpc3RNZXRyaWNzLm5vdGlmeUxpc3RDb250ZW50TGF5b3V0KHtcbiAgICAgIGxheW91dDoge3dpZHRoLCBoZWlnaHR9LFxuICAgICAgb3JpZW50YXRpb246IHRoaXMuX29yaWVudGF0aW9uKCksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9tYXliZVNjcm9sbFRvSW5pdGlhbFNjcm9sbEluZGV4KHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmllZCBgaW5pdGlhbFNjcm9sbEluZGV4YCBwcm9wIGFmdGVyIHRoZSBTY3JvbGxWaWV3XG4gICAqIGNvbnRlbnQgaGFzIGJlZW4gbGFpZCBvdXQsIGlmIGl0IGlzIHN0aWxsIHZhbGlkLiBPbmx5IGEgc2luZ2xlIHNjcm9sbCBpc1xuICAgKiB0cmlnZ2VyZWQgdGhyb3VnaG91dCB0aGUgbGlmZXRpbWUgb2YgdGhlIGxpc3QuXG4gICAqL1xuICBfbWF5YmVTY3JvbGxUb0luaXRpYWxTY3JvbGxJbmRleChcbiAgICBjb250ZW50V2lkdGg6IG51bWJlcixcbiAgICBjb250ZW50SGVpZ2h0OiBudW1iZXIsXG4gICkge1xuICAgIGlmIChcbiAgICAgIGNvbnRlbnRXaWR0aCA+IDAgJiZcbiAgICAgIGNvbnRlbnRIZWlnaHQgPiAwICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDAgJiZcbiAgICAgICF0aGlzLl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleFxuICAgICkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29udGVudE9mZnNldCA9PSBudWxsKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA8XG4gICAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoe1xuICAgICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaW5kZXg6IG51bGx0aHJvd3ModGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyogVHJhbnNsYXRlcyBtZXRyaWNzIGZyb20gYSBzY3JvbGwgZXZlbnQgaW4gYSBwYXJlbnQgVmlydHVhbGl6ZWRMaXN0IGludG9cbiAgICogY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIGNoaWxkIGxpc3QuXG4gICAqL1xuICBfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MgPSAobWV0cmljczoge1xuICAgIHZpc2libGVMZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUgPT4ge1xuICAgIC8vIE9mZnNldCBvZiB0aGUgdG9wIG9mIHRoZSBuZXN0ZWQgbGlzdCByZWxhdGl2ZSB0byB0aGUgdG9wIG9mIGl0cyBwYXJlbnQncyB2aWV3cG9ydFxuICAgIGNvbnN0IG9mZnNldCA9IG1ldHJpY3Mub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDtcbiAgICAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuICAgIGNvbnN0IHZpc2libGVMZW5ndGggPSBtZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgY29uc3QgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBvZmZzZXQsXG4gICAgICBkT2Zmc2V0LFxuICAgIH07XG4gIH07XG5cbiAgdW5zdGFibGVfb25TY3JvbGwoZTogT2JqZWN0KSB7XG4gICAgdGhpcy5fb25TY3JvbGwoZSk7XG4gIH1cblxuICBfb25TY3JvbGwgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsKGUpO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2Nyb2xsKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcbiAgICBsZXQgdmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dE1lYXN1cmVtZW50KTtcbiAgICBsZXQgY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplKTtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0RnJvbVNjcm9sbEV2ZW50KGUpO1xuICAgIGxldCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGlmICh0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgPT09IDApIHtcbiAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAvLyBrbm93IG91ciBvZmZzZXQgZnJvbSBvdXIgb2Zmc2V0IGZyb20gb3VyIHBhcmVudFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAoe3Zpc2libGVMZW5ndGgsIGNvbnRlbnRMZW5ndGgsIG9mZnNldCwgZE9mZnNldH0gPVxuICAgICAgICB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZvciBpbnZhbGlkIG5lZ2F0aXZlIHZhbHVlcyAody8gUlRMKSwgc2V0IHRoaXMgdG8gMS5cbiAgICBjb25zdCB6b29tU2NhbGUgPSBlLm5hdGl2ZUV2ZW50Lnpvb21TY2FsZSA8IDAgPyAxIDogZS5uYXRpdmVFdmVudC56b29tU2NhbGU7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgIGR0LFxuICAgICAgZE9mZnNldCxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIHpvb21TY2FsZSxcbiAgICB9O1xuICAgIGlmICh0aGlzLnN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHtcbiAgICAgICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OiBzdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgLSAxLFxuICAgICAgfSkpO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG4gICAgaWYgKCF0aGlzLnByb3BzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKTtcbiAgICBpZiAodmVsb2NpdHkgIT09IDApIHtcbiAgICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmFjdGl2YXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgfTtcblxuICBfb2Zmc2V0RnJvbVNjcm9sbEV2ZW50KGU6IFNjcm9sbEV2ZW50KTogbnVtYmVyIHtcbiAgICBjb25zdCB7Y29udGVudE9mZnNldCwgY29udGVudFNpemUsIGxheW91dE1lYXN1cmVtZW50fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgY29uc3Qge2hvcml6b250YWwsIHJ0bH0gPSB0aGlzLl9vcmllbnRhdGlvbigpO1xuICAgIGlmIChob3Jpem9udGFsICYmIHJ0bCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fc2VsZWN0TGVuZ3RoKGNvbnRlbnRTaXplKSAtXG4gICAgICAgICh0aGlzLl9zZWxlY3RPZmZzZXQoY29udGVudE9mZnNldCkgK1xuICAgICAgICAgIHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXRNZWFzdXJlbWVudCkpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2VsZWN0T2Zmc2V0KGNvbnRlbnRPZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKSB7XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICAodGhpcy5fbGlzdE1ldHJpY3MuZ2V0QXZlcmFnZUNlbGxMZW5ndGgoKSA+IDAgfHxcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0ICE9IG51bGwpICYmXG4gICAgICB0aGlzLl9zaG91bGRSZW5kZXJXaXRoUHJpb3JpdHkoKSAmJlxuICAgICAgIXRoaXMuX2hpUHJpSW5Qcm9ncmVzc1xuICAgICkge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIC8vIERvbid0IHdvcnJ5IGFib3V0IGludGVyYWN0aW9ucyB3aGVuIHNjcm9sbGluZyBxdWlja2x5OyBmb2N1cyBvbiBmaWxsaW5nIGNvbnRlbnQgYXMgZmFzdFxuICAgICAgLy8gYXMgcG9zc2libGUuXG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKCk7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLnNjaGVkdWxlKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3VsZFJlbmRlcldpdGhQcmlvcml0eSgpOiBib29sZWFuIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCA9IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgdGhpcy5wcm9wcy5vblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoZmlyc3QgPiAwKSB7XG4gICAgICBjb25zdCBkaXN0VG9wID1cbiAgICAgICAgb2Zmc2V0IC1cbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goZmlyc3QsIHRoaXMucHJvcHMpLm9mZnNldDtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgZGlzdFRvcCA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5IDwgLTIgJiZcbiAgICAgICAgICBkaXN0VG9wIDxcbiAgICAgICAgICAgIGdldFNjcm9sbGluZ1RocmVzaG9sZChvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCwgdmlzaWJsZUxlbmd0aCkpO1xuICAgIH1cbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoIWhpUHJpICYmIGxhc3QgPj0gMCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KGxhc3QsIHRoaXMucHJvcHMpLm9mZnNldCAtXG4gICAgICAgIChvZmZzZXQgKyB2aXNpYmxlTGVuZ3RoKTtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgZGlzdEJvdHRvbSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJlxuICAgICAgICAgIGRpc3RCb3R0b20gPFxuICAgICAgICAgICAgZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKG9uRW5kUmVhY2hlZFRocmVzaG9sZCwgdmlzaWJsZUxlbmd0aCkpO1xuICAgIH1cblxuICAgIHJldHVybiBoaVByaTtcbiAgfVxuXG4gIHVuc3RhYmxlX29uU2Nyb2xsQmVnaW5EcmFnKGU6IFNjcm9sbEV2ZW50KSB7XG4gICAgdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICB1bnN0YWJsZV9vblNjcm9sbEVuZERyYWcoZTogU2Nyb2xsRXZlbnQpIHtcbiAgICB0aGlzLl9vblNjcm9sbEVuZERyYWcoZSk7XG4gIH1cblxuICBfb25TY3JvbGxFbmREcmFnID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgICB9KTtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSB0aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgdW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEJlZ2luKGU6IFNjcm9sbEV2ZW50KSB7XG4gICAgdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9XG5cbiAgX29uTW9tZW50dW1TY3JvbGxCZWdpbiA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgdW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEVuZChlOiBTY3JvbGxFdmVudCkge1xuICAgIHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH1cblxuICBfb25Nb21lbnR1bVNjcm9sbEVuZCA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgY29uc3QgY2VsbHNBcm91bmRWaWV3cG9ydCA9IHRoaXMuX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICBzdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQsXG4gICAgICApO1xuICAgICAgY29uc3QgcmVuZGVyTWFzayA9IFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFzayhcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHRoaXMuX2dldE5vblZpZXdwb3J0UmVuZGVyUmVnaW9ucyhwcm9wcyksXG4gICAgICApO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPT09IHN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID09PSBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgJiZcbiAgICAgICAgcmVuZGVyTWFzay5lcXVhbHMoc3RhdGUucmVuZGVyTWFzaylcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtjZWxsc0Fyb3VuZFZpZXdwb3J0LCByZW5kZXJNYXNrfTtcbiAgICB9KTtcbiAgfTtcblxuICBfY3JlYXRlVmlld1Rva2VuID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaXNWaWV3YWJsZTogYm9vbGVhbixcbiAgICBwcm9wczogQ2VsbE1ldHJpY1Byb3BzLFxuICAgIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW19ID0gcHJvcHM7XG4gICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaW5kZXgpO1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleCxcbiAgICAgIGl0ZW0sXG4gICAgICBrZXk6IFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyksXG4gICAgICBpc1ZpZXdhYmxlLFxuICAgIH07XG4gIH07XG5cbiAgX19nZXRMaXN0TWV0cmljcygpOiBMaXN0TWV0cmljc0FnZ3JlZ2F0b3Ige1xuICAgIHJldHVybiB0aGlzLl9saXN0TWV0cmljcztcbiAgfVxuXG4gIF9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMgPSAoXG4gICAgcHJvcHM6IENlbGxNZXRyaWNQcm9wcyxcbiAgKTogJFJlYWRPbmx5QXJyYXk8e1xuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICB9PiA9PiB7XG4gICAgLy8gS2VlcCBhIHZpZXdwb3J0J3Mgd29ydGggb2YgY29udGVudCBhcm91bmQgdGhlIGxhc3QgZm9jdXNlZCBjZWxsIHRvIGFsbG93XG4gICAgLy8gcmFuZG9tIG5hdmlnYXRpb24gYXJvdW5kIGl0IHdpdGhvdXQgYW55IGJsYW5raW5nLiBFLmcuIHRhYmJpbmcgZnJvbSBvbmVcbiAgICAvLyBmb2N1c2VkIGl0ZW0gb3V0IG9mIHZpZXdwb3J0IHRvIGFub3RoZXIuXG4gICAgaWYgKFxuICAgICAgISh0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXkgJiYgdGhpcy5fY2VsbFJlZnNbdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlciA9IHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV07XG4gICAgY29uc3QgZm9jdXNlZENlbGxJbmRleCA9IGxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyLnByb3BzLmluZGV4O1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIC8vIFRoZSBsYXN0IGNlbGwgd2UgcmVuZGVyZWQgbWF5IGJlIGF0IGEgbmV3IGluZGV4LiBCYWlsIGlmIHdlIGRvbid0IGtub3dcbiAgICAvLyB3aGVyZSBpdCBpcy5cbiAgICBpZiAoXG4gICAgICBmb2N1c2VkQ2VsbEluZGV4ID49IGl0ZW1Db3VudCB8fFxuICAgICAgVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBmb2N1c2VkQ2VsbEluZGV4KSAhPT1cbiAgICAgICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgbGV0IGZpcnN0ID0gZm9jdXNlZENlbGxJbmRleDtcbiAgICBsZXQgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgPSAwO1xuICAgIGZvciAoXG4gICAgICBsZXQgaSA9IGZpcnN0IC0gMTtcbiAgICAgIGkgPj0gMCAmJiBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCA8IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIGktLVxuICAgICkge1xuICAgICAgZmlyc3QtLTtcbiAgICAgIGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkICs9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICBpLFxuICAgICAgICBwcm9wcyxcbiAgICAgICkubGVuZ3RoO1xuICAgIH1cblxuICAgIGxldCBsYXN0ID0gZm9jdXNlZENlbGxJbmRleDtcbiAgICBsZXQgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCA9IDA7XG4gICAgZm9yIChcbiAgICAgIGxldCBpID0gbGFzdCArIDE7XG4gICAgICBpIDwgaXRlbUNvdW50ICYmXG4gICAgICBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkIDwgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgaSsrXG4gICAgKSB7XG4gICAgICBsYXN0Kys7XG4gICAgICBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkICs9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICBpLFxuICAgICAgICBwcm9wcyxcbiAgICAgICkubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBbe2ZpcnN0LCBsYXN0fV07XG4gIH07XG5cbiAgX3VwZGF0ZVZpZXdhYmxlSXRlbXMoXG4gICAgcHJvcHM6IENlbGxNZXRyaWNQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbnkgcGVuZGluZyBzY3JvbGwgdXBkYXRlcyBpdCBtZWFucyB0aGF0IHRoZSBzY3JvbGwgbWV0cmljc1xuICAgIC8vIGFyZSBvdXQgb2YgZGF0ZSBhbmQgd2Ugc2hvdWxkIG5vdCBjYWxsIGFueSBvZiB0aGUgdmlzaWJpbGl0eSBjYWxsYmFja3MuXG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLm9uVXBkYXRlKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpZXdUb2tlbixcbiAgICAgICAgdHVwbGUub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB2ZXJ0aWNhbGx5SW52ZXJ0ZWQ6XG4gICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJ1xuICAgICAgPyB7dHJhbnNmb3JtOiBbe3NjYWxlOiAtMX1dfVxuICAgICAgOiB7dHJhbnNmb3JtOiBbe3NjYWxlWTogLTF9XX0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbiAgZGVidWc6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlCYXNlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lOiB7XG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZUxhc3Q6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUEwQkEsSUFBQUEsWUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksb0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLHNCQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyx1QkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsa0JBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLDRCQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVSx1QkFBQSxHQUFBVixPQUFBO0FBS0EsSUFBQVcscUJBQUEsR0FBQVgsT0FBQTtBQVFBLElBQUFZLGdCQUFBLEdBQUFaLE9BQUE7QUFJQSxJQUFBYSxVQUFBLEdBQUFkLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYyxXQUFBLEdBQUFmLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBZSxLQUFBLEdBQUFDLHVCQUFBLENBQUFoQixPQUFBO0FBQ0EsSUFBQWlCLFlBQUEsR0FBQWpCLE9BQUE7QUFRc0IsSUFBQWtCLFdBQUEsR0FB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