{"version":3,"names":["_getJestObj","mock","View","props","children","ScrollView","StyleSheet","create","jest","fn","styles","Alert","alert","TouchableOpacity","Text","Platform","OS","select","obj","android","default","React","require","createComponent","name","Card","Content","Actions","List","Section","Item","Icon","useTheme","colors","primary","TextInput","Button","Title","Paragraph","FAB","ActivityIndicator","Chip","Modal","getPosts","Promise","resolve","data","status","post_id","title","content","user_id","is_anonymous","like_count","comment_count","created_at","getBestPosts","createPost","message","sendMessage","likePost","useNavigation","mockNavigation","useRoute","params","useIsFocused","MockComfortScreen","createElement","key","_interopRequireDefault","_asyncToGenerator2","_reactNative","_require","spyOn","console","mockImplementation","navigate","goBack","setOptions","describe","comfortWallService","mockHandlePost","mockSendMessage","mockHandleLike","beforeEach","clearAllMocks","_ref","isAnonymous","error","_error$response","response","_x","_x2","_x3","apply","arguments","_ref2","postId","_error$response2","_x4","_x5","_x6","_ref3","_x7","test","_render","render","navigation","queryByText","expect","toBeTruthy","toBe","result","Array","isArray","length","toBeGreaterThan","post","toHaveProperty","postData","toHaveBeenCalledWith","messageData","not","toHaveBeenCalled","mockRejectedValueOnce","initialFormState","mockHandlePostWithState","_ref15","formState","Object","assign","_error$response3","_x8","_x9","_x10","_x11","resultState","toEqual"],"sources":["ComfortScreen.unit.test.tsx"],"sourcesContent":["// root/frontend/__tests__/unit/screens/ComfortScreen.unit.test.tsx\r\nimport React from 'react';\r\nimport { render, fireEvent } from '@testing-library/react-native';\r\n\r\n// 경고 억제\r\njest.spyOn(console, 'error').mockImplementation(() => {});\r\njest.spyOn(console, 'warn').mockImplementation(() => {});\r\n\r\n// React Native 모킹 - 단순화된 방식 사용\r\njest.mock('react-native', () => {\r\n  return {\r\n    View: function View(props) { return props.children; },\r\n    ScrollView: function ScrollView(props) { return props.children; },\r\n    StyleSheet: {\r\n      create: jest.fn(styles => styles),\r\n    },\r\n    Alert: {\r\n      alert: jest.fn(),\r\n    },\r\n    TouchableOpacity: function TouchableOpacity(props) { return props.children; },\r\n    Text: function Text(props) { return props.children; },\r\n    Platform: {\r\n      OS: 'android',\r\n      select: obj => obj.android || obj.default,\r\n    },\r\n  };\r\n});\r\n\r\n// React Native Paper 모킹 - 함수 기반 모킹\r\njest.mock('react-native-paper', () => {\r\n  const React = require('react');\r\n  \r\n  const createComponent = function(name) {\r\n    return function(props) { \r\n      return props.children || null; \r\n    };\r\n  };\r\n  \r\n  const Card = createComponent('Card');\r\n  Card.Content = createComponent('Card.Content');\r\n  Card.Actions = createComponent('Card.Actions');\r\n  \r\n  const List = createComponent('List');\r\n  List.Section = createComponent('List.Section');\r\n  List.Item = createComponent('List.Item');\r\n  List.Icon = createComponent('List.Icon');\r\n  \r\n  return {\r\n    useTheme: () => ({\r\n      colors: {\r\n        primary: '#6200ee',\r\n      },\r\n    }),\r\n    Card,\r\n    TextInput: createComponent('TextInput'),\r\n    Button: createComponent('Button'),\r\n    List,\r\n    Title: createComponent('Title'),\r\n    Paragraph: createComponent('Paragraph'),\r\n    FAB: createComponent('FAB'),\r\n    ActivityIndicator: createComponent('ActivityIndicator'),\r\n    Chip: createComponent('Chip'),\r\n    Modal: createComponent('Modal'),\r\n  };\r\n});\r\n\r\n// comfortWallService 모킹\r\njest.mock('../../../src/services/api/comfortWallService', () => {\r\n  return {\r\n    getPosts: jest.fn(() => Promise.resolve({\r\n      data: {\r\n        status: 'success',\r\n        data: [\r\n          {\r\n            post_id: 1,\r\n            title: '힘든 하루',\r\n            content: '오늘은 정말 힘든 하루였어요.',\r\n            user_id: 1,\r\n            is_anonymous: true,\r\n            like_count: 8,\r\n            comment_count: 5,\r\n            created_at: '2024-04-06T12:00:00.000Z',\r\n          }\r\n        ]\r\n      }\r\n    })),\r\n    getBestPosts: jest.fn(() => Promise.resolve({\r\n      data: {\r\n        status: 'success',\r\n        data: [\r\n          {\r\n            post_id: 3,\r\n            title: '여러분 덕분에 이겨냈어요',\r\n            content: '지난주에 올린 고민, 여러분의 댓글 덕분에 용기를 얻었어요.',\r\n            like_count: 25,\r\n            comment_count: 12,\r\n          }\r\n        ]\r\n      }\r\n    })),\r\n    createPost: jest.fn(() => Promise.resolve({ \r\n      data: { \r\n        status: 'success', \r\n        message: '게시물이 성공적으로 등록되었습니다.' \r\n      } \r\n    })),\r\n    sendMessage: jest.fn(() => Promise.resolve({ \r\n      data: { \r\n        status: 'success', \r\n        message: '메시지가 성공적으로 전송되었습니다.' \r\n      } \r\n    })),\r\n    likePost: jest.fn(() => Promise.resolve({\r\n      data: { message: 'success' }\r\n    })),\r\n  };\r\n});\r\n\r\n// 네비게이션 모킹\r\nconst mockNavigation = {\r\n  navigate: jest.fn(),\r\n  goBack: jest.fn(),\r\n  setOptions: jest.fn(),\r\n};\r\n\r\njest.mock('@react-navigation/native', () => ({\r\n  useNavigation: () => mockNavigation,\r\n  useRoute: () => ({ params: {} }),\r\n  useIsFocused: () => true,\r\n}));\r\n\r\n// ComfortScreen 모킹 - 렌더링 테스트 문제 해결\r\njest.mock('../../../src/screens/ComfortScreen', () => {\r\n  const React = require('react');\r\n  \r\n  return function MockComfortScreen() {\r\n    return React.createElement('View', {}, [\r\n      React.createElement('Text', { key: 'loading-text' }, '게시물을 불러오는 중...')\r\n    ]);\r\n  };\r\n});\r\n\r\ndescribe('ComfortScreen 단위 테스트', () => {\r\n  const comfortWallService = require('../../../src/services/api/comfortWallService');\r\n  let mockHandlePost;\r\n  let mockSendMessage;\r\n  let mockHandleLike;\r\n  \r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    \r\n    // 핸들러 함수 모의 구현\r\n    mockHandlePost = async (title, content, isAnonymous) => {\r\n      if (!title || !content) {\r\n        require('react-native').Alert.alert('알림', '제목과 내용을 모두 입력해주세요.');\r\n        return false;\r\n      }\r\n\r\n      try {\r\n        await comfortWallService.createPost({\r\n          title,\r\n          content,\r\n          is_anonymous: isAnonymous\r\n        });\r\n        \r\n        require('react-native').Alert.alert('성공', '게시물이 등록되었습니다.');\r\n        return true;\r\n      } catch (error) {\r\n        require('react-native').Alert.alert(\r\n          '오류',\r\n          error.response?.data?.message || '게시물 등록 중 오류가 발생했습니다.'\r\n        );\r\n        return false;\r\n      }\r\n    };\r\n    \r\n    mockSendMessage = async (postId, message, isAnonymous) => {\r\n      if (!message) {\r\n        require('react-native').Alert.alert('알림', '메시지 내용을 입력해주세요.');\r\n        return false;\r\n      }\r\n\r\n      try {\r\n        await comfortWallService.sendMessage(postId, {\r\n          message,\r\n          is_anonymous: isAnonymous\r\n        });\r\n        \r\n        require('react-native').Alert.alert('성공', '메시지가 전송되었습니다.');\r\n        return true;\r\n      } catch (error) {\r\n        require('react-native').Alert.alert(\r\n          '오류',\r\n          error.response?.data?.message || '메시지 전송 중 오류가 발생했습니다.'\r\n        );\r\n        return false;\r\n      }\r\n    };\r\n    \r\n    mockHandleLike = async (postId) => {\r\n      try {\r\n        await comfortWallService.likePost(postId);\r\n        await comfortWallService.getPosts(); // 게시물 새로고침\r\n        return true;\r\n      } catch (error) {\r\n        require('react-native').Alert.alert('오류', '좋아요 처리 중 오류가 발생했습니다.');\r\n        return false;\r\n      }\r\n    };\r\n  });\r\n\r\n  // 렌더링 테스트 간소화\r\n  test('화면 렌더링 확인', () => {\r\n    const { queryByText } = render(require('../../../src/screens/ComfortScreen').default({ navigation: mockNavigation }));\r\n    expect(queryByText('게시물을 불러오는 중...')).toBeTruthy();\r\n  });\r\n\r\n  test('API 서비스 함수 호출 확인', () => {\r\n    // getPosts 함수 확인\r\n    expect(typeof comfortWallService.getPosts).toBe('function');\r\n    \r\n    // getBestPosts 함수 확인\r\n    expect(typeof comfortWallService.getBestPosts).toBe('function');\r\n    \r\n    // createPost 함수 확인\r\n    expect(typeof comfortWallService.createPost).toBe('function');\r\n    \r\n    // sendMessage 함수 확인\r\n    expect(typeof comfortWallService.sendMessage).toBe('function');\r\n  });\r\n\r\n  test('getPosts API가 올바른 데이터 구조 반환', async () => {\r\n    const result = await comfortWallService.getPosts();\r\n    expect(result.data.status).toBe('success');\r\n    expect(Array.isArray(result.data.data)).toBe(true);\r\n    expect(result.data.data.length).toBeGreaterThan(0);\r\n    \r\n    const post = result.data.data[0];\r\n    expect(post).toHaveProperty('post_id');\r\n    expect(post).toHaveProperty('title');\r\n    expect(post).toHaveProperty('content');\r\n  });\r\n\r\n  test('getBestPosts API가 올바른 데이터 구조 반환', async () => {\r\n    const result = await comfortWallService.getBestPosts();\r\n    expect(result.data.status).toBe('success');\r\n    expect(Array.isArray(result.data.data)).toBe(true);\r\n    \r\n    if (result.data.data.length > 0) {\r\n      const post = result.data.data[0];\r\n      expect(post).toHaveProperty('post_id');\r\n      expect(post).toHaveProperty('title');\r\n      expect(post).toHaveProperty('content');\r\n    }\r\n  });\r\n\r\n  test('createPost 함수 호출 테스트', async () => {\r\n    const postData = {\r\n      title: '테스트 제목',\r\n      content: '테스트 내용',\r\n      is_anonymous: true\r\n    };\r\n    \r\n    await comfortWallService.createPost(postData);\r\n    expect(comfortWallService.createPost).toHaveBeenCalledWith(postData);\r\n  });\r\n\r\n  test('sendMessage 함수 호출 테스트', async () => {\r\n    const postId = 1;\r\n    const messageData = {\r\n      message: '응원 메시지',\r\n      is_anonymous: true\r\n    };\r\n    \r\n    await comfortWallService.sendMessage(postId, messageData);\r\n    expect(comfortWallService.sendMessage).toHaveBeenCalledWith(postId, messageData);\r\n  });\r\n\r\n  // 1. 게시물 작성 시 유효성 검사 테스트\r\n  test('handlePost 함수는 빈 필드를 검증해야 함', async () => {\r\n    // 빈 필드로 호출\r\n    await mockHandlePost('', '', true);\r\n    \r\n    // Alert가 올바른 메시지로 호출됐는지 확인\r\n    const Alert = require('react-native').Alert;\r\n    expect(Alert.alert).toHaveBeenCalledWith('알림', '제목과 내용을 모두 입력해주세요.');\r\n    \r\n    // API 호출이 발생하지 않았는지 확인\r\n    expect(comfortWallService.createPost).not.toHaveBeenCalled();\r\n  });\r\n\r\n  // 2. 유효한 데이터로 게시물 생성 테스트\r\n  test('handlePost 함수는 유효한 데이터로 API를 호출해야 함', async () => {\r\n    // 유효한 데이터로 호출\r\n    await mockHandlePost('테스트 제목', '테스트 내용', true);\r\n    \r\n    // API가 올바른 데이터로 호출됐는지 확인\r\n    expect(comfortWallService.createPost).toHaveBeenCalledWith({\r\n      title: '테스트 제목',\r\n      content: '테스트 내용',\r\n      is_anonymous: true\r\n    });\r\n    \r\n    // 성공 알림이 표시됐는지 확인\r\n    const Alert = require('react-native').Alert;\r\n    expect(Alert.alert).toHaveBeenCalledWith('성공', '게시물이 등록되었습니다.');\r\n  });\r\n\r\n  // 3. API 오류 처리 테스트\r\n  test('handlePost 함수는 API 오류를 처리해야 함', async () => {\r\n    // API 오류 시뮬레이션\r\n    (comfortWallService.createPost).mockRejectedValueOnce({\r\n      response: { data: { message: '서버 오류가 발생했습니다.' } }\r\n    });\r\n    \r\n    // 함수 호출\r\n    await mockHandlePost('테스트 제목', '테스트 내용', true);\r\n    \r\n    // 오류 알림이 표시됐는지 확인\r\n    const Alert = require('react-native').Alert;\r\n    expect(Alert.alert).toHaveBeenCalledWith('오류', '서버 오류가 발생했습니다.');\r\n  });\r\n\r\n  // 4. 좋아요 기능 테스트\r\n  test('handleLike 함수는 API를 호출하고 게시물을 새로고침해야 함', async () => {\r\n    // 함수 호출\r\n    await mockHandleLike(1);\r\n    \r\n    // API가 올바른 데이터로 호출됐는지 확인\r\n    expect(comfortWallService.likePost).toHaveBeenCalledWith(1);\r\n    \r\n    // 게시물 목록이 새로고침됐는지 확인\r\n    expect(comfortWallService.getPosts).toHaveBeenCalled();\r\n  });\r\n\r\n  // 5. 메시지 전송 테스트\r\n  test('sendMessage 함수는 유효한 데이터로 API를 호출해야 함', async () => {\r\n    // 유효한 데이터로 호출\r\n    await mockSendMessage(1, '힘내세요! 응원합니다.', true);\r\n    \r\n    // API가 올바른 데이터로 호출됐는지 확인\r\n    expect(comfortWallService.sendMessage).toHaveBeenCalledWith(1, {\r\n      message: '힘내세요! 응원합니다.',\r\n      is_anonymous: true\r\n    });\r\n    \r\n    // 성공 알림이 표시됐는지 확인\r\n    const Alert = require('react-native').Alert;\r\n    expect(Alert.alert).toHaveBeenCalledWith('성공', '메시지가 전송되었습니다.');\r\n  });\r\n\r\n  // 6. 빈 메시지 검증 테스트\r\n  test('sendMessage 함수는 빈 메시지를 검증해야 함', async () => {\r\n    // 빈 메시지로 호출\r\n    await mockSendMessage(1, '', true);\r\n    \r\n    // Alert가 올바른 메시지로 호출됐는지 확인\r\n    const Alert = require('react-native').Alert;\r\n    expect(Alert.alert).toHaveBeenCalledWith('알림', '메시지 내용을 입력해주세요.');\r\n    \r\n    // API 호출이 발생하지 않았는지 확인\r\n    expect(comfortWallService.sendMessage).not.toHaveBeenCalled();\r\n  });\r\n\r\n  // 7. 발생 가능한 API 오류 시 폼 입력 유지 테스트\r\n  test('API 오류 발생 시 폼 입력이 유지되어야 함', async () => {\r\n    // API 오류 시뮬레이션\r\n    (comfortWallService.createPost).mockRejectedValueOnce({\r\n      response: { data: { message: '서버 오류가 발생했습니다.' } }\r\n    });\r\n    \r\n    // 테스트 폼 상태\r\n    const initialFormState = { title: '테스트 제목', content: '테스트 내용' };\r\n    \r\n    // 모의 handlePost 호출 - 상태 관리 기능 포함\r\n    const mockHandlePostWithState = async (title, content, isAnonymous, formState) => {\r\n      if (!title || !content) {\r\n        require('react-native').Alert.alert('알림', '제목과 내용을 모두 입력해주세요.');\r\n        return { ...formState };\r\n      }\r\n\r\n      try {\r\n        await comfortWallService.createPost({\r\n          title,\r\n          content,\r\n          is_anonymous: isAnonymous\r\n        });\r\n        \r\n        require('react-native').Alert.alert('성공', '게시물이 등록되었습니다.');\r\n        // 성공 시 폼 초기화\r\n        return { title: '', content: '' };\r\n      } catch (error) {\r\n        require('react-native').Alert.alert(\r\n          '오류',\r\n          error.response?.data?.message || '게시물 등록 중 오류가 발생했습니다.'\r\n        );\r\n        // 오류 시 폼 상태 유지\r\n        return { ...formState };\r\n      }\r\n    };\r\n    \r\n    // 함수 호출\r\n    const resultState = await mockHandlePostWithState(\r\n      initialFormState.title,\r\n      initialFormState.content,\r\n      true,\r\n      initialFormState\r\n    );\r\n    \r\n    // 오류 발생 시 폼 상태가 유지되는지 확인\r\n    expect(resultState).toEqual(initialFormState);\r\n    \r\n    // 오류 알림이 표시됐는지 확인\r\n    const Alert = require('react-native').Alert;\r\n    expect(Alert.alert).toHaveBeenCalledWith('오류', '서버 오류가 발생했습니다.');\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}