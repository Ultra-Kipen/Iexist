{"version":3,"names":["_axios","_interopRequireDefault","require","_asyncStorage","cov_h09er1to1","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","BASE_URL","apiClient","axios","create","baseURL","headers","timeout","refreshAuthToken","_ref","_asyncToGenerator2","default","refreshToken","AsyncStorage","getItem","response","post","data","token","setItem","error","console","apply","arguments","interceptors","request","use","_ref2","config","_x","Promise","reject","_ref3","originalRequest","status","_retry","newToken","removeItem","refreshError","_retryCount","delayMs","Math","pow","resolve","setTimeout","then","catch","_x2","_default","exports"],"sources":["client.ts"],"sourcesContent":["// src/services/api/client.ts\r\n\r\nimport axios, { AxiosError, AxiosRequestConfig } from 'axios';\r\nimport { Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n// API 서버의 기본 URL 설정\r\nconst BASE_URL = 'http://10.0.2.2:3000/api'; // 안드로이드 에뮬레이터용\r\n\r\n// Axios 인스턴스 생성\r\nconst apiClient = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 10000, // 10초 타임아웃 설정\r\n});\r\n\r\n// 토큰 갱신 함수 - 정확한 오류 메시지를 위해 분리 유지\r\nconst refreshAuthToken = async (): Promise<string | null> => {\r\n  try {\r\n    const refreshToken = await AsyncStorage.getItem('refresh_token');\r\n    \r\n    if (!refreshToken) {\r\n      return null;\r\n    }\r\n    \r\n    const response = await axios.post(`${BASE_URL}/auth/refresh`, {\r\n      refreshToken,\r\n    });\r\n    \r\n    if (response.data && response.data.token) {\r\n      await AsyncStorage.setItem('auth_token', response.data.token);\r\n      return response.data.token;\r\n    }\r\n    \r\n    return null;\r\n  } catch (error) {\r\n    // 메시지를 테스트와 정확히 일치시킴\r\n    console.error('토큰 갱신 오류:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// 요청 인터셉터 설정 (인증 토큰 추가)\r\napiClient.interceptors.request.use(\r\n  async (config) => {\r\n    try {\r\n      const token = await AsyncStorage.getItem('auth_token');\r\n      if (token) {\r\n        config.headers = config.headers || {};\r\n        config.headers['Authorization'] = `Bearer ${token}`;\r\n      }\r\n    } catch (error) {\r\n      // 테스트와 일치하는 메시지 사용\r\n      console.error('토큰 가져오기 오류:', error);\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    // 테스트와 일치하는 메시지 사용\r\n    console.error('API 요청 오류:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 응답 인터셉터 설정 (토큰 만료 처리 등)\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  async (error: AxiosError) => {\r\n    const originalRequest = error.config as AxiosRequestConfig & { \r\n      _retry?: boolean;\r\n      _retryCount?: number;\r\n    };\r\n    \r\n    // 401 에러(인증 실패) 및 재시도 안된 요청\r\n    if (error.response && error.response.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n      \r\n      try {\r\n        // 토큰 갱신 시도\r\n        const newToken = await refreshAuthToken();\r\n        \r\n        if (newToken) {\r\n          // 새 토큰으로 요청 헤더 업데이트\r\n          originalRequest.headers = originalRequest.headers || {};\r\n          originalRequest.headers['Authorization'] = `Bearer ${newToken}`;\r\n          \r\n          // 원래 요청 재시도\r\n          return axios(originalRequest);\r\n        } else {\r\n          // 토큰 갱신 실패 - 로그아웃 처리\r\n          await AsyncStorage.removeItem('auth_token');\r\n          await AsyncStorage.removeItem('refresh_token');\r\n          await AsyncStorage.removeItem('user');\r\n          \r\n          return Promise.reject(error);\r\n        }\r\n      } catch (refreshError) {\r\n        // 테스트와 일치하는 메시지 사용\r\n        console.error('토큰 갱신 오류:', refreshError);\r\n        await AsyncStorage.removeItem('auth_token');\r\n        await AsyncStorage.removeItem('refresh_token');\r\n        await AsyncStorage.removeItem('user');\r\n        return Promise.reject(error); // 원본 오류 반환\r\n      }\r\n    }\r\n    \r\n    // 네트워크 오류 처리 (타임아웃, 연결 거부 등)\r\n    if (!error.response) {\r\n      // 자동 재시도 로직 (최대 3번)\r\n      if (!originalRequest._retryCount || originalRequest._retryCount < 3) {\r\n        originalRequest._retryCount = (originalRequest._retryCount || 0) + 1;\r\n        \r\n        // 지수 백오프 적용 (1초, 2초, 4초)\r\n        const delayMs = 1000 * Math.pow(2, (originalRequest._retryCount - 1));\r\n        \r\n        return new Promise((resolve, reject) => {\r\n          setTimeout(() => {\r\n            apiClient(originalRequest)\r\n              .then(resolve)\r\n              .catch(reject);\r\n          }, delayMs);\r\n        });\r\n      }\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;"],"mappings":";;;;;;AAEA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAqE,SAAAE,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC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","ignoreList":[]}