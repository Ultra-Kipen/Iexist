ecd321ba4357ea8143f3b4a5a782e1d2
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.customDirectEventTypes = exports.customBubblingEventTypes = void 0;
exports.get = get;
exports.register = register;
var _invariant = _interopRequireDefault(require("invariant"));
var customBubblingEventTypes = exports.customBubblingEventTypes = {};
var customDirectEventTypes = exports.customDirectEventTypes = {};
var viewConfigCallbacks = new Map();
var viewConfigs = new Map();
function processEventTypes(viewConfig) {
  var bubblingEventTypes = viewConfig.bubblingEventTypes,
    directEventTypes = viewConfig.directEventTypes;
  if (true) {
    if (bubblingEventTypes != null && directEventTypes != null) {
      for (var topLevelType in directEventTypes) {
        (0, _invariant.default)(bubblingEventTypes[topLevelType] == null, 'Event cannot be both direct and bubbling: %s', topLevelType);
      }
    }
  }
  if (bubblingEventTypes != null) {
    for (var _topLevelType in bubblingEventTypes) {
      if (customBubblingEventTypes[_topLevelType] == null) {
        customBubblingEventTypes[_topLevelType] = bubblingEventTypes[_topLevelType];
      }
    }
  }
  if (directEventTypes != null) {
    for (var _topLevelType2 in directEventTypes) {
      if (customDirectEventTypes[_topLevelType2] == null) {
        customDirectEventTypes[_topLevelType2] = directEventTypes[_topLevelType2];
      }
    }
  }
}
function register(name, callback) {
  (0, _invariant.default)(!viewConfigCallbacks.has(name), 'Tried to register two views with the same name %s', name);
  (0, _invariant.default)(typeof callback === 'function', 'View config getter callback for component `%s` must be a function (received `%s`)', name, callback === null ? 'null' : typeof callback);
  viewConfigCallbacks.set(name, callback);
  return name;
}
function get(name) {
  var viewConfig = viewConfigs.get(name);
  if (viewConfig == null) {
    var callback = viewConfigCallbacks.get(name);
    if (typeof callback !== 'function') {
      (0, _invariant.default)(false, 'View config getter callback for component `%s` must be a function (received `%s`).%s', name, callback === null ? 'null' : typeof callback, typeof name[0] === 'string' && /[a-z]/.test(name[0]) ? ' Make sure to start component names with a capital letter.' : '');
    }
    viewConfig = callback();
    (0, _invariant.default)(viewConfig, 'View config not found for component `%s`', name);
    processEventTypes(viewConfig);
    viewConfigs.set(name, viewConfig);
    viewConfigCallbacks.set(name, null);
  }
  return viewConfig;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY3VzdG9tRGlyZWN0RXZlbnRUeXBlcyIsImN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlcyIsImdldCIsInJlZ2lzdGVyIiwiX2ludmFyaWFudCIsInZpZXdDb25maWdDYWxsYmFja3MiLCJNYXAiLCJ2aWV3Q29uZmlncyIsInByb2Nlc3NFdmVudFR5cGVzIiwidmlld0NvbmZpZyIsImJ1YmJsaW5nRXZlbnRUeXBlcyIsImRpcmVjdEV2ZW50VHlwZXMiLCJ0b3BMZXZlbFR5cGUiLCJpbnZhcmlhbnQiLCJuYW1lIiwiY2FsbGJhY2siLCJoYXMiLCJzZXQiLCJ0ZXN0Il0sInNvdXJjZXMiOlsiUmVhY3ROYXRpdmVWaWV3Q29uZmlnUmVnaXN0cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBub2Zvcm1hdFxuICogQG5vbGludFxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKiBAZ2VuZXJhdGVkIFNpZ25lZFNvdXJjZTw8ODMwNzM0MjVhYTNmNzFjZWQyYzhjNTFmMjVhMjU5Mzg+PlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHt0eXBlIFZpZXdDb25maWd9IGZyb20gJy4vUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5cbi8vIEV2ZW50IGNvbmZpZ3NcbmV4cG9ydCBjb25zdCBjdXN0b21CdWJibGluZ0V2ZW50VHlwZXM6IHtcbiAgW2V2ZW50TmFtZTogc3RyaW5nXTogJFJlYWRPbmx5PHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczogJFJlYWRPbmx5PHtcbiAgICAgIGNhcHR1cmVkOiBzdHJpbmcsXG4gICAgICBidWJibGVkOiBzdHJpbmcsXG4gICAgICBza2lwQnViYmxpbmc/OiA/Ym9vbGVhbixcbiAgICB9PixcbiAgfT4sXG59ID0ge307XG5leHBvcnQgY29uc3QgY3VzdG9tRGlyZWN0RXZlbnRUeXBlczoge1xuICBbZXZlbnROYW1lOiBzdHJpbmddOiAkUmVhZE9ubHk8e1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IHN0cmluZyxcbiAgfT4sXG59ID0ge307XG5cbmNvbnN0IHZpZXdDb25maWdDYWxsYmFja3MgPSBuZXcgTWFwPHN0cmluZywgPygpID0+IFZpZXdDb25maWc+KCk7XG5jb25zdCB2aWV3Q29uZmlncyA9IG5ldyBNYXA8c3RyaW5nLCBWaWV3Q29uZmlnPigpO1xuXG5mdW5jdGlvbiBwcm9jZXNzRXZlbnRUeXBlcyh2aWV3Q29uZmlnOiBWaWV3Q29uZmlnKTogdm9pZCB7XG4gIGNvbnN0IHtidWJibGluZ0V2ZW50VHlwZXMsIGRpcmVjdEV2ZW50VHlwZXN9ID0gdmlld0NvbmZpZztcblxuICBpZiAoX19ERVZfXykge1xuICAgIGlmIChidWJibGluZ0V2ZW50VHlwZXMgIT0gbnVsbCAmJiBkaXJlY3RFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgdG9wTGV2ZWxUeXBlIGluIGRpcmVjdEV2ZW50VHlwZXMpIHtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGJ1YmJsaW5nRXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID09IG51bGwsXG4gICAgICAgICAgJ0V2ZW50IGNhbm5vdCBiZSBib3RoIGRpcmVjdCBhbmQgYnViYmxpbmc6ICVzJyxcbiAgICAgICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGJ1YmJsaW5nRXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgZm9yIChjb25zdCB0b3BMZXZlbFR5cGUgaW4gYnViYmxpbmdFdmVudFR5cGVzKSB7XG4gICAgICBpZiAoY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPT0gbnVsbCkge1xuICAgICAgICBjdXN0b21CdWJibGluZ0V2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9XG4gICAgICAgICAgYnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcmVjdEV2ZW50VHlwZXMgIT0gbnVsbCkge1xuICAgIGZvciAoY29uc3QgdG9wTGV2ZWxUeXBlIGluIGRpcmVjdEV2ZW50VHlwZXMpIHtcbiAgICAgIGlmIChjdXN0b21EaXJlY3RFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPT0gbnVsbCkge1xuICAgICAgICBjdXN0b21EaXJlY3RFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPSBkaXJlY3RFdmVudFR5cGVzW3RvcExldmVsVHlwZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbmF0aXZlIHZpZXcvY29tcG9uZW50IGJ5IG5hbWUuXG4gKiBBIGNhbGxiYWNrIGlzIHByb3ZpZGVkIHRvIGxvYWQgdGhlIHZpZXcgY29uZmlnIGZyb20gVUlNYW5hZ2VyLlxuICogVGhlIGNhbGxiYWNrIGlzIGRlZmVycmVkIHVudGlsIHRoZSB2aWV3IGlzIGFjdHVhbGx5IHJlbmRlcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZTogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gVmlld0NvbmZpZyk6IHN0cmluZyB7XG4gIGludmFyaWFudChcbiAgICAhdmlld0NvbmZpZ0NhbGxiYWNrcy5oYXMobmFtZSksXG4gICAgJ1RyaWVkIHRvIHJlZ2lzdGVyIHR3byB2aWV3cyB3aXRoIHRoZSBzYW1lIG5hbWUgJXMnLFxuICAgIG5hbWUsXG4gICk7XG4gIGludmFyaWFudChcbiAgICB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsXG4gICAgJ1ZpZXcgY29uZmlnIGdldHRlciBjYWxsYmFjayBmb3IgY29tcG9uZW50IGAlc2AgbXVzdCBiZSBhIGZ1bmN0aW9uIChyZWNlaXZlZCBgJXNgKScsXG4gICAgbmFtZSxcbiAgICBjYWxsYmFjayA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBjYWxsYmFjayxcbiAgKTtcbiAgdmlld0NvbmZpZ0NhbGxiYWNrcy5zZXQobmFtZSwgY2FsbGJhY2spO1xuICByZXR1cm4gbmFtZTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBjb25maWcgZm9yIHRoZSBzcGVjaWZpZWQgdmlldy5cbiAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgdGhlIHZpZXcgaGFzIGJlZW4gdXNlZCxcbiAqIFRoaXMgY29uZmlndXJhdGlvbiB3aWxsIGJlIGxhenktbG9hZGVkIGZyb20gVUlNYW5hZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG5hbWU6IHN0cmluZyk6IFZpZXdDb25maWcge1xuICBsZXQgdmlld0NvbmZpZyA9IHZpZXdDb25maWdzLmdldChuYW1lKTtcbiAgaWYgKHZpZXdDb25maWcgPT0gbnVsbCkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gdmlld0NvbmZpZ0NhbGxiYWNrcy5nZXQobmFtZSk7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgJ1ZpZXcgY29uZmlnIGdldHRlciBjYWxsYmFjayBmb3IgY29tcG9uZW50IGAlc2AgbXVzdCBiZSBhIGZ1bmN0aW9uIChyZWNlaXZlZCBgJXNgKS4lcycsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGNhbGxiYWNrID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGNhbGxiYWNrLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3JlY3Vyc2l2ZS1kZWZpbml0aW9uXVxuICAgICAgICB0eXBlb2YgbmFtZVswXSA9PT0gJ3N0cmluZycgJiYgL1thLXpdLy50ZXN0KG5hbWVbMF0pXG4gICAgICAgICAgPyAnIE1ha2Ugc3VyZSB0byBzdGFydCBjb21wb25lbnQgbmFtZXMgd2l0aCBhIGNhcGl0YWwgbGV0dGVyLidcbiAgICAgICAgICA6ICcnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdmlld0NvbmZpZyA9IGNhbGxiYWNrKCk7XG4gICAgaW52YXJpYW50KHZpZXdDb25maWcsICdWaWV3IGNvbmZpZyBub3QgZm91bmQgZm9yIGNvbXBvbmVudCBgJXNgJywgbmFtZSk7XG5cbiAgICBwcm9jZXNzRXZlbnRUeXBlcyh2aWV3Q29uZmlnKTtcbiAgICB2aWV3Q29uZmlncy5zZXQobmFtZSwgdmlld0NvbmZpZyk7XG5cbiAgICAvLyBDbGVhciB0aGUgY2FsbGJhY2sgYWZ0ZXIgdGhlIGNvbmZpZyBpcyBzZXQgc28gdGhhdFxuICAgIC8vIHdlIGRvbid0IG1hc2sgYW55IGVycm9ycyBkdXJpbmcgcmVnaXN0cmF0aW9uLlxuICAgIHZpZXdDb25maWdDYWxsYmFja3Muc2V0KG5hbWUsIG51bGwpO1xuICB9XG4gIHJldHVybiB2aWV3Q29uZmlnO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFZQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsc0JBQUEsR0FBQUYsT0FBQSxDQUFBRyx3QkFBQTtBQUFBSCxPQUFBLENBQUFJLEdBQUEsR0FBQUEsR0FBQTtBQUFBSixPQUFBLENBQUFLLFFBQUEsR0FBQUEsUUFBQTtBQUdiLElBQUFDLFVBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUdPLElBQU1NLHdCQVFaLEdBQUFILE9BQUEsQ0FBQUcsd0JBQUEsR0FBRyxDQUFDLENBQUM7QUFDQyxJQUFNRCxzQkFJWixHQUFBRixPQUFB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