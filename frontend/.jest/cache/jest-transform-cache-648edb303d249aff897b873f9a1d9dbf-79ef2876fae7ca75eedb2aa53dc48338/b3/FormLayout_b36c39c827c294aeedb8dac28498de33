8ba162fca626dff272ca0d5ffae35a64
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("react-native");
var _useTheme2 = require("../hooks/useTheme");
var _LoadingIndicator = _interopRequireDefault(require("../components/LoadingIndicator"));
var _jsxRuntime = require("react/jsx-runtime");
var FormLayout = function FormLayout(_ref) {
  var children = _ref.children,
    _ref$loading = _ref.loading,
    loading = _ref$loading === void 0 ? false : _ref$loading,
    style = _ref.style,
    contentContainerStyle = _ref.contentContainerStyle,
    header = _ref.header,
    footer = _ref.footer,
    onSubmit = _ref.onSubmit,
    _ref$avoidKeyboard = _ref.avoidKeyboard,
    avoidKeyboard = _ref$avoidKeyboard === void 0 ? true : _ref$avoidKeyboard;
  var _useTheme = (0, _useTheme2.useTheme)(),
    theme = _useTheme.theme;
  var content = (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: [header && (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: styles.headerContainer,
      children: header
    }), (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: [styles.formContainer, contentContainerStyle],
      children: loading ? (0, _jsxRuntime.jsx)(_LoadingIndicator.default, {}) : children
    }), footer && (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: styles.footerContainer,
      children: footer
    })]
  });
  if (avoidKeyboard) {
    return (0, _jsxRuntime.jsx)(_reactNative.KeyboardAvoidingView, {
      style: [styles.container, {
        backgroundColor: theme.colors.background
      }, style],
      behavior: _reactNative.Platform.OS === 'ios' ? 'padding' : 'height',
      keyboardVerticalOffset: _reactNative.Platform.OS === 'ios' ? 64 : 0,
      children: (0, _jsxRuntime.jsx)(_reactNative.TouchableWithoutFeedback, {
        onPress: _reactNative.Keyboard.dismiss,
        children: (0, _jsxRuntime.jsx)(_reactNative.ScrollView, {
          contentContainerStyle: styles.scrollViewContent,
          keyboardShouldPersistTaps: "handled",
          showsVerticalScrollIndicator: false,
          children: content
        })
      })
    });
  }
  return (0, _jsxRuntime.jsx)(_reactNative.View, {
    style: [styles.container, {
      backgroundColor: theme.colors.background
    }, style],
    children: (0, _jsxRuntime.jsx)(_reactNative.ScrollView, {
      contentContainerStyle: styles.scrollViewContent,
      keyboardShouldPersistTaps: "handled",
      showsVerticalScrollIndicator: false,
      children: content
    })
  });
};
var styles = _reactNative.StyleSheet.create({
  container: {
    flex: 1
  },
  scrollViewContent: {
    flexGrow: 1,
    paddingBottom: 20
  },
  headerContainer: {
    width: '100%',
    marginBottom: 20
  },
  formContainer: {
    flex: 1,
    padding: 16
  },
  footerContainer: {
    width: '100%',
    padding: 16,
    paddingBottom: _reactNative.Platform.OS === 'ios' ? 20 : 16
  }
});
var _default = exports.default = FormLayout;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl91c2VUaGVtZTIiLCJfTG9hZGluZ0luZGljYXRvciIsIl9qc3hSdW50aW1lIiwiRm9ybUxheW91dCIsIl9yZWYiLCJjaGlsZHJlbiIsIl9yZWYkbG9hZGluZyIsImxvYWRpbmciLCJzdHlsZSIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsImhlYWRlciIsImZvb3RlciIsIm9uU3VibWl0IiwiX3JlZiRhdm9pZEtleWJvYXJkIiwiYXZvaWRLZXlib2FyZCIsIl91c2VUaGVtZSIsInVzZVRoZW1lIiwidGhlbWUiLCJjb250ZW50IiwianN4cyIsIkZyYWdtZW50IiwianN4IiwiVmlldyIsInN0eWxlcyIsImhlYWRlckNvbnRhaW5lciIsImZvcm1Db250YWluZXIiLCJkZWZhdWx0IiwiZm9vdGVyQ29udGFpbmVyIiwiS2V5Ym9hcmRBdm9pZGluZ1ZpZXciLCJjb250YWluZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvcnMiLCJiYWNrZ3JvdW5kIiwiYmVoYXZpb3IiLCJQbGF0Zm9ybSIsIk9TIiwia2V5Ym9hcmRWZXJ0aWNhbE9mZnNldCIsIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayIsIm9uUHJlc3MiLCJLZXlib2FyZCIsImRpc21pc3MiLCJTY3JvbGxWaWV3Iiwic2Nyb2xsVmlld0NvbnRlbnQiLCJrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIiwic2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvciIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJmbGV4IiwiZmxleEdyb3ciLCJwYWRkaW5nQm90dG9tIiwid2lkdGgiLCJtYXJnaW5Cb3R0b20iLCJwYWRkaW5nIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiRm9ybUxheW91dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGF5b3V0cy9Gb3JtTGF5b3V0LnRzeFxyXG4vLyDtj7zsnYQg7JyE7ZWcIOugiOydtOyVhOybgyDsu7Ttj6zrhIztirhcclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7XHJcbiAgVmlldyxcclxuICBTdHlsZVNoZWV0LFxyXG4gIFNjcm9sbFZpZXcsXHJcbiAgS2V5Ym9hcmRBdm9pZGluZ1ZpZXcsXHJcbiAgUGxhdGZvcm0sXHJcbiAgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrLFxyXG4gIEtleWJvYXJkLFxyXG4gIFN0eWxlUHJvcCxcclxuICBWaWV3U3R5bGUsXHJcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tICcuLi9ob29rcy91c2VUaGVtZSc7XHJcbmltcG9ydCBMb2FkaW5nSW5kaWNhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvTG9hZGluZ0luZGljYXRvcic7XHJcblxyXG5pbnRlcmZhY2UgRm9ybUxheW91dFByb3BzIHtcclxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xyXG4gIGxvYWRpbmc/OiBib29sZWFuO1xyXG4gIHN0eWxlPzogU3R5bGVQcm9wPFZpZXdTdHlsZT47XHJcbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogU3R5bGVQcm9wPFZpZXdTdHlsZT47XHJcbiAgaGVhZGVyPzogUmVhY3QuUmVhY3ROb2RlO1xyXG4gIGZvb3Rlcj86IFJlYWN0LlJlYWN0Tm9kZTtcclxuICBvblN1Ym1pdD86ICgpID0+IHZvaWQ7XHJcbiAgYXZvaWRLZXlib2FyZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IEZvcm1MYXlvdXQ6IFJlYWN0LkZDPEZvcm1MYXlvdXRQcm9wcz4gPSAoe1xyXG4gIGNoaWxkcmVuLFxyXG4gIGxvYWRpbmcgPSBmYWxzZSxcclxuICBzdHlsZSxcclxuICBjb250ZW50Q29udGFpbmVyU3R5bGUsXHJcbiAgaGVhZGVyLFxyXG4gIGZvb3RlcixcclxuICBvblN1Ym1pdCxcclxuICBhdm9pZEtleWJvYXJkID0gdHJ1ZSxcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgdGhlbWUgfSA9IHVzZVRoZW1lKCk7XHJcbiAgXHJcbiAgY29uc3QgY29udGVudCA9IChcclxuICAgIDw+XHJcbiAgICAgIHsvKiDtl6TrjZQg7JiB7JetICovfVxyXG4gICAgICB7aGVhZGVyICYmIDxWaWV3IHN0eWxlPXtzdHlsZXMuaGVhZGVyQ29udGFpbmVyfT57aGVhZGVyfTwvVmlldz59XHJcbiAgICAgIFxyXG4gICAgICB7Lyog7Y+8IOy9mO2FkOy4oCAqL31cclxuICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuZm9ybUNvbnRhaW5lciwgY29udGVudENvbnRhaW5lclN0eWxlXX0+XHJcbiAgICAgICAge2xvYWRpbmcgPyA8TG9hZGluZ0luZGljYXRvciAvPiA6IGNoaWxkcmVufVxyXG4gICAgICA8L1ZpZXc+XHJcbiAgICAgIFxyXG4gICAgICB7Lyog7ZG47YSwIOyYgeyXrSAo7KO866GcIOygnOy2nCDrsoTtirwpICovfVxyXG4gICAgICB7Zm9vdGVyICYmIChcclxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmZvb3RlckNvbnRhaW5lcn0+XHJcbiAgICAgICAgICB7Zm9vdGVyfVxyXG4gICAgICAgIDwvVmlldz5cclxuICAgICAgKX1cclxuICAgIDwvPlxyXG4gICk7XHJcbiAgXHJcbiAgLy8g7YKk67O065OcIO2ajO2UvCDtmZzshLHtmZQg7Jes67aA7JeQIOuUsOudvCDri6Trpbgg7Lu07Y+s64SM7Yq4IOuwmO2ZmFxyXG4gIGlmIChhdm9pZEtleWJvYXJkKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8S2V5Ym9hcmRBdm9pZGluZ1ZpZXdcclxuICAgICAgICBzdHlsZT17W1xyXG4gICAgICAgICAgc3R5bGVzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHsgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5jb2xvcnMuYmFja2dyb3VuZCB9LFxyXG4gICAgICAgICAgc3R5bGUsXHJcbiAgICAgICAgXX1cclxuICAgICAgICBiZWhhdmlvcj17UGxhdGZvcm0uT1MgPT09ICdpb3MnID8gJ3BhZGRpbmcnIDogJ2hlaWdodCd9XHJcbiAgICAgICAga2V5Ym9hcmRWZXJ0aWNhbE9mZnNldD17UGxhdGZvcm0uT1MgPT09ICdpb3MnID8gNjQgOiAwfVxyXG4gICAgICA+XHJcbiAgICAgICAgPFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayBvblByZXNzPXtLZXlib2FyZC5kaXNtaXNzfT5cclxuICAgICAgICAgIDxTY3JvbGxWaWV3XHJcbiAgICAgICAgICAgIGNvbnRlbnRDb250YWluZXJTdHlsZT17c3R5bGVzLnNjcm9sbFZpZXdDb250ZW50fVxyXG4gICAgICAgICAgICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPVwiaGFuZGxlZFwiXHJcbiAgICAgICAgICAgIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I9e2ZhbHNlfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7Y29udGVudH1cclxuICAgICAgICAgIDwvU2Nyb2xsVmlldz5cclxuICAgICAgICA8L1RvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaz5cclxuICAgICAgPC9LZXlib2FyZEF2b2lkaW5nVmlldz5cclxuICAgICk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiAoXHJcbiAgICA8Vmlld1xyXG4gICAgICBzdHlsZT17W1xyXG4gICAgICAgIHN0eWxlcy5jb250YWluZXIsXHJcbiAgICAgICAgeyBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kIH0sXHJcbiAgICAgICAgc3R5bGUsXHJcbiAgICAgIF19XHJcbiAgICA+XHJcbiAgICAgIDxTY3JvbGxWaWV3XHJcbiAgICAgICAgY29udGVudENvbnRhaW5lclN0eWxlPXtzdHlsZXMuc2Nyb2xsVmlld0NvbnRlbnR9XHJcbiAgICAgICAga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz1cImhhbmRsZWRcIlxyXG4gICAgICAgIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I9e2ZhbHNlfVxyXG4gICAgICA+XHJcbiAgICAgICAge2NvbnRlbnR9XHJcbiAgICAgIDwvU2Nyb2xsVmlldz5cclxuICAgIDwvVmlldz5cclxuICApO1xyXG59O1xyXG5cclxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xyXG4gIGNvbnRhaW5lcjoge1xyXG4gICAgZmxleDogMSxcclxuICB9LFxyXG4gIHNjcm9sbFZpZXdDb250ZW50OiB7XHJcbiAgICBmbGV4R3JvdzogMSxcclxuICAgIHBhZGRpbmdCb3R0b206IDIwLFxyXG4gIH0sXHJcbiAgaGVhZGVyQ29udGFpbmVyOiB7XHJcbiAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgbWFyZ2luQm90dG9tOiAyMCxcclxuICB9LFxyXG4gIGZvcm1Db250YWluZXI6IHtcclxuICAgIGZsZXg6IDEsXHJcbiAgICBwYWRkaW5nOiAxNixcclxuICB9LFxyXG4gIGZvb3RlckNvbnRhaW5lcjoge1xyXG4gICAgd2lkdGg6ICcxMDAlJyxcclxuICAgIHBhZGRpbmc6IDE2LFxyXG4gICAgcGFkZGluZ0JvdHRvbTogUGxhdGZvcm0uT1MgPT09ICdpb3MnID8gMjAgOiAxNixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1MYXlvdXQ7Il0sIm1hcHBpbmdzIjoiOzs7OztBQUdBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQVdBLElBQUFFLFVBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGlCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBOEQsSUFBQUksV0FBQSxHQUFBSixPQUFBO0FBYTlELElBQU1LLFVBQXFDLEdBQUcsU0FBeENBLFVBQXFDQSxDQUFBQyxJQUFBLEVBU3JDO0VBQUEsSUFSSkMsUUFBUSxHQUFBRCxJQUFBLENBQVJDLFFBQVE7SUFBQUMsWUFBQSxHQUFBRixJQUFBLENBQ1JHLE9BQU87SUFBUEEsT0FBTyxHQUFBRCxZQUFBLGNBQUcsS0FBSyxHQUFBQSxZQUFBO0lBQ2ZF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