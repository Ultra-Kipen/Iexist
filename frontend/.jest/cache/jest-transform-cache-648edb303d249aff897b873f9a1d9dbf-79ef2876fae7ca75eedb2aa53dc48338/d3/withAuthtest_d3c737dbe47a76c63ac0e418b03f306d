30ce0f0c08a551f13e40e1e2c959cc22
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn()
  };
});
_getJestObj().mock("../../src/store", function () {
  return {
    useStore: jest.fn()
  };
});
_getJestObj().mock('react-native', function () {
  var reactNative = jest.requireActual('react-native');
  return Object.assign({}, reactNative, {
    Text: function Text(props) {
      return props.children;
    }
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _withAuth = require("../../src/hoc/withAuth");
var _reactNative2 = require("react-native");
var _native = require("@react-navigation/native");
var _store = require("../../src/store");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('withAuth HOC', function () {
  var TestComponent = function TestComponent() {
    return (0, _jsxRuntime.jsx)(_reactNative2.Text, {
      children: "\uC778\uC99D\uB41C \uCEF4\uD3EC\uB10C\uD2B8"
    });
  };
  var AuthenticatedComponent = (0, _withAuth.withAuth)(TestComponent);
  var mockNavigate = jest.fn();
  beforeEach(function () {
    jest.clearAllMocks();
    _native.useNavigation.mockReturnValue({
      navigate: mockNavigate
    });
  });
  test('인증된 경우 컴포넌트가 렌더링되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: true
      }
    });
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      getByText = _render.getByText;
    expect(getByText('인증된 컴포넌트')).toBeTruthy();
    expect(mockNavigate).not.toHaveBeenCalled();
  });
  test('인증되지 않은 경우 로그인 화면으로 네비게이션되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: false
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      queryByText = _render2.queryByText;
    expect(mockNavigate).toHaveBeenCalledWith('Login');
    expect(queryByText('인증된 컴포넌트')).toBeNull();
  });
  test('HOC가 displayName을 올바르게 설정해야 함', function () {
    expect(AuthenticatedComponent.displayName).toBe('withAuth(TestComponent)');
  });
  test('isAuthenticated 상태가 변경될 때 컴포넌트가 적절하게 리렌더링되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: false
      }
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      queryByText = _render3.queryByText,
      rerender = _render3.rerender;
    expect(queryByText('인증된 컴포넌트')).toBeNull();
    expect(mockNavigate).toHaveBeenCalledWith('Login');
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: true
      }
    });
    rerender((0, _jsxRuntime.jsx)(AuthenticatedComponent, {}));
    expect(queryByText('인증된 컴포넌트')).toBeTruthy();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwiamVzdCIsImZuIiwidXNlU3RvcmUiLCJyZWFjdE5hdGl2ZSIsInJlcXVpcmVBY3R1YWwiLCJPYmplY3QiLCJhc3NpZ24iLCJUZXh0IiwicHJvcHMiLCJjaGlsZHJlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3JlYWN0IiwiX3JlYWN0TmF0aXZlIiwiX3dpdGhBdXRoIiwiX3JlYWN0TmF0aXZlMiIsIl9uYXRpdmUiLCJfc3RvcmUiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJUZXN0Q29tcG9uZW50IiwianN4IiwiQXV0aGVudGljYXRlZENvbXBvbmVudCIsIndpdGhBdXRoIiwibW9ja05hdmlnYXRlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJuYXZpZ2F0ZSIsInRlc3QiLCJzdGF0ZSIsImlzQXV0aGVudGljYXRlZCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJnZXRCeVRleHQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIl9yZW5kZXIyIiwicXVlcnlCeVRleHQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRvQmVOdWxsIiwiZGlzcGxheU5hbWUiLCJ0b0JlIiwiX3JlbmRlcjMiLCJyZXJlbmRlciJdLCJzb3VyY2VzIjpbIndpdGhBdXRoLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHsgd2l0aEF1dGggfSBmcm9tICcuLi8uLi9zcmMvaG9jL3dpdGhBdXRoJztcclxuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCB7IHVzZU5hdmlnYXRpb24gfSBmcm9tICdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnO1xyXG5pbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4uLy4uL3NyYy9zdG9yZSc7XHJcblxyXG4vLyB1c2VOYXZpZ2F0aW9uIOuqqO2CuVxyXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZScsICgpID0+ICh7XHJcbiAgdXNlTmF2aWdhdGlvbjogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG4vLyB1c2VTdG9yZSDrqqjtgrlcclxuamVzdC5tb2NrKCcuLi8uLi9zcmMvc3RvcmUnLCAoKSA9PiAoe1xyXG4gIHVzZVN0b3JlOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIFRleHQg7Lu07Y+s64SM7Yq4IOyngeygkSDrqqjtgrlcclxuamVzdC5tb2NrKCdyZWFjdC1uYXRpdmUnLCAoKSA9PiB7XHJcbiAgY29uc3QgcmVhY3ROYXRpdmUgPSBqZXN0LnJlcXVpcmVBY3R1YWwoJ3JlYWN0LW5hdGl2ZScpO1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5yZWFjdE5hdGl2ZSxcclxuICAgIFRleHQ6IChwcm9wczogeyBjaGlsZHJlbjogYW55OyB9KSA9PiBwcm9wcy5jaGlsZHJlbixcclxuICB9O1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCd3aXRoQXV0aCBIT0MnLCAoKSA9PiB7XHJcbiAgLy8g7YWM7Iqk7Yq4IOy7tO2PrOuEjO2KuFxyXG4gIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiA8VGV4dD7snbjspp3rkJwg7Lu07Y+s64SM7Yq4PC9UZXh0PjtcclxuICBjb25zdCBBdXRoZW50aWNhdGVkQ29tcG9uZW50ID0gd2l0aEF1dGgoVGVzdENvbXBvbmVudCk7XHJcbiAgXHJcbiAgY29uc3QgbW9ja05hdmlnYXRlID0gamVzdC5mbigpO1xyXG4gIFxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICAodXNlTmF2aWdhdGlvbiBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIG5hdmlnYXRlOiBtb2NrTmF2aWdhdGUsXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgn7J247Kad65CcIOqyveyasCDsu7Ttj6zrhIztirjqsIAg66CM642U66eB65CY7Ja07JW8IO2VqCcsICgpID0+IHtcclxuICAgIC8vIOyduOymneuQnCDsg4Htg5zroZwg66qo7YK5XHJcbiAgICAodXNlU3RvcmUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBzdGF0ZTogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPEF1dGhlbnRpY2F0ZWRDb21wb25lbnQgLz4pO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgn7J247Kad65CcIOy7tO2PrOuEjO2KuCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QobW9ja05hdmlnYXRlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCfsnbjspp3rkJjsp4Ag7JWK7J2AIOqyveyasCDroZzqt7jsnbgg7ZmU66m07Jy866GcIOuEpOu5hOqyjOydtOyFmOuQmOyWtOyVvCDtlagnLCAoKSA9PiB7XHJcbiAgICAvLyDsnbjspp3rkJjsp4Ag7JWK7J2AIOyDge2DnOuhnCDrqqjtgrlcclxuICAgICh1c2VTdG9yZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogZmFsc2UgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgcXVlcnlCeVRleHQgfSA9IHJlbmRlcig8QXV0aGVudGljYXRlZENvbXBvbmVudCAvPik7XHJcbiAgICBcclxuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdMb2dpbicpO1xyXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KCfsnbjspp3rkJwg7Lu07Y+s64SM7Yq4JykpLnRvQmVOdWxsKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0hPQ+qwgCBkaXNwbGF5TmFtZeydhCDsmKzrsJTrpbTqsowg7ISk7KCV7ZW07JW8IO2VqCcsICgpID0+IHtcclxuICAgIGV4cGVjdChBdXRoZW50aWNhdGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lKS50b0JlKCd3aXRoQXV0aChUZXN0Q29tcG9uZW50KScpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdpc0F1dGhlbnRpY2F0ZWQg7IOB7YOc6rCAIOuzgOqyveuQoCDrlYwg7Lu07Y+s64SM7Yq46rCAIOyggeygiO2VmOqyjCDrpqzroIzrjZTrp4HrkJjslrTslbwg7ZWoJywgKCkgPT4ge1xyXG4gICAgLy8g7LKY7J2M7JeQ64qUIOyduOymneuQmOyngCDslYrsnYAg7IOB7YOcXHJcbiAgICAodXNlU3RvcmUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBzdGF0ZTogeyBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB7IHF1ZXJ5QnlUZXh0LCByZXJlbmRlciB9ID0gcmVuZGVyKDxBdXRoZW50aWNhdGVkQ29tcG9uZW50IC8+KTtcclxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dCgn7J247Kad65CcIOy7tO2PrOuEjO2KuCcpKS50b0JlTnVsbCgpO1xyXG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0xvZ2luJyk7XHJcblxyXG4gICAgLy8g7J247Kad65CcIOyDge2DnOuhnCDrs4Dqsr1cclxuICAgICh1c2VTdG9yZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVyZW5kZXIoPEF1dGhlbnRpY2F0ZWRDb21wb25lbnQgLz4pO1xyXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KCfsnbjspp3rkJwg7Lu07Y+s64SM7Yq4JykpLnRvQmVUcnV0aHkoKTtcclxuICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiQUFRQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMEJBQTBCLEVBQUU7RUFBQSxPQUFPO0lBQzNDQyxhQUFhLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3pCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFHSEosV0FBQSxHQUFLQyxJQUFJLG9CQUFvQjtFQUFBLE9BQU87SUFDbENJLFFBQVEsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDcEIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdISixXQUFBLEdBQUtDLElBQUksQ0FBQyxjQUFjLEVBQUUsWUFBTTtFQUM5QixJQUFNSyxXQUFXLEdBQUdILElBQUksQ0FBQ0ksYUFBYSxDQUFDLGNBQWMsQ0FBQztFQUN0RCxPQUFBQyxNQUFBLENBQUFDLE1BQUEsS0FDS0gsV0FBVztJQUNkSSxJQUFJLEVBQUUsU0FBTkEsSUFBSUEsQ0FBR0MsS0FBeUI7TUFBQSxPQUFLQSxLQUFLLENBQUNDLFFBQVE7SUFBQTtFQUFBO0FBRXZELENBQUMsQ0FBQztBQUFDLElBQUFDLHNCQUFBLEdBQUFDLE9BQUE7QUF4QkgsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksYUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sTUFBQSxHQUFBTixPQUFBO0FBQTJDLElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLFNBQUFkLFlBQUE7RUFBQSxJQUFBc0IsUUFBQSxHQUFBUixPQUFBO0lBQUFYLElBQUEsR0FBQW1CLFFBQUEsQ0FBQW5CLElBQUE7RUFBQUgsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQUcsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFB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