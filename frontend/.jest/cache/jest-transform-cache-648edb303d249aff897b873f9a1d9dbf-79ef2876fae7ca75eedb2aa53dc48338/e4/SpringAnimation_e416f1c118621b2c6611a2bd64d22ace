ec31622ee366e7fe52b5f14aa654bca2
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _readOnlyError2 = _interopRequireDefault(require("@babel/runtime/helpers/readOnlyError"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _AnimatedColor = _interopRequireDefault(require("../nodes/AnimatedColor"));
var SpringConfig = _interopRequireWildcard(require("../SpringConfig"));
var _Animation2 = _interopRequireDefault(require("./Animation"));
var _invariant = _interopRequireDefault(require("invariant"));
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = (0, _get2.default)((0, _getPrototypeOf2.default)(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
var SpringAnimation = exports.default = function (_Animation) {
  function SpringAnimation(config) {
    var _config$overshootClam, _config$restDisplacem, _config$restSpeedThre, _config$velocity, _config$velocity2, _config$delay;
    var _this;
    (0, _classCallCheck2.default)(this, SpringAnimation);
    _this = _callSuper(this, SpringAnimation, [config]);
    _this._overshootClamping = (_config$overshootClam = config.overshootClamping) != null ? _config$overshootClam : false;
    _this._restDisplacementThreshold = (_config$restDisplacem = config.restDisplacementThreshold) != null ? _config$restDisplacem : 0.001;
    _this._restSpeedThreshold = (_config$restSpeedThre = config.restSpeedThreshold) != null ? _config$restSpeedThre : 0.001;
    _this._initialVelocity = (_config$velocity = config.velocity) != null ? _config$velocity : 0;
    _this._lastVelocity = (_config$velocity2 = config.velocity) != null ? _config$velocity2 : 0;
    _this._toValue = config.toValue;
    _this._delay = (_config$delay = config.delay) != null ? _config$delay : 0;
    _this._platformConfig = config.platformConfig;
    if (config.stiffness !== undefined || config.damping !== undefined || config.mass !== undefined) {
      var _config$stiffness, _config$damping, _config$mass;
      (0, _invariant.default)(config.bounciness === undefined && config.speed === undefined && config.tension === undefined && config.friction === undefined, 'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');
      _this._stiffness = (_config$stiffness = config.stiffness) != null ? _config$stiffness : 100;
      _this._damping = (_config$damping = config.damping) != null ? _config$damping : 10;
      _this._mass = (_config$mass = config.mass) != null ? _config$mass : 1;
    } else if (config.bounciness !== undefined || config.speed !== undefined) {
      var _config$bounciness, _config$speed;
      (0, _invariant.default)(config.tension === undefined && config.friction === undefined && config.stiffness === undefined && config.damping === undefined && config.mass === undefined, 'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');
      var springConfig = SpringConfig.fromBouncinessAndSpeed((_config$bounciness = config.bounciness) != null ? _config$bounciness : 8, (_config$speed = config.speed) != null ? _config$speed : 12);
      _this._stiffness = springConfig.stiffness;
      _this._damping = springConfig.damping;
      _this._mass = 1;
    } else {
      var _config$tension, _config$friction;
      var _springConfig = SpringConfig.fromOrigamiTensionAndFriction((_config$tension = config.tension) != null ? _config$tension : 40, (_config$friction = config.friction) != null ? _config$friction : 7);
      _this._stiffness = _springConfig.stiffness;
      _this._damping = _springConfig.damping;
      _this._mass = 1;
    }
    (0, _invariant.default)(_this._stiffness > 0, 'Stiffness value must be greater than 0');
    (0, _invariant.default)(_this._damping > 0, 'Damping value must be greater than 0');
    (0, _invariant.default)(_this._mass > 0, 'Mass value must be greater than 0');
    return _this;
  }
  (0, _inherits2.default)(SpringAnimation, _Animation);
  return (0, _createClass2.default)(SpringAnimation, [{
    key: "__getNativeAnimationConfig",
    value: function __getNativeAnimationConfig() {
      var _this$_initialVelocit;
      return {
        type: 'spring',
        overshootClamping: this._overshootClamping,
        restDisplacementThreshold: this._restDisplacementThreshold,
        restSpeedThreshold: this._restSpeedThreshold,
        stiffness: this._stiffness,
        damping: this._damping,
        mass: this._mass,
        initialVelocity: (_this$_initialVelocit = this._initialVelocity) != null ? _this$_initialVelocit : this._lastVelocity,
        toValue: this._toValue,
        iterations: this.__iterations,
        platformConfig: this._platformConfig,
        debugID: this.__getDebugID()
      };
    }
  }, {
    key: "start",
    value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {
      var _this2 = this;
      _superPropGet(SpringAnimation, "start", this, 3)([fromValue, onUpdate, onEnd, previousAnimation, animatedValue]);
      this._startPosition = fromValue;
      this._lastPosition = this._startPosition;
      this._onUpdate = onUpdate;
      this._lastTime = Date.now();
      this._frameTime = 0.0;
      if (previousAnimation instanceof SpringAnimation) {
        var internalState = previousAnimation.getInternalState();
        this._lastPosition = internalState.lastPosition;
        this._lastVelocity = internalState.lastVelocity;
        this._initialVelocity = this._lastVelocity;
        this._lastTime = internalState.lastTime;
      }
      var start = function start() {
        var useNativeDriver = _this2.__startAnimationIfNative(animatedValue);
        if (!useNativeDriver) {
          _this2.onUpdate();
        }
      };
      if (this._delay) {
        this._timeout = setTimeout(start, this._delay);
      } else {
        start();
      }
    }
  }, {
    key: "getInternalState",
    value: function getInternalState() {
      return {
        lastPosition: this._lastPosition,
        lastVelocity: this._lastVelocity,
        lastTime: this._lastTime
      };
    }
  }, {
    key: "onUpdate",
    value: function onUpdate() {
      var MAX_STEPS = 64;
      var now = Date.now();
      if (now > this._lastTime + MAX_STEPS) {
        now = this._lastTime + MAX_STEPS;
      }
      var deltaTime = (now - this._lastTime) / 1000;
      this._frameTime += deltaTime;
      var c = this._damping;
      var m = this._mass;
      var k = this._stiffness;
      var v0 = -this._initialVelocity;
      var zeta = c / (2 * Math.sqrt(k * m));
      var omega0 = Math.sqrt(k / m);
      var omega1 = omega0 * Math.sqrt(1.0 - zeta * zeta);
      var x0 = this._toValue - this._startPosition;
      var position = 0.0;
      var velocity = 0.0;
      var t = this._frameTime;
      if (zeta < 1) {
        var envelope = Math.exp(-zeta * omega0 * t);
        position = this._toValue - envelope * ((v0 + zeta * omega0 * x0) / omega1 * Math.sin(omega1 * t) + x0 * Math.cos(omega1 * t));
        velocity = zeta * omega0 * envelope * (Math.sin(omega1 * t) * (v0 + zeta * omega0 * x0) / omega1 + x0 * Math.cos(omega1 * t)) - envelope * (Math.cos(omega1 * t) * (v0 + zeta * omega0 * x0) - omega1 * x0 * Math.sin(omega1 * t));
      } else {
        var _envelope = Math.exp(-omega0 * t);
        position = this._toValue - _envelope * (x0 + (v0 + omega0 * x0) * t);
        velocity = _envelope * (v0 * (t * omega0 - 1) + t * x0 * (omega0 * omega0));
      }
      this._lastTime = now;
      this._lastPosition = position;
      this._lastVelocity = velocity;
      this._onUpdate(position);
      if (!this.__active) {
        return;
      }
      var isOvershooting = false;
      if (this._overshootClamping && this._stiffness !== 0) {
        if (this._startPosition < this._toValue) {
          isOvershooting = position > this._toValue;
        } else {
          isOvershooting = position < this._toValue;
        }
      }
      var isVelocity = Math.abs(velocity) <= this._restSpeedThreshold;
      var isDisplacement = true;
      if (this._stiffness !== 0) {
        isDisplacement = Math.abs(this._toValue - position) <= this._restDisplacementThreshold;
      }
      if (isOvershooting || isVelocity && isDisplacement) {
        if (this._stiffness !== 0) {
          this._lastPosition = this._toValue;
          this._lastVelocity = 0;
          this._onUpdate(this._toValue);
        }
        this.__notifyAnimationEnd({
          finished: true
        });
        return;
      }
      this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));
    }
  }, {
    key: "stop",
    value: function stop() {
      _superPropGet(SpringAnimation, "stop", this, 3)([]);
      clearTimeout(this._timeout);
      if (this._animationFrame != null) {
        global.cancelAnimationFrame(this._animationFrame);
      }
      this.__notifyAnimationEnd({
        finished: false
      });
    }
  }]);
}(_Animation2.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQW5pbWF0ZWRDb2xvciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiU3ByaW5nQ29uZmlnIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfQW5pbWF0aW9uMiIsIl9pbnZhcmlhbnQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfY2FsbFN1cGVyIiwibyIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yIiwiYXBwbHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIl9zdXBlclByb3BHZXQiLCJwIiwiX2dldDIiLCJTcHJpbmdBbmltYXRpb24iLCJleHBvcnRzIiwiX0FuaW1hdGlvbiIsImNvbmZpZyIsIl9jb25maWckb3ZlcnNob290Q2xhbSIsIl9jb25maWckcmVzdERpc3BsYWNlbSIsIl9jb25maWckcmVzdFNwZWVkVGhyZSIsIl9jb25maWckdmVsb2NpdHkiLCJfY29uZmlnJHZlbG9jaXR5MiIsIl9jb25maWckZGVsYXkiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfb3ZlcnNob290Q2xhbXBpbmciLCJvdmVyc2hvb3RDbGFtcGluZyIsIl9yZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkIiwicmVzdERpc3BsYWNlbWVudFRocmVzaG9sZCIsIl9yZXN0U3BlZWRUaHJlc2hvbGQiLCJyZXN0U3BlZWRUaHJlc2hvbGQiLCJfaW5pdGlhbFZlbG9jaXR5IiwidmVsb2NpdHkiLCJfbGFzdFZlbG9jaXR5IiwiX3RvVmFsdWUiLCJ0b1ZhbHVlIiwiX2RlbGF5IiwiZGVsYXkiLCJfcGxhdGZvcm1Db25maWciLCJwbGF0Zm9ybUNvbmZpZyIsInN0aWZmbmVzcyIsInVuZGVmaW5lZCIsImRhbXBpbmciLCJtYXNzIiwiX2NvbmZpZyRzdGlmZm5lc3MiLCJfY29uZmlnJGRhbXBpbmciLCJfY29uZmlnJG1hc3MiLCJpbnZhcmlhbnQiLCJib3VuY2luZXNzIiwic3BlZWQiLCJ0ZW5zaW9uIiwiZnJpY3Rpb24iLCJfc3RpZmZuZXNzIiwiX2RhbXBpbmciLCJfbWFzcyIsIl9jb25maWckYm91bmNpbmVzcyIsIl9jb25maWckc3BlZWQiLCJzcHJpbmdDb25maWciLCJmcm9tQm91bmNpbmVzc0FuZFNwZWVkIiwiX2NvbmZpZyR0ZW5zaW9uIiwiX2NvbmZpZyRmcmljdGlvbiIsImZyb21PcmlnYW1pVGVuc2lvbkFuZEZyaWN0aW9uIiwiX2luaGVyaXRzMiIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsIl9fZ2V0TmF0aXZlQW5pbWF0aW9uQ29uZmlnIiwiX3RoaXMkX2luaXRpYWxWZWxvY2l0IiwidHlwZSIsImluaXRpYWxWZWxvY2l0eSIsIml0ZXJhdGlvbnMiLCJfX2l0ZXJhdGlvbnMiLCJkZWJ1Z0lEIiwiX19nZXREZWJ1Z0lEIiwic3RhcnQiLCJmcm9tVmFsdWUiLCJvblVwZGF0ZSIsIm9uRW5kIiwicHJldmlvdXNBbmltYXRpb24iLCJhbmltYXRlZFZhbHVlIiwiX3RoaXMyIiwiX3N0YXJ0UG9zaXRpb24iLCJfbGFzdFBvc2l0aW9uIiwiX29uVXBkYXRlIiwiX2xhc3RUaW1lIiwiRGF0ZSIsIm5vdyIsIl9mcmFtZVRpbWUiLCJpbnRlcm5hbFN0YXRlIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsImxhc3RQb3NpdGlvbiIsImxhc3RWZWxvY2l0eSIsImxhc3RUaW1lIiwidXNlTmF0aXZlRHJpdmVyIiwiX19zdGFydEFuaW1hdGlvbklmTmF0aXZlIiwiX3RpbWVvdXQiLCJzZXRUaW1lb3V0IiwiTUFYX1NURVBTIiwiZGVsdGFUaW1lIiwiYyIsIm0iLCJrIiwidjAiLCJ6ZXRhIiwiTWF0aCIsInNxcnQiLCJvbWVnYTAiLCJvbWVnYTEiLCJ4MCIsInBvc2l0aW9uIiwiZW52ZWxvcGUiLCJleHAiLCJzaW4iLCJjb3MiLCJfX2FjdGl2ZSIsImlzT3ZlcnNob290aW5nIiwiaXNWZWxvY2l0eSIsImFicyIsImlzRGlzcGxhY2VtZW50IiwiX19ub3RpZnlBbmltYXRpb25FbmQiLCJmaW5pc2hlZCIsIl9hbmltYXRpb25GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJzdG9wIiwiY2xlYXJUaW1lb3V0IiwiZ2xvYmFsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJBbmltYXRpb24iXSwic291cmNlcyI6WyJTcHJpbmdBbmltYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtQbGF0Zm9ybUNvbmZpZ30gZnJvbSAnLi4vQW5pbWF0ZWRQbGF0Zm9ybUNvbmZpZyc7XG5pbXBvcnQgdHlwZSBBbmltYXRlZEludGVycG9sYXRpb24gZnJvbSAnLi4vbm9kZXMvQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJztcbmltcG9ydCB0eXBlIEFuaW1hdGVkVmFsdWUgZnJvbSAnLi4vbm9kZXMvQW5pbWF0ZWRWYWx1ZSc7XG5pbXBvcnQgdHlwZSBBbmltYXRlZFZhbHVlWFkgZnJvbSAnLi4vbm9kZXMvQW5pbWF0ZWRWYWx1ZVhZJztcbmltcG9ydCB0eXBlIHtBbmltYXRpb25Db25maWcsIEVuZENhbGxiYWNrfSBmcm9tICcuL0FuaW1hdGlvbic7XG5cbmltcG9ydCBBbmltYXRlZENvbG9yIGZyb20gJy4uL25vZGVzL0FuaW1hdGVkQ29sb3InO1xuaW1wb3J0ICogYXMgU3ByaW5nQ29uZmlnIGZyb20gJy4uL1NwcmluZ0NvbmZpZyc7XG5pbXBvcnQgQW5pbWF0aW9uIGZyb20gJy4vQW5pbWF0aW9uJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcblxuZXhwb3J0IHR5cGUgU3ByaW5nQW5pbWF0aW9uQ29uZmlnID0gJFJlYWRPbmx5PHtcbiAgLi4uQW5pbWF0aW9uQ29uZmlnLFxuICB0b1ZhbHVlOlxuICAgIHwgbnVtYmVyXG4gICAgfCBBbmltYXRlZFZhbHVlXG4gICAgfCB7XG4gICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgeTogbnVtYmVyLFxuICAgICAgICAuLi5cbiAgICAgIH1cbiAgICB8IEFuaW1hdGVkVmFsdWVYWVxuICAgIHwge1xuICAgICAgICByOiBudW1iZXIsXG4gICAgICAgIGc6IG51bWJlcixcbiAgICAgICAgYjogbnVtYmVyLFxuICAgICAgICBhOiBudW1iZXIsXG4gICAgICAgIC4uLlxuICAgICAgfVxuICAgIHwgQW5pbWF0ZWRDb2xvclxuICAgIHwgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uPG51bWJlcj4sXG4gIG92ZXJzaG9vdENsYW1waW5nPzogYm9vbGVhbixcbiAgcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZD86IG51bWJlcixcbiAgcmVzdFNwZWVkVGhyZXNob2xkPzogbnVtYmVyLFxuICB2ZWxvY2l0eT86XG4gICAgfCBudW1iZXJcbiAgICB8ICRSZWFkT25seTx7XG4gICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgeTogbnVtYmVyLFxuICAgICAgICAuLi5cbiAgICAgIH0+LFxuICBib3VuY2luZXNzPzogbnVtYmVyLFxuICBzcGVlZD86IG51bWJlcixcbiAgdGVuc2lvbj86IG51bWJlcixcbiAgZnJpY3Rpb24/OiBudW1iZXIsXG4gIHN0aWZmbmVzcz86IG51bWJlcixcbiAgZGFtcGluZz86IG51bWJlcixcbiAgbWFzcz86IG51bWJlcixcbiAgZGVsYXk/OiBudW1iZXIsXG4gIC4uLlxufT47XG5cbmV4cG9ydCB0eXBlIFNwcmluZ0FuaW1hdGlvbkNvbmZpZ1NpbmdsZSA9ICRSZWFkT25seTx7XG4gIC4uLkFuaW1hdGlvbkNvbmZpZyxcbiAgdG9WYWx1ZTogbnVtYmVyLFxuICBvdmVyc2hvb3RDbGFtcGluZz86IGJvb2xlYW4sXG4gIHJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQ/OiBudW1iZXIsXG4gIHJlc3RTcGVlZFRocmVzaG9sZD86IG51bWJlcixcbiAgdmVsb2NpdHk/OiBudW1iZXIsXG4gIGJvdW5jaW5lc3M/OiBudW1iZXIsXG4gIHNwZWVkPzogbnVtYmVyLFxuICB0ZW5zaW9uPzogbnVtYmVyLFxuICBmcmljdGlvbj86IG51bWJlcixcbiAgc3RpZmZuZXNzPzogbnVtYmVyLFxuICBkYW1waW5nPzogbnVtYmVyLFxuICBtYXNzPzogbnVtYmVyLFxuICBkZWxheT86IG51bWJlcixcbiAgLi4uXG59Pjtcblxub3BhcXVlIHR5cGUgU3ByaW5nQW5pbWF0aW9uSW50ZXJuYWxTdGF0ZSA9ICRSZWFkT25seTx7XG4gIGxhc3RQb3NpdGlvbjogbnVtYmVyLFxuICBsYXN0VmVsb2NpdHk6IG51bWJlcixcbiAgbGFzdFRpbWU6IG51bWJlcixcbn0+O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpbmdBbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb24ge1xuICBfb3ZlcnNob290Q2xhbXBpbmc6IGJvb2xlYW47XG4gIF9yZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkOiBudW1iZXI7XG4gIF9yZXN0U3BlZWRUaHJlc2hvbGQ6IG51bWJlcjtcbiAgX2xhc3RWZWxvY2l0eTogbnVtYmVyO1xuICBfc3RhcnRQb3NpdGlvbjogbnVtYmVyO1xuICBfbGFzdFBvc2l0aW9uOiBudW1iZXI7XG4gIF9mcm9tVmFsdWU6IG51bWJlcjtcbiAgX3RvVmFsdWU6IG51bWJlcjtcbiAgX3N0aWZmbmVzczogbnVtYmVyO1xuICBfZGFtcGluZzogbnVtYmVyO1xuICBfbWFzczogbnVtYmVyO1xuICBfaW5pdGlhbFZlbG9jaXR5OiBudW1iZXI7XG4gIF9kZWxheTogbnVtYmVyO1xuICBfdGltZW91dDogP1RpbWVvdXRJRDtcbiAgX3N0YXJ0VGltZTogbnVtYmVyO1xuICBfbGFzdFRpbWU6IG51bWJlcjtcbiAgX2ZyYW1lVGltZTogbnVtYmVyO1xuICBfb25VcGRhdGU6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkO1xuICBfYW5pbWF0aW9uRnJhbWU6ID9BbmltYXRpb25GcmFtZUlEO1xuICBfcGxhdGZvcm1Db25maWc6ID9QbGF0Zm9ybUNvbmZpZztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFNwcmluZ0FuaW1hdGlvbkNvbmZpZ1NpbmdsZSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLl9vdmVyc2hvb3RDbGFtcGluZyA9IGNvbmZpZy5vdmVyc2hvb3RDbGFtcGluZyA/PyBmYWxzZTtcbiAgICB0aGlzLl9yZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkID0gY29uZmlnLnJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQgPz8gMC4wMDE7XG4gICAgdGhpcy5fcmVzdFNwZWVkVGhyZXNob2xkID0gY29uZmlnLnJlc3RTcGVlZFRocmVzaG9sZCA/PyAwLjAwMTtcbiAgICB0aGlzLl9pbml0aWFsVmVsb2NpdHkgPSBjb25maWcudmVsb2NpdHkgPz8gMDtcbiAgICB0aGlzLl9sYXN0VmVsb2NpdHkgPSBjb25maWcudmVsb2NpdHkgPz8gMDtcbiAgICB0aGlzLl90b1ZhbHVlID0gY29uZmlnLnRvVmFsdWU7XG4gICAgdGhpcy5fZGVsYXkgPSBjb25maWcuZGVsYXkgPz8gMDtcbiAgICB0aGlzLl9wbGF0Zm9ybUNvbmZpZyA9IGNvbmZpZy5wbGF0Zm9ybUNvbmZpZztcblxuICAgIGlmIChcbiAgICAgIGNvbmZpZy5zdGlmZm5lc3MgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgY29uZmlnLmRhbXBpbmcgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgY29uZmlnLm1hc3MgIT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjb25maWcuYm91bmNpbmVzcyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLnNwZWVkID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcudGVuc2lvbiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLmZyaWN0aW9uID09PSB1bmRlZmluZWQsXG4gICAgICAgICdZb3UgY2FuIGRlZmluZSBvbmUgb2YgYm91bmNpbmVzcy9zcGVlZCwgdGVuc2lvbi9mcmljdGlvbiwgb3Igc3RpZmZuZXNzL2RhbXBpbmcvbWFzcywgYnV0IG5vdCBtb3JlIHRoYW4gb25lJyxcbiAgICAgICk7XG4gICAgICB0aGlzLl9zdGlmZm5lc3MgPSBjb25maWcuc3RpZmZuZXNzID8/IDEwMDtcbiAgICAgIHRoaXMuX2RhbXBpbmcgPSBjb25maWcuZGFtcGluZyA/PyAxMDtcbiAgICAgIHRoaXMuX21hc3MgPSBjb25maWcubWFzcyA/PyAxO1xuICAgIH0gZWxzZSBpZiAoY29uZmlnLmJvdW5jaW5lc3MgIT09IHVuZGVmaW5lZCB8fCBjb25maWcuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQ29udmVydCB0aGUgb3JpZ2FtaSBib3VuY2luZXNzL3NwZWVkIHZhbHVlcyB0byBzdGlmZm5lc3MvZGFtcGluZ1xuICAgICAgLy8gV2UgYXNzdW1lIG1hc3MgaXMgMS5cbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY29uZmlnLnRlbnNpb24gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIGNvbmZpZy5mcmljdGlvbiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLnN0aWZmbmVzcyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLmRhbXBpbmcgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIGNvbmZpZy5tYXNzID09PSB1bmRlZmluZWQsXG4gICAgICAgICdZb3UgY2FuIGRlZmluZSBvbmUgb2YgYm91bmNpbmVzcy9zcGVlZCwgdGVuc2lvbi9mcmljdGlvbiwgb3Igc3RpZmZuZXNzL2RhbXBpbmcvbWFzcywgYnV0IG5vdCBtb3JlIHRoYW4gb25lJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzcHJpbmdDb25maWcgPSBTcHJpbmdDb25maWcuZnJvbUJvdW5jaW5lc3NBbmRTcGVlZChcbiAgICAgICAgY29uZmlnLmJvdW5jaW5lc3MgPz8gOCxcbiAgICAgICAgY29uZmlnLnNwZWVkID8/IDEyLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3N0aWZmbmVzcyA9IHNwcmluZ0NvbmZpZy5zdGlmZm5lc3M7XG4gICAgICB0aGlzLl9kYW1waW5nID0gc3ByaW5nQ29uZmlnLmRhbXBpbmc7XG4gICAgICB0aGlzLl9tYXNzID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29udmVydCB0aGUgb3JpZ2FtaSB0ZW5zaW9uL2ZyaWN0aW9uIHZhbHVlcyB0byBzdGlmZm5lc3MvZGFtcGluZ1xuICAgICAgLy8gV2UgYXNzdW1lIG1hc3MgaXMgMS5cbiAgICAgIGNvbnN0IHNwcmluZ0NvbmZpZyA9IFNwcmluZ0NvbmZpZy5mcm9tT3JpZ2FtaVRlbnNpb25BbmRGcmljdGlvbihcbiAgICAgICAgY29uZmlnLnRlbnNpb24gPz8gNDAsXG4gICAgICAgIGNvbmZpZy5mcmljdGlvbiA/PyA3LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3N0aWZmbmVzcyA9IHNwcmluZ0NvbmZpZy5zdGlmZm5lc3M7XG4gICAgICB0aGlzLl9kYW1waW5nID0gc3ByaW5nQ29uZmlnLmRhbXBpbmc7XG4gICAgICB0aGlzLl9tYXNzID0gMTtcbiAgICB9XG5cbiAgICBpbnZhcmlhbnQodGhpcy5fc3RpZmZuZXNzID4gMCwgJ1N0aWZmbmVzcyB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgaW52YXJpYW50KHRoaXMuX2RhbXBpbmcgPiAwLCAnRGFtcGluZyB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgaW52YXJpYW50KHRoaXMuX21hc3MgPiAwLCAnTWFzcyB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gIH1cblxuICBfX2dldE5hdGl2ZUFuaW1hdGlvbkNvbmZpZygpOiAkUmVhZE9ubHk8e1xuICAgIGRhbXBpbmc6IG51bWJlcixcbiAgICBpbml0aWFsVmVsb2NpdHk6IG51bWJlcixcbiAgICBpdGVyYXRpb25zOiBudW1iZXIsXG4gICAgbWFzczogbnVtYmVyLFxuICAgIHBsYXRmb3JtQ29uZmlnOiA/UGxhdGZvcm1Db25maWcsXG4gICAgb3ZlcnNob290Q2xhbXBpbmc6IGJvb2xlYW4sXG4gICAgcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZDogbnVtYmVyLFxuICAgIHJlc3RTcGVlZFRocmVzaG9sZDogbnVtYmVyLFxuICAgIHN0aWZmbmVzczogbnVtYmVyLFxuICAgIHRvVmFsdWU6IG51bWJlcixcbiAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICAuLi5cbiAgfT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICAgIG92ZXJzaG9vdENsYW1waW5nOiB0aGlzLl9vdmVyc2hvb3RDbGFtcGluZyxcbiAgICAgIHJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQ6IHRoaXMuX3Jlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQsXG4gICAgICByZXN0U3BlZWRUaHJlc2hvbGQ6IHRoaXMuX3Jlc3RTcGVlZFRocmVzaG9sZCxcbiAgICAgIHN0aWZmbmVzczogdGhpcy5fc3RpZmZuZXNzLFxuICAgICAgZGFtcGluZzogdGhpcy5fZGFtcGluZyxcbiAgICAgIG1hc3M6IHRoaXMuX21hc3MsXG4gICAgICBpbml0aWFsVmVsb2NpdHk6IHRoaXMuX2luaXRpYWxWZWxvY2l0eSA/PyB0aGlzLl9sYXN0VmVsb2NpdHksXG4gICAgICB0b1ZhbHVlOiB0aGlzLl90b1ZhbHVlLFxuICAgICAgaXRlcmF0aW9uczogdGhpcy5fX2l0ZXJhdGlvbnMsXG4gICAgICBwbGF0Zm9ybUNvbmZpZzogdGhpcy5fcGxhdGZvcm1Db25maWcsXG4gICAgICBkZWJ1Z0lEOiB0aGlzLl9fZ2V0RGVidWdJRCgpLFxuICAgIH07XG4gIH1cblxuICBzdGFydChcbiAgICBmcm9tVmFsdWU6IG51bWJlcixcbiAgICBvblVwZGF0ZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQsXG4gICAgb25FbmQ6ID9FbmRDYWxsYmFjayxcbiAgICBwcmV2aW91c0FuaW1hdGlvbjogP0FuaW1hdGlvbixcbiAgICBhbmltYXRlZFZhbHVlOiBBbmltYXRlZFZhbHVlLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5zdGFydChmcm9tVmFsdWUsIG9uVXBkYXRlLCBvbkVuZCwgcHJldmlvdXNBbmltYXRpb24sIGFuaW1hdGVkVmFsdWUpO1xuXG4gICAgdGhpcy5fc3RhcnRQb3NpdGlvbiA9IGZyb21WYWx1ZTtcbiAgICB0aGlzLl9sYXN0UG9zaXRpb24gPSB0aGlzLl9zdGFydFBvc2l0aW9uO1xuXG4gICAgdGhpcy5fb25VcGRhdGUgPSBvblVwZGF0ZTtcbiAgICB0aGlzLl9sYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5fZnJhbWVUaW1lID0gMC4wO1xuXG4gICAgaWYgKHByZXZpb3VzQW5pbWF0aW9uIGluc3RhbmNlb2YgU3ByaW5nQW5pbWF0aW9uKSB7XG4gICAgICBjb25zdCBpbnRlcm5hbFN0YXRlID0gcHJldmlvdXNBbmltYXRpb24uZ2V0SW50ZXJuYWxTdGF0ZSgpO1xuICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gaW50ZXJuYWxTdGF0ZS5sYXN0UG9zaXRpb247XG4gICAgICB0aGlzLl9sYXN0VmVsb2NpdHkgPSBpbnRlcm5hbFN0YXRlLmxhc3RWZWxvY2l0eTtcbiAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCB2ZWxvY2l0eSB0byB0aGUgbGFzdCB2ZWxvY2l0eVxuICAgICAgdGhpcy5faW5pdGlhbFZlbG9jaXR5ID0gdGhpcy5fbGFzdFZlbG9jaXR5O1xuICAgICAgdGhpcy5fbGFzdFRpbWUgPSBpbnRlcm5hbFN0YXRlLmxhc3RUaW1lO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgdXNlTmF0aXZlRHJpdmVyID0gdGhpcy5fX3N0YXJ0QW5pbWF0aW9uSWZOYXRpdmUoYW5pbWF0ZWRWYWx1ZSk7XG4gICAgICBpZiAoIXVzZU5hdGl2ZURyaXZlcikge1xuICAgICAgICB0aGlzLm9uVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vICBJZiB0aGlzLl9kZWxheSBpcyBtb3JlIHRoYW4gMCwgd2Ugc3RhcnQgYWZ0ZXIgdGhlIHRpbWVvdXQuXG4gICAgaWYgKHRoaXMuX2RlbGF5KSB7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChzdGFydCwgdGhpcy5fZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEludGVybmFsU3RhdGUoKTogU3ByaW5nQW5pbWF0aW9uSW50ZXJuYWxTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3RQb3NpdGlvbjogdGhpcy5fbGFzdFBvc2l0aW9uLFxuICAgICAgbGFzdFZlbG9jaXR5OiB0aGlzLl9sYXN0VmVsb2NpdHksXG4gICAgICBsYXN0VGltZTogdGhpcy5fbGFzdFRpbWUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHNwcmluZyBtb2RlbCBpcyBiYXNlZCBvZmYgb2YgYSBkYW1wZWQgaGFybW9uaWMgb3NjaWxsYXRvclxuICAgKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGFybW9uaWNfb3NjaWxsYXRvciNEYW1wZWRfaGFybW9uaWNfb3NjaWxsYXRvcikuXG4gICAqXG4gICAqIFdlIHVzZSB0aGUgY2xvc2VkIGZvcm0gb2YgdGhlIHNlY29uZCBvcmRlciBkaWZmZXJlbnRpYWwgZXF1YXRpb246XG4gICAqXG4gICAqIHgnJyArICgyzrbijbVfMCl4JyArIOKNtV4yeCA9IDBcbiAgICpcbiAgICogd2hlcmVcbiAgICogICAg4o21XzAgPSDiiJooayAvIG0pICh1bmRhbXBlZCBhbmd1bGFyIGZyZXF1ZW5jeSBvZiB0aGUgb3NjaWxsYXRvciksXG4gICAqICAgIM62ID0gYyAvIDLiiJptayAoZGFtcGluZyByYXRpbyksXG4gICAqICAgIGMgPSBkYW1waW5nIGNvbnN0YW50XG4gICAqICAgIGsgPSBzdGlmZm5lc3NcbiAgICogICAgbSA9IG1hc3NcbiAgICpcbiAgICogVGhlIGRlcml2YXRpb24gb2YgdGhlIGNsb3NlZCBmb3JtIGlzIGRlc2NyaWJlZCBpbiBkZXRhaWwgaGVyZTpcbiAgICogaHR0cDovL3BsYW5ldG1hdGgub3JnL3NpdGVzL2RlZmF1bHQvZmlsZXMvdGV4cGRmLzM5NzQ1LnBkZlxuICAgKlxuICAgKiBUaGlzIGFsZ29yaXRobSBoYXBwZW5zIHRvIG1hdGNoIHRoZSBhbGdvcml0aG0gdXNlZCBieSBDQVNwcmluZ0FuaW1hdGlvbixcbiAgICogYSBRdWFydHpDb3JlIChpT1MpIEFQSSB0aGF0IGNyZWF0ZXMgc3ByaW5nIGFuaW1hdGlvbnMuXG4gICAqL1xuICBvblVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBJZiBmb3Igc29tZSByZWFzb24gd2UgbG9zdCBhIGxvdCBvZiBmcmFtZXMgKGUuZy4gcHJvY2VzcyBsYXJnZSBwYXlsb2FkIG9yXG4gICAgLy8gc3RvcHBlZCBpbiB0aGUgZGVidWdnZXIpLCB3ZSBvbmx5IGFkdmFuY2UgYnkgNCBmcmFtZXMgd29ydGggb2ZcbiAgICAvLyBjb21wdXRhdGlvbiBhbmQgd2lsbCBjb250aW51ZSBvbiB0aGUgbmV4dCBmcmFtZS4gSXQncyBiZXR0ZXIgdG8gaGF2ZSBpdFxuICAgIC8vIHJ1bm5pbmcgYXQgZmFzdGVyIHNwZWVkIHRoYW4ganVtcGluZyB0byB0aGUgZW5kLlxuICAgIGNvbnN0IE1BWF9TVEVQUyA9IDY0O1xuICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChub3cgPiB0aGlzLl9sYXN0VGltZSArIE1BWF9TVEVQUykge1xuICAgICAgbm93ID0gdGhpcy5fbGFzdFRpbWUgKyBNQVhfU1RFUFM7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsdGFUaW1lID0gKG5vdyAtIHRoaXMuX2xhc3RUaW1lKSAvIDEwMDA7XG4gICAgdGhpcy5fZnJhbWVUaW1lICs9IGRlbHRhVGltZTtcblxuICAgIGNvbnN0IGM6IG51bWJlciA9IHRoaXMuX2RhbXBpbmc7XG4gICAgY29uc3QgbTogbnVtYmVyID0gdGhpcy5fbWFzcztcbiAgICBjb25zdCBrOiBudW1iZXIgPSB0aGlzLl9zdGlmZm5lc3M7XG4gICAgY29uc3QgdjA6IG51bWJlciA9IC10aGlzLl9pbml0aWFsVmVsb2NpdHk7XG5cbiAgICBjb25zdCB6ZXRhID0gYyAvICgyICogTWF0aC5zcXJ0KGsgKiBtKSk7IC8vIGRhbXBpbmcgcmF0aW9cbiAgICBjb25zdCBvbWVnYTAgPSBNYXRoLnNxcnQoayAvIG0pOyAvLyB1bmRhbXBlZCBhbmd1bGFyIGZyZXF1ZW5jeSBvZiB0aGUgb3NjaWxsYXRvciAocmFkL21zKVxuICAgIGNvbnN0IG9tZWdhMSA9IG9tZWdhMCAqIE1hdGguc3FydCgxLjAgLSB6ZXRhICogemV0YSk7IC8vIGV4cG9uZW50aWFsIGRlY2F5XG4gICAgY29uc3QgeDAgPSB0aGlzLl90b1ZhbHVlIC0gdGhpcy5fc3RhcnRQb3NpdGlvbjsgLy8gY2FsY3VsYXRlIHRoZSBvc2NpbGxhdGlvbiBmcm9tIHgwID0gMSB0byB4ID0gMFxuXG4gICAgbGV0IHBvc2l0aW9uID0gMC4wO1xuICAgIGxldCB2ZWxvY2l0eSA9IDAuMDtcbiAgICBjb25zdCB0ID0gdGhpcy5fZnJhbWVUaW1lO1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgLy8gVW5kZXIgZGFtcGVkXG4gICAgICBjb25zdCBlbnZlbG9wZSA9IE1hdGguZXhwKC16ZXRhICogb21lZ2EwICogdCk7XG4gICAgICBwb3NpdGlvbiA9XG4gICAgICAgIHRoaXMuX3RvVmFsdWUgLVxuICAgICAgICBlbnZlbG9wZSAqXG4gICAgICAgICAgKCgodjAgKyB6ZXRhICogb21lZ2EwICogeDApIC8gb21lZ2ExKSAqIE1hdGguc2luKG9tZWdhMSAqIHQpICtcbiAgICAgICAgICAgIHgwICogTWF0aC5jb3Mob21lZ2ExICogdCkpO1xuICAgICAgLy8gVGhpcyBsb29rcyBjcmF6eSAtLSBpdCdzIGFjdHVhbGx5IGp1c3QgdGhlIGRlcml2YXRpdmUgb2YgdGhlXG4gICAgICAvLyBvc2NpbGxhdGlvbiBmdW5jdGlvblxuICAgICAgdmVsb2NpdHkgPVxuICAgICAgICB6ZXRhICpcbiAgICAgICAgICBvbWVnYTAgKlxuICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAoKE1hdGguc2luKG9tZWdhMSAqIHQpICogKHYwICsgemV0YSAqIG9tZWdhMCAqIHgwKSkgLyBvbWVnYTEgK1xuICAgICAgICAgICAgeDAgKiBNYXRoLmNvcyhvbWVnYTEgKiB0KSkgLVxuICAgICAgICBlbnZlbG9wZSAqXG4gICAgICAgICAgKE1hdGguY29zKG9tZWdhMSAqIHQpICogKHYwICsgemV0YSAqIG9tZWdhMCAqIHgwKSAtXG4gICAgICAgICAgICBvbWVnYTEgKiB4MCAqIE1hdGguc2luKG9tZWdhMSAqIHQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JpdGljYWxseSBkYW1wZWRcbiAgICAgIGNvbnN0IGVudmVsb3BlID0gTWF0aC5leHAoLW9tZWdhMCAqIHQpO1xuICAgICAgcG9zaXRpb24gPSB0aGlzLl90b1ZhbHVlIC0gZW52ZWxvcGUgKiAoeDAgKyAodjAgKyBvbWVnYTAgKiB4MCkgKiB0KTtcbiAgICAgIHZlbG9jaXR5ID1cbiAgICAgICAgZW52ZWxvcGUgKiAodjAgKiAodCAqIG9tZWdhMCAtIDEpICsgdCAqIHgwICogKG9tZWdhMCAqIG9tZWdhMCkpO1xuICAgIH1cblxuICAgIHRoaXMuX2xhc3RUaW1lID0gbm93O1xuICAgIHRoaXMuX2xhc3RQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuX2xhc3RWZWxvY2l0eSA9IHZlbG9jaXR5O1xuXG4gICAgdGhpcy5fb25VcGRhdGUocG9zaXRpb24pO1xuICAgIGlmICghdGhpcy5fX2FjdGl2ZSkge1xuICAgICAgLy8gYSBsaXN0ZW5lciBtaWdodCBoYXZlIHN0b3BwZWQgdXMgaW4gX29uVXBkYXRlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ29uZGl0aW9ucyBmb3Igc3RvcHBpbmcgdGhlIHNwcmluZyBhbmltYXRpb25cbiAgICBsZXQgaXNPdmVyc2hvb3RpbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fb3ZlcnNob290Q2xhbXBpbmcgJiYgdGhpcy5fc3RpZmZuZXNzICE9PSAwKSB7XG4gICAgICBpZiAodGhpcy5fc3RhcnRQb3NpdGlvbiA8IHRoaXMuX3RvVmFsdWUpIHtcbiAgICAgICAgaXNPdmVyc2hvb3RpbmcgPSBwb3NpdGlvbiA+IHRoaXMuX3RvVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc092ZXJzaG9vdGluZyA9IHBvc2l0aW9uIDwgdGhpcy5fdG9WYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNWZWxvY2l0eSA9IE1hdGguYWJzKHZlbG9jaXR5KSA8PSB0aGlzLl9yZXN0U3BlZWRUaHJlc2hvbGQ7XG4gICAgbGV0IGlzRGlzcGxhY2VtZW50ID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fc3RpZmZuZXNzICE9PSAwKSB7XG4gICAgICBpc0Rpc3BsYWNlbWVudCA9XG4gICAgICAgIE1hdGguYWJzKHRoaXMuX3RvVmFsdWUgLSBwb3NpdGlvbikgPD0gdGhpcy5fcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZDtcbiAgICB9XG5cbiAgICBpZiAoaXNPdmVyc2hvb3RpbmcgfHwgKGlzVmVsb2NpdHkgJiYgaXNEaXNwbGFjZW1lbnQpKSB7XG4gICAgICBpZiAodGhpcy5fc3RpZmZuZXNzICE9PSAwKSB7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHdlIGVuZCB1cCB3aXRoIGEgcm91bmQgdmFsdWVcbiAgICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gdGhpcy5fdG9WYWx1ZTtcbiAgICAgICAgdGhpcy5fbGFzdFZlbG9jaXR5ID0gMDtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUodGhpcy5fdG9WYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX19ub3RpZnlBbmltYXRpb25FbmQoe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm9uVXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBzdXBlci5zdG9wKCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgIGlmICh0aGlzLl9hbmltYXRpb25GcmFtZSAhPSBudWxsKSB7XG4gICAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0aW9uRnJhbWUpO1xuICAgIH1cbiAgICB0aGlzLl9fbm90aWZ5QW5pbWF0aW9uRW5kKHtmaW5pc2hlZDogZmFsc2V9KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFnQkEsSUFBQUEsY0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBQyx1QkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFLLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1C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