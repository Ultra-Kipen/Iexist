{"version":3,"names":["_getJestObj","mock","get","jest","fn","post","put","delete","interceptors","request","use","eject","response","getItem","Promise","resolve","setItem","removeItem","_HomeScreen","require","_require","describe","beforeEach","useFakeTimers","afterEach","useRealTimers","clearAllMocks","it","content","emotion","label","icon","color","imageUrl","setIsLoading","setIsDialogVisible","result","handlePostSubmission","expect","toBe","toHaveBeenCalledWith","advanceTimersByTime","not","toHaveBeenCalled","setImageUrl","handleImageUploadAction","initialPosts","id","anonymousId","emotionIcon","image","likes","comments","timestamp","setPosts","handleLikeAction","commentContent","originalDateNow","Date","now","handleCommentAction","updatedPosts","calls","toHaveLength","toEqual","author"],"sources":["HomeScreenHelpers.test.tsx"],"sourcesContent":["// HomeScreenHelpers.test.tsx - Ìôà Ïä§ÌÅ¨Î¶∞ Ìó¨Ìçº Ìï®Ïàò ÌÖåÏä§Ìä∏\r\n\r\n// client.ts Î™®ÎìàÏùÑ Î®ºÏ†Ä Î™®ÌÇπÌïòÏó¨ interceptors Î¨∏Ï†ú Ìï¥Í≤∞\r\njest.mock('../../src/services/api/client', () => {\r\n  return {\r\n    get: jest.fn(),\r\n    post: jest.fn(),\r\n    put: jest.fn(),\r\n    delete: jest.fn(),\r\n    interceptors: {\r\n      request: {\r\n        use: jest.fn(),\r\n        eject: jest.fn()\r\n      },\r\n      response: {\r\n        use: jest.fn(),\r\n        eject: jest.fn()\r\n      }\r\n    }\r\n  };\r\n});\r\n\r\n// AsyncStorage Î™®ÌÇπ Ï∂îÍ∞Ä\r\njest.mock('@react-native-async-storage/async-storage', () => ({\r\n  getItem: jest.fn(() => Promise.resolve('test_token')),\r\n  setItem: jest.fn(() => Promise.resolve()),\r\n  removeItem: jest.fn(() => Promise.resolve())\r\n}));\r\n\r\nimport React from 'react';\r\nimport { \r\n  handlePostSubmission, \r\n  handleImageUploadAction, \r\n  handleLikeAction, \r\n  handleCommentAction, \r\n  Emotion, \r\n  Post, \r\n  Comment \r\n} from '../../src/screens/HomeScreen';\r\n\r\ndescribe('HomeScreen Helper Functions', () => {\r\n  // ÌÉÄÏù¥Î®∏ Ìï®Ïàò Î™®ÌÇπ ÏÑ§Ï†ï Ï∂îÍ∞Ä\r\n  beforeEach(() => {\r\n    jest.useFakeTimers();\r\n  });\r\n\r\n  afterEach(() => {\r\n    jest.useRealTimers();\r\n    jest.clearAllMocks();\r\n  });\r\n  \r\n  // handlePostSubmission ÌÖåÏä§Ìä∏\r\n  describe('handlePostSubmission', () => {\r\n    it('returns true when content and emotion are provided', () => {\r\n      const content = 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º';\r\n      const emotion: Emotion = { label: 'ÌñâÎ≥µ', icon: 'emoticon-happy-outline', color: '#FFD700' };\r\n      const imageUrl = '';\r\n      const setIsLoading = jest.fn();\r\n      const setIsDialogVisible = jest.fn();\r\n      \r\n      const result = handlePostSubmission(content, emotion, imageUrl, setIsLoading, setIsDialogVisible);\r\n      \r\n      expect(result).toBe(true);\r\n      expect(setIsLoading).toHaveBeenCalledWith(true);\r\n      \r\n      // ÎπÑÎèôÍ∏∞ ÏûëÏóÖ ÌôïÏù∏\r\n      jest.advanceTimersByTime(1000);\r\n      expect(setIsLoading).toHaveBeenCalledWith(false);\r\n      expect(setIsDialogVisible).toHaveBeenCalledWith(true);\r\n    });\r\n    \r\n    it('returns false when content is empty', () => {\r\n      const content = '';\r\n      const emotion: Emotion = { label: 'ÌñâÎ≥µ', icon: 'emoticon-happy-outline', color: '#FFD700' };\r\n      const imageUrl = '';\r\n      const setIsLoading = jest.fn();\r\n      const setIsDialogVisible = jest.fn();\r\n      \r\n      const result = handlePostSubmission(content, emotion, imageUrl, setIsLoading, setIsDialogVisible);\r\n      \r\n      expect(result).toBe(false);\r\n      expect(setIsLoading).not.toHaveBeenCalled();\r\n      expect(setIsDialogVisible).not.toHaveBeenCalled();\r\n    });\r\n    \r\n    it('returns false when emotion is null', () => {\r\n      const content = 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º';\r\n      const emotion = null;\r\n      const imageUrl = '';\r\n      const setIsLoading = jest.fn();\r\n      const setIsDialogVisible = jest.fn();\r\n      \r\n      const result = handlePostSubmission(content, emotion, imageUrl, setIsLoading, setIsDialogVisible);\r\n      \r\n      expect(result).toBe(false);\r\n      expect(setIsLoading).not.toHaveBeenCalled();\r\n      expect(setIsDialogVisible).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n  \r\n  // handleImageUploadAction ÌÖåÏä§Ìä∏\r\n  describe('handleImageUploadAction', () => {\r\n    it('sets image URL', () => {\r\n      const setImageUrl = jest.fn();\r\n      \r\n      handleImageUploadAction(setImageUrl);\r\n      \r\n      expect(setImageUrl).toHaveBeenCalledWith('https://via.placeholder.com/150');\r\n    });\r\n  });\r\n  \r\n  // handleLikeAction ÌÖåÏä§Ìä∏\r\n  describe('handleLikeAction', () => {\r\n    it('increments like count for the specified post', () => {\r\n      const initialPosts: Post[] = [\r\n        {\r\n          id: 1,\r\n          anonymousId: 'ÏùµÎ™Ö1',\r\n          content: 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º 1',\r\n          emotion: 'ÌñâÎ≥µ',\r\n          emotionIcon: 'üòä',\r\n          image: '',\r\n          likes: 5,\r\n          comments: [],\r\n          timestamp: '1ÏãúÍ∞Ñ Ï†Ñ'\r\n        },\r\n        {\r\n          id: 2,\r\n          anonymousId: 'ÏùµÎ™Ö2',\r\n          content: 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º 2',\r\n          emotion: 'Ïä¨Ìîî',\r\n          emotionIcon: 'üò¢',\r\n          image: '',\r\n          likes: 10,\r\n          comments: [],\r\n          timestamp: '2ÏãúÍ∞Ñ Ï†Ñ'\r\n        }\r\n      ];\r\n      \r\n      const setPosts = jest.fn();\r\n      \r\n      handleLikeAction(initialPosts, 1, setPosts);\r\n      \r\n      // posts Î∞∞Ïó¥Ïùò Ï≤´ Î≤àÏß∏ Ìï≠Î™©Îßå Ï¢ãÏïÑÏöî ÏàòÍ∞Ä Ï¶ùÍ∞ÄÌñàÎäîÏßÄ ÌôïÏù∏\r\n      expect(setPosts).toHaveBeenCalledWith([\r\n        {\r\n          id: 1,\r\n          anonymousId: 'ÏùµÎ™Ö1',\r\n          content: 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º 1',\r\n          emotion: 'ÌñâÎ≥µ',\r\n          emotionIcon: 'üòä',\r\n          image: '',\r\n          likes: 6, // 5ÏóêÏÑú 6ÏúºÎ°ú Ï¶ùÍ∞Ä\r\n          comments: [],\r\n          timestamp: '1ÏãúÍ∞Ñ Ï†Ñ'\r\n        },\r\n        {\r\n          id: 2,\r\n          anonymousId: 'ÏùµÎ™Ö2',\r\n          content: 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º 2',\r\n          emotion: 'Ïä¨Ìîî',\r\n          emotionIcon: 'üò¢',\r\n          image: '',\r\n          likes: 10, // Î≥ÄÌôî ÏóÜÏùå\r\n          comments: [],\r\n          timestamp: '2ÏãúÍ∞Ñ Ï†Ñ'\r\n        }\r\n      ]);\r\n    });\r\n  });\r\n  \r\n  // handleCommentAction ÌÖåÏä§Ìä∏\r\n  describe('handleCommentAction', () => {\r\n    it('adds a new comment to the specified post', () => {\r\n      const initialPosts: Post[] = [\r\n        {\r\n          id: 1,\r\n          anonymousId: 'ÏùµÎ™Ö1',\r\n          content: 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º 1',\r\n          emotion: 'ÌñâÎ≥µ',\r\n          emotionIcon: 'üòä',\r\n          image: '',\r\n          likes: 5,\r\n          comments: [],\r\n          timestamp: '1ÏãúÍ∞Ñ Ï†Ñ'\r\n        }\r\n      ];\r\n      \r\n      const setPosts = jest.fn();\r\n      const commentContent = 'ÌÖåÏä§Ìä∏ ÎåìÍ∏Ä';\r\n      \r\n      // Date.nowÎ•º Î™®ÌÇπÌïòÏó¨ ÎåìÍ∏Ä IDÎ•º ÏòàÏ∏° Í∞ÄÎä•ÌïòÍ≤å ÎßåÎì¶\r\n      const originalDateNow = Date.now;\r\n      Date.now = jest.fn(() => 123456789);\r\n      \r\n      handleCommentAction(initialPosts, 1, commentContent, setPosts);\r\n      \r\n      // Î™®ÌÇπÎêú Ìï®Ïàò Î≥µÏõê\r\n      Date.now = originalDateNow;\r\n      \r\n      // ÎåìÍ∏ÄÏù¥ Ï∂îÍ∞ÄÎêòÏóàÎäîÏßÄ ÌôïÏù∏\r\n      const updatedPosts = setPosts.mock.calls[0][0];\r\n      expect(updatedPosts[0].comments).toHaveLength(1);\r\n      expect(updatedPosts[0].comments[0]).toEqual({\r\n        id: 123456789,\r\n        author: 'ÏùµÎ™Ö',\r\n        content: 'ÌÖåÏä§Ìä∏ ÎåìÍ∏Ä'\r\n      });\r\n    });\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}