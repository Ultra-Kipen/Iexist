{"version":3,"names":["_getJestObj","mock","Animated","View","_ref","style","children","_jsxRuntime","jsx","Value","jest","fn","setValue","interpolate","timing","start","callback","_ref2","Text","_ref3","TouchableOpacity","_ref4","onPress","testID","onClick","StyleSheet","create","styles","flatten","_interopRequireDefault","require","_react","_reactNative","_Toast","_interopRequireWildcard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_require","originalSetTimeout","global","setTimeout","originalClearTimeout","clearTimeout","describe","beforeEach","useFakeTimers","timeout","id","afterEach","useRealTimers","clearAllMocks","it","_render","render","visible","message","getByText","expect","toBeTruthy","_render2","queryByText","toBeNull","types","forEach","type","_render3","_render4","position","_render5","onClose","duration","act","advanceTimersByTime","toHaveBeenCalled","_render6","getByTestId","fireEvent","click","TestIcon","_render7","icon","mockInstance","show","hide","ToastController","setRef","toHaveBeenCalledWith","toHaveBeenCalledTimes","not","toThrow"],"sources":["Toast.test.tsx"],"sourcesContent":["// __tests__/components/Toast.test.tsx\r\nimport React from 'react';\r\nimport { render, act, fireEvent } from '@testing-library/react-native';\r\nimport Toast, { ToastController } from '../../src/components/Toast';\r\n\r\n// Animated와 기타 React Native 컴포넌트 모킹\r\njest.mock('react-native', () => {\r\n  return {\r\n    Animated: {\r\n      View: ({ style, children }) => <div style={style}>{children}</div>,\r\n      Value: jest.fn(() => ({\r\n        setValue: jest.fn(),\r\n        interpolate: jest.fn(() => ({ interpolate: jest.fn() })),\r\n      })),\r\n      timing: jest.fn(() => ({\r\n        start: jest.fn(callback => callback && callback()),\r\n      })),\r\n    },\r\n    View: ({ style, children }) => <div style={style}>{children}</div>,\r\n    Text: ({ style, children }) => <span style={style}>{children}</span>,\r\n    TouchableOpacity: ({ onPress, style, children, testID }) => (\r\n      <button onClick={onPress} style={style} data-testid={testID}>\r\n        {children}\r\n      </button>\r\n    ),\r\n    StyleSheet: {\r\n      create: styles => styles,\r\n      flatten: jest.fn(style => style),\r\n    },\r\n  };\r\n});\r\n\r\n// 타이머 모킹을 위한 설정\r\nconst originalSetTimeout = global.setTimeout;\r\nconst originalClearTimeout = global.clearTimeout;\r\n\r\ndescribe('Toast', () => {\r\n  beforeEach(() => {\r\n    jest.useFakeTimers();\r\n    global.setTimeout = jest.fn((callback, timeout) => {\r\n      return originalSetTimeout(callback, timeout) as any;\r\n    });\r\n    global.clearTimeout = jest.fn(id => {\r\n      return originalClearTimeout(id);\r\n    });\r\n  });\r\n\r\n  afterEach(() => {\r\n    jest.useRealTimers();\r\n    jest.clearAllMocks();\r\n    global.setTimeout = originalSetTimeout;\r\n    global.clearTimeout = originalClearTimeout;\r\n  });\r\n\r\n  it('renders correctly with default props', () => {\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" />\r\n    );\r\n    \r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('does not render when visible is false', () => {\r\n    const { queryByText } = render(\r\n      <Toast visible={false} message=\"테스트 메시지\" />\r\n    );\r\n    \r\n    expect(queryByText('테스트 메시지')).toBeNull();\r\n  });\r\n\r\n  it('renders with different background colors based on type', () => {\r\n    const types = ['success', 'error', 'warning', 'info'];\r\n    \r\n    types.forEach(type => {\r\n      const { getByText } = render(\r\n        <Toast visible={true} message=\"테스트 메시지\" type={type as any} />\r\n      );\r\n      \r\n      expect(getByText('테스트 메시지')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  it('renders at the top when position is set to top', () => {\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" position=\"top\" />\r\n    );\r\n    \r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('renders at the bottom by default', () => {\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" />\r\n    );\r\n    \r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('calls onClose after duration', () => {\r\n    const onClose = jest.fn();\r\n    render(\r\n      <Toast visible={true} message=\"테스트 메시지\" duration={3000} onClose={onClose} />\r\n    );\r\n    \r\n    act(() => {\r\n      jest.advanceTimersByTime(3300);\r\n    });\r\n    \r\n    expect(onClose).toHaveBeenCalled();\r\n  });\r\n\r\n  it('hides when tapped', () => {\r\n    const onClose = jest.fn();\r\n    const { getByTestId } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" onClose={onClose} />\r\n    );\r\n      \r\n    fireEvent.click(getByTestId('toast-touchable'));\r\n    \r\n    act(() => {\r\n      jest.advanceTimersByTime(300);\r\n    });\r\n    \r\n    expect(onClose).toHaveBeenCalled();\r\n  });\r\n\r\n  it('renders icon when provided', () => {\r\n    const TestIcon = () => <span>아이콘</span>;\r\n    const { getByText } = render(\r\n      <Toast visible={true} message=\"테스트 메시지\" icon={<TestIcon />} />\r\n    );\r\n    \r\n    expect(getByText('아이콘')).toBeTruthy();\r\n    expect(getByText('테스트 메시지')).toBeTruthy();\r\n  });\r\n\r\n  it('ToastController manages instances correctly', () => {\r\n    const mockInstance = {\r\n      show: jest.fn(),\r\n      hide: jest.fn(),\r\n    };\r\n    \r\n    ToastController.setRef(mockInstance);\r\n    \r\n    ToastController.show({ message: '테스트 메시지' });\r\n    ToastController.hide();\r\n    \r\n    expect(mockInstance.show).toHaveBeenCalledWith({ message: '테스트 메시지' });\r\n    expect(mockInstance.hide).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('ToastController handles missing instance gracefully', () => {\r\n    ToastController.setRef(null);\r\n    \r\n    expect(() => {\r\n      ToastController.show({ message: '테스트 메시지' });\r\n      ToastController.hide();\r\n    }).not.toThrow();\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}