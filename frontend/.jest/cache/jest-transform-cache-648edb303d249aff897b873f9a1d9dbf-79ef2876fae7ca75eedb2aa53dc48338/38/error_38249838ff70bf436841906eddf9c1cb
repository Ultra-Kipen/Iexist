18b8976229c804661322ee9995490747
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isNetworkError = exports.handleApiError = exports.formatErrorMessage = exports.createErrorHandler = exports.ApiError = void 0;
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _wrapNativeSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/wrapNativeSuper"));
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var handleApiError = exports.handleApiError = function handleApiError(error) {
  if (error.response) {
    if (error.response.data && error.response.data.message) {
      return error.response.data.message;
    }
    if (error.response.data && error.response.data.error && error.response.data.error.message) {
      return error.response.data.error.message;
    }
  }
  if (isNetworkError(error)) {
    return '네트워크 연결에 문제가 있습니다. 인터넷 연결을 확인해주세요.';
  }
  return '오류가 발생했습니다. 다시 시도해주세요.';
};
var isNetworkError = exports.isNetworkError = function isNetworkError(error) {
  if (!error || !error.message) {
    return false;
  }
  var networkErrorMessages = ['Network Error', 'Failed to fetch', 'ECONNREFUSED', 'Connection refused', 'timeout'];
  return networkErrorMessages.some(function (msg) {
    return error.message.toLowerCase().includes(msg.toLowerCase());
  });
};
var formatErrorMessage = exports.formatErrorMessage = function formatErrorMessage(message) {
  var customRules = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  if (message in customRules) {
    return customRules[message];
  }
  if (/^ERR_[A-Z0-9_]+$/.test(message)) {
    if (message === 'ERR_AUTH_001') {
      return '인증 오류가 발생했습니다. (ERR_AUTH_001)';
    }
    return `오류가 발생했습니다. (${message})`;
  }
  return message;
};
var ApiError = exports.ApiError = function (_Error) {
  function ApiError(message, statusCode, data) {
    var _this;
    (0, _classCallCheck2.default)(this, ApiError);
    _this = _callSuper(this, ApiError, [message]);
    _this.name = 'ApiError';
    _this.statusCode = statusCode;
    _this.data = data;
    Object.setPrototypeOf(_this, ApiError.prototype);
    return _this;
  }
  (0, _inherits2.default)(ApiError, _Error);
  return (0, _createClass2.default)(ApiError);
}((0, _wrapNativeSuper2.default)(Error));
var createErrorHandler = exports.createErrorHandler = function createErrorHandler(onError, defaultMessage) {
  return function (error) {
    if (error instanceof Error) {
      onError(error.message);
    } else if (error.response && error.response.data && error.response.data.message) {
      onError(error.response.data.message);
    } else {
      onError(defaultMessage);
    }
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoYW5kbGVBcGlFcnJvciIsImV4cG9ydHMiLCJlcnJvciIsInJlc3BvbnNlIiwiZGF0YSIsIm1lc3NhZ2UiLCJpc05ldHdvcmtFcnJvciIsIm5ldHdvcmtFcnJvck1lc3NhZ2VzIiwic29tZSIsIm1zZyIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJmb3JtYXRFcnJvck1lc3NhZ2UiLCJjdXN0b21SdWxlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRlc3QiLCJBcGlFcnJvciIsIl9FcnJvciIsInN0YXR1c0NvZGUiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwiX2NhbGxTdXBlciIsIm5hbWUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwiX3dyYXBOYXRpdmVTdXBlcjIiLCJFcnJvciIsImNyZWF0ZUVycm9ySGFuZGxlciIsIm9uRXJyb3IiLCJkZWZhdWx0TWVzc2FnZSJdLCJzb3VyY2VzIjpbImVycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF4aW9zRXJyb3IgfSBmcm9tICdheGlvcyc7XHJcblxyXG4vKipcclxuICogQVBJIOyXkOufrOulvCDsspjrpqztlZjqs6Ag7IKs7Jqp7J6Q7JeQ6rKMIO2RnOyLnO2VoCDrqZTsi5zsp4Drpbwg67CY7ZmY7ZWp64uI64ukLlxyXG4gKiBAcGFyYW0gZXJyb3IgQVBJIOyXkOufrCDqsJ3ssrRcclxuICogQHJldHVybnMg7KCB7KCI7ZWcIOyYpOulmCDrqZTsi5zsp4BcclxuICovXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVBcGlFcnJvciA9IChlcnJvcjogYW55KTogc3RyaW5nID0+IHtcclxuICAvLyBBUEkg7J2R64u17JeQ7IScIOuplOyLnOyngCDstpTstpxcclxuICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcclxuICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkge1xyXG4gICAgICByZXR1cm4gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yICYmIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IubWVzc2FnZSkge1xyXG4gICAgICByZXR1cm4gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvci5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyDrhKTtirjsm4ztgawg7Jik66WYIO2ZleyduFxyXG4gIGlmIChpc05ldHdvcmtFcnJvcihlcnJvcikpIHtcclxuICAgIHJldHVybiAn64Sk7Yq47JuM7YGsIOyXsOqysOyXkCDrrLjsoJzqsIAg7J6I7Iq164uI64ukLiDsnbjthLDrhLcg7Jew6rKw7J2EIO2ZleyduO2VtOyjvOyEuOyalC4nO1xyXG4gIH1cclxuICBcclxuICAvLyDquLDrs7gg7Jik66WYIOuplOyLnOyngFxyXG4gIHJldHVybiAn7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4g64uk7IucIOyLnOuPhO2VtOyjvOyEuOyalC4nO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOuEpO2KuOybjO2BrCDqtIDroKgg7Jik66WY7J247KeAIO2ZleyduO2VqeuLiOuLpC5cclxuICogQHBhcmFtIGVycm9yIOyYpOulmCDqsJ3ssrRcclxuICogQHJldHVybnMg64Sk7Yq47JuM7YGsIOyYpOulmCDsl6zrtoBcclxuICovXHJcbmV4cG9ydCBjb25zdCBpc05ldHdvcmtFcnJvciA9IChlcnJvcjogYW55KTogYm9vbGVhbiA9PiB7XHJcbiAgaWYgKCFlcnJvciB8fCAhZXJyb3IubWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICBjb25zdCBuZXR3b3JrRXJyb3JNZXNzYWdlcyA9IFtcclxuICAgICdOZXR3b3JrIEVycm9yJyxcclxuICAgICdGYWlsZWQgdG8gZmV0Y2gnLFxyXG4gICAgJ0VDT05OUkVGVVNFRCcsXHJcbiAgICAnQ29ubmVjdGlvbiByZWZ1c2VkJyxcclxuICAgICd0aW1lb3V0J1xyXG4gIF07XHJcbiAgXHJcbiAgcmV0dXJuIG5ldHdvcmtFcnJvck1lc3NhZ2VzLnNvbWUobXNnID0+IFxyXG4gICAgZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG1zZy50b0xvd2VyQ2FzZSgpKVxyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICog7Jik66WYIOuplOyLnOyngOulvCDtj6zrp7ftjIXtlanri4jri6QuXHJcbiAqIEBwYXJhbSBtZXNzYWdlIOyYpOulmCDrqZTsi5zsp4Ag65iQ64qUIOy9lOuTnFxyXG4gKiBAcGFyYW0gY3VzdG9tUnVsZXMg7Luk7Iqk7YWAIO2PrOunt+2MhSDqt5zsuZlcclxuICogQHJldHVybnMg7Y+s66e37YyF65CcIOyYpOulmCDrqZTsi5zsp4BcclxuICovXHJcbmV4cG9ydCBjb25zdCBmb3JtYXRFcnJvck1lc3NhZ2UgPSAobWVzc2FnZTogc3RyaW5nLCBjdXN0b21SdWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9KTogc3RyaW5nID0+IHtcclxuICAvLyDsu6TsiqTthYAg6rec7LmZ7J20IOyeiOuLpOuptCDsoIHsmqlcclxuICBpZiAobWVzc2FnZSBpbiBjdXN0b21SdWxlcykge1xyXG4gICAgcmV0dXJuIGN1c3RvbVJ1bGVzW21lc3NhZ2VdO1xyXG4gIH1cclxuICBcclxuICAvLyDsmKTrpZgg7L2U65OcIO2YleyLneyduOyngCDtmZXsnbggKEVSUl/roZwg7Iuc7J6R7ZWY64qUIOqyveyasClcclxuICBpZiAoL15FUlJfW0EtWjAtOV9dKyQvLnRlc3QobWVzc2FnZSkpIHtcclxuICAgIGlmIChtZXNzYWdlID09PSAnRVJSX0FVVEhfMDAxJykge1xyXG4gICAgICByZXR1cm4gJ+yduOymnSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLiAoRVJSX0FVVEhfMDAxKSc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYOyYpOulmOqwgCDrsJzsg53tlojsirXri4jri6QuICgke21lc3NhZ2V9KWA7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBtZXNzYWdlO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFQSSDsmKTrpZgg7YG0656Y7IqkXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xyXG4gIGRhdGE/OiBhbnk7XHJcbiAgXHJcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBzdGF0dXNDb2RlOiBudW1iZXIsIGRhdGE/OiBhbnkpIHtcclxuICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgdGhpcy5uYW1lID0gJ0FwaUVycm9yJztcclxuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgXHJcbiAgICAvLyBFcnJvciDqsJ3ssrQg7ZSE66Gc7Yag7YOA7J6FIOyytOyduCDsnKDsp4Drpbwg7JyE7ZWcIOyEpOyglVxyXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFwaUVycm9yLnByb3RvdHlwZSk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog7Jik66WYIOyymOumrCDtlajsiJjrpbwg7IOd7ISx7ZWp64uI64ukLlxyXG4gKiBAcGFyYW0gb25FcnJvciDsmKTrpZgg7LKY66asIOy9nOuwsSDtlajsiJhcclxuICogQHBhcmFtIGRlZmF1bHRNZXNzYWdlIOq4sOuzuCDsmKTrpZgg66mU7Iuc7KeAXHJcbiAqIEByZXR1cm5zIOyYpOulmCDsspjrpqwg7ZWo7IiYXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlRXJyb3JIYW5kbGVyID0gKG9uRXJyb3I6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQsIGRlZmF1bHRNZXNzYWdlOiBzdHJpbmcpID0+IHtcclxuICByZXR1cm4gKGVycm9yOiBhbnkpID0+IHtcclxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7XHJcbiAgICAgIG9uRXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uRXJyb3IoZGVmYXVsdE1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH07XHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBT08sSUFBTUEsY0FBYyxHQUFBQyxPQUFBLENBQUFELGNBQUEsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBSUUsS0FBVSxFQUFhO0VBRXBELElBQUlBLEtBQUssQ0FBQ0MsUUFBUSxFQUFFO0lBQ2xCLElBQUlELEtBQUssQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLElBQUlGLEtBQUssQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sRUFBRTtNQUN0RCxPQUFPSCxLQUFLLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPO0lBQ3BDO0lBRUEsSUFBSUgsS0FBSyxDQUFDQyxRQUFRLENBQUNDLElBQUksSUFBSUYsS0FBSyxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ0YsS0FBSyxJQUFJQSxLQUFLLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDRixLQUFLLENBQUNHLE9BQU8sRUFBRTtNQUN6RixPQUFPSCxLQUFLLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDRixLQUFLLENBQUNHLE9BQU87SUFDMUM7RUFDRjtFQUdBLElBQUlDLGNBQWMsQ0FBQ0osS0FBSyxDQUFDLEVBQUU7SUFDekIsT0FBTyxvQ0FBb0M7RUFDN0M7RUFHQSxPQUFPLHdCQUF3QjtBQUNqQyxDQUFDO0FBT00sSUFBTUksY0FBYyxHQUFB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