d8748cc9d4c108b1aa818e5827533e3d
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _reactNativeReanimated = _interopRequireDefault(require("react-native-reanimated"));
var _NotificationContext = require("../contexts/NotificationContext");
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
var NotificationBadge = function NotificationBadge(_ref) {
  var style = _ref.style,
    _ref$showZero = _ref.showZero,
    showZero = _ref$showZero === void 0 ? false : _ref$showZero,
    _ref$maxCount = _ref.maxCount,
    maxCount = _ref$maxCount === void 0 ? 99 : _ref$maxCount;
  var _useNotification = (0, _NotificationContext.useNotification)(),
    unreadCount = _useNotification.unreadCount;
  var scaleAnim = _react.default.useRef(new _reactNativeReanimated.default.Value(0)).current;
  (0, _react.useEffect)(function () {
    if (unreadCount > 0 || showZero) {
      _reactNativeReanimated.default.timing(scaleAnim, {
        toValue: 1.2,
        duration: 200,
        useNativeDriver: true
      }).start(function () {
        _reactNativeReanimated.default.timing(scaleAnim, {
          toValue: 1,
          duration: 100,
          useNativeDriver: true
        }).start();
      });
    } else {
      scaleAnim.setValue(0);
    }
  }, [unreadCount, showZero, scaleAnim]);
  var displayCount = unreadCount > maxCount ? `${maxCount}+` : unreadCount.toString();
  if (unreadCount === 0 && !showZero) {
    return null;
  }
  return (0, _jsxRuntime.jsx)(_reactNativeReanimated.default.View, {
    style: [styles.badge, style, {
      transform: [{
        scale: scaleAnim
      }]
    }, unreadCount > 9 && styles.wideBadge, unreadCount > 99 && styles.extraWideBadge],
    children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
      style: styles.count,
      children: displayCount
    })
  });
};
var styles = _reactNative.StyleSheet.create({
  badge: {
    minWidth: 18,
    height: 18,
    borderRadius: 9,
    backgroundColor: '#FF3B30',
    justifyContent: 'center',
    alignItems: 'center',
    paddingHorizontal: 4
  },
  wideBadge: {
    minWidth: 22,
    borderRadius: 11
  },
  extraWideBadge: {
    minWidth: 28
  },
  count: {
    color: 'white',
    fontSize: 12,
    fontWeight: 'bold',
    textAlign: 'center'
  }
});
var _default = exports.default = NotificationBadge;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmVSZWFuaW1hdGVkIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9Ob3RpZmljYXRpb25Db250ZXh0IiwiX2pzeFJ1bnRpbWUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJOb3RpZmljYXRpb25CYWRnZSIsIl9yZWYiLCJzdHlsZSIsIl9yZWYkc2hvd1plcm8iLCJzaG93WmVybyIsIl9yZWYkbWF4Q291bnQiLCJtYXhDb3VudCIsIl91c2VOb3RpZmljYXRpb24iLCJ1c2VOb3RpZmljYXRpb24iLCJ1bnJlYWRDb3VudCIsInNjYWxlQW5pbSIsIlJlYWN0IiwidXNlUmVmIiwiQW5pbWF0ZWQiLCJWYWx1ZSIsImN1cnJlbnQiLCJ1c2VFZmZlY3QiLCJ0aW1pbmciLCJ0b1ZhbHVlIiwiZHVyYXRpb24iLCJ1c2VOYXRpdmVEcml2ZXIiLCJzdGFydCIsInNldFZhbHVlIiwiZGlzcGxheUNvdW50IiwidG9TdHJpbmciLCJqc3giLCJWaWV3Iiwic3R5bGVzIiwiYmFkZ2UiLCJ0cmFuc2Zvcm0iLCJzY2FsZSIsIndpZGVCYWRnZSIsImV4dHJhV2lkZUJhZGdlIiwiY2hpbGRyZW4iLCJUZXh0IiwiY291bnQiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwibWluV2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJwYWRkaW5nSG9yaXpvbnRhbCIsImNvbG9yIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dEFsaWduIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiTm90aWZpY2F0aW9uQmFkZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFZpZXcsIFRleHQsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgQW5pbWF0ZWQgZnJvbSAncmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQnO1xyXG5pbXBvcnQgeyB1c2VOb3RpZmljYXRpb24gfSBmcm9tICcuLi9jb250ZXh0cy9Ob3RpZmljYXRpb25Db250ZXh0JztcclxuXHJcbmludGVyZmFjZSBOb3RpZmljYXRpb25CYWRnZVByb3BzIHtcclxuICBzdHlsZT86IG9iamVjdDtcclxuICBzaG93WmVybz86IGJvb2xlYW47XHJcbiAgbWF4Q291bnQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbmNvbnN0IE5vdGlmaWNhdGlvbkJhZGdlOiBSZWFjdC5GQzxOb3RpZmljYXRpb25CYWRnZVByb3BzPiA9ICh7IFxyXG4gIHN0eWxlLFxyXG4gIHNob3daZXJvID0gZmFsc2UsXHJcbiAgbWF4Q291bnQgPSA5OVxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyB1bnJlYWRDb3VudCB9ID0gdXNlTm90aWZpY2F0aW9uKCk7XHJcbiAgY29uc3Qgc2NhbGVBbmltID0gUmVhY3QudXNlUmVmKG5ldyBBbmltYXRlZC5WYWx1ZSgwKSkuY3VycmVudDtcclxuICBcclxuICAvLyDsubTsmrTtirjqsIAg67OA6rK965CgIOuVjCDslaDri4jrqZTsnbTshZgg7Zqo6rO8XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh1bnJlYWRDb3VudCA+IDAgfHwgc2hvd1plcm8pIHtcclxuICAgICAgLy8gQW5pbWF0ZWQuc2VxdWVuY2Ug64yA7IugIOqwnOuzhCDslaDri4jrqZTsnbTshZgg7Iic7LCoIOyLpO2WiVxyXG4gICAgICBBbmltYXRlZC50aW1pbmcoc2NhbGVBbmltLCB7XHJcbiAgICAgICAgdG9WYWx1ZTogMS4yLFxyXG4gICAgICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICAgICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlXHJcbiAgICAgIH0pLnN0YXJ0KCgpID0+IHtcclxuICAgICAgICBBbmltYXRlZC50aW1pbmcoc2NhbGVBbmltLCB7XHJcbiAgICAgICAgICB0b1ZhbHVlOiAxLFxyXG4gICAgICAgICAgZHVyYXRpb246IDEwMCxcclxuICAgICAgICAgIHVzZU5hdGl2ZURyaXZlcjogdHJ1ZVxyXG4gICAgICAgIH0pLnN0YXJ0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2NhbGVBbmltLnNldFZhbHVlKDApO1xyXG4gICAgfVxyXG4gIH0sIFt1bnJlYWRDb3VudCwgc2hvd1plcm8sIHNjYWxlQW5pbV0pO1xyXG4gIFxyXG4gIC8vIO2RnOyLnO2VoCDsubTsmrTtirgg6rOE7IKwIChtYXhDb3VudCDstIjqs7wg7IucIFwiK1wiKVxyXG4gIGNvbnN0IGRpc3BsYXlDb3VudCA9IHVucmVhZENvdW50ID4gbWF4Q291bnQgPyBgJHttYXhDb3VudH0rYCA6IHVucmVhZENvdW50LnRvU3RyaW5nKCk7XHJcbiAgXHJcbiAgLy8g7Lm07Jq07Yq46rCAIDDsnbTqs6Agc2hvd1plcm/qsIAgZmFsc2XsnbTrqbQg66CM642U66eB7ZWY7KeAIOyViuydjFxyXG4gIGlmICh1bnJlYWRDb3VudCA9PT0gMCAmJiAhc2hvd1plcm8pIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gKFxyXG4gICAgPEFuaW1hdGVkLlZpZXcgXHJcbiAgICAgIHN0eWxlPXtbXHJcbiAgICAgICAgc3R5bGVzLmJhZGdlLFxyXG4gICAgICAgIHN0eWxlLFxyXG4gICAgICAgIHsgdHJhbnNmb3JtOiBbeyBzY2FsZTogc2NhbGVBbmltIH1dIH0sXHJcbiAgICAgICAgdW5yZWFkQ291bnQgPiA5ICYmIHN0eWxlcy53aWRlQmFkZ2UsXHJcbiAgICAgICAgdW5yZWFkQ291bnQgPiA5OSAmJiBzdHlsZXMuZXh0cmFXaWRlQmFkZ2VcclxuICAgICAgXX1cclxuICAgID5cclxuICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy5jb3VudH0+e2Rpc3BsYXlDb3VudH08L1RleHQ+XHJcbiAgICA8L0FuaW1hdGVkLlZpZXc+XHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcclxuICBiYWRnZToge1xyXG4gICAgbWluV2lkdGg6IDE4LFxyXG4gICAgaGVpZ2h0OiAxOCxcclxuICAgIGJvcmRlclJhZGl1czogOSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyNGRjNCMzAnLFxyXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICBwYWRkaW5nSG9yaXpvbnRhbDogNFxyXG4gIH0sXHJcbiAgd2lkZUJhZGdlOiB7XHJcbiAgICBtaW5XaWR0aDogMjIsXHJcbiAgICBib3JkZXJSYWRpdXM6IDExXHJcbiAgfSxcclxuICBleHRyYVdpZGVCYWRnZToge1xyXG4gICAgbWluV2lkdGg6IDI4XHJcbiAgfSxcclxuICBjb3VudDoge1xyXG4gICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICBmb250U2l6ZTogMTIsXHJcbiAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInXHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvbkJhZGdlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxzQkFBQSxHQUFBQyxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksb0JBQUEsR0FBQUosT0FBQTtBQUFrRSxJQUFBSyxXQUFBLEdBQUFMLE9BQUE7QUFBQSxTQUFBTSx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQVIsd0JBQUFRLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBUWxFLElBQU1XLGlCQUFtRCxHQUFHLFNBQXREQSxpQkFBbURBLENBQUFDLElBQUEsRUFJbkQ7RUFBQSxJQUhKQyxLQUFLLEdBQUFELElBQUEsQ0FBTEMsS0FBSztJQUFBQyxhQUFBLEdBQUFGLElBQUEsQ0FDTEcsUUFBUTtJQUFSQSxRQUFRLEdBQUFELGFBQUEsY0FBRyxLQUFLLEdBQUFBLGFBQUE7SUFBQUUsYUFBQSxHQUFBSixJQUFBLENBQ2hCSyxRQUFRO0lBQVJBLFFBQVEsR0FBQUQsYUFBQSxjQUFHLEVBQUUsR0FBQUEsYUFBQTtFQUViLElBQUFFLGdCQUFBLEdBQXdCLElBQUFDLG9DQUFlLEVBQUMsQ0FBQztJQUFqQ0MsV0FBVyxHQUFBRixnQkFBQSxDQUFYRSxXQUFXO0VBQ25CLElBQU1DLFNBQVMsR0FBR0MsY0FBSyxDQUFDQyxNQUFNLENBQUMsSUFBSUMsOEJBQVEsQ0FBQ0MsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLE9BQU87RUFHN0QsSUFBQUMsZ0JBQVMsRUFBQyxZQUFNO0lBQ2QsSUFBSVAsV0FBVyxHQUFHLENBQUMsSUFBSUwsUUFBUSxFQUFFO01BRS9CUyw4QkFBUSxDQUFDSSxNQUFNLENBQUNQLFNBQVMsRUFBRTtRQUN6QlEsT0FBTyxFQUFFLEdBQUc7UUFDWkMsUUFBUSxFQUFFLEdBQUc7UUFDYkMsZUFBZSxFQUFFO01BQ25CLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUMsWUFBTTtRQUNiUiw4QkFBUSxDQUFDSSxNQUFNLENBQUNQLFNBQVMsRUFBRTtVQUN6QlEsT0FBTyxFQUFFLENBQUM7VUFDVkMsUUFBUSxFQUFFLEdBQUc7VUFDYkMsZUFBZSxFQUFFO1FBQ25CLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUMsQ0FBQztNQUNaLENBQUMsQ0FBQztJQUNKLENBQUMsTUFBTTtNQUNMWCxTQUFTLENBQUNZLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdkI7RUFDRixDQUFDLEVBQUUsQ0FBQ2IsV0FBVyxFQUFFTCxRQUFRLEVBQUVNLFNBQVMsQ0FBQyxDQUFDO0VBR3RDLElBQU1hLFlBQVksR0FBR2QsV0FBVyxHQUFHSCxRQUFRLEdBQUcsR0FBR0EsUUFBUSxHQUFHLEdBQUdHLFdBQVcsQ0FBQ2UsUUFBUSxDQUFDLENBQUM7RUFHckYsSUFBSWYsV0FBVyxLQUFLLENBQUMsSUFBSSxDQUFDTCxRQUFRLEVBQUU7SUFDbEMsT0FBTyxJQUFJO0VBQ2I7RUFFQSxPQUNFLElBQUF6QixXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxzQkFBQSxDQUFBVSxPQUFRLENBQUN3QyxJQUFJO0lBQ1p4QixLQUFLLEVBQUUsQ0FDTHlCLE1BQU0sQ0FBQ0MsS0FBSyxFQUNaMUIsS0FBSyxFQUNMO01BQUUyQixTQUFTLEVBQUUsQ0FBQztRQUFFQyxLQUFLLEVBQUVwQjtNQUFVLENBQUM7SUFBRSxDQUFDLEVBQ3JDRCxXQUFXLEdBQUcsQ0FBQyxJQUFJa0IsTUFBTSxDQUFDSSxTQUFTLEVBQ25DdEIsV0FBVyxHQUFHLEVBQUUsSUFBSWtCLE1BQU0sQ0FBQ0ssY0FBYyxDQUN6QztJQUFBQyxRQUFBLEVBRUYsSUFBQXRELFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2xELFlBQUEsQ0FBQTJELElBQUk7TUFBQ2hDLEtBQUssRUFBRXlCLE1BQU0sQ0FBQ1EsS0FBTTtNQUFBRixRQUFBLEVBQUVWO0lBQVksQ0FBTztFQUFDLENBQ25DLENBQUM7QUFFcEIsQ0FBQztBQUVELElBQU1JLE1BQU0sR0FBR1MsdUJBQVUsQ0FBQ0MsTUFBTSxDQUFDO0VBQy9CVCxLQUFLLEVBQUU7SUFDTFUsUUFBUSxFQUFFLEVBQUU7SUFDWkMsTUFBTSxFQUFFLEVBQUU7SUFDVkMsWUFBWSxFQUFFLENBQUM7SUFDZkMsZUFBZSxFQUFFLFNBQVM7SUFDMUJDLGNBQWMsRUFBRSxRQUFRO0lBQ3hCQyxVQUFVLEVBQUUsUUFBUTtJQUNwQkMsaUJBQWlCLEVBQUU7RUFDckIsQ0FBQztFQUNEYixTQUFTLEVBQUU7SUFDVE8sUUFBUSxFQUFFLEVBQUU7SUFDWkUsWUFBWSxFQUFFO0VBQ2hCLENBQUM7RUFDRFIsY0FBYyxFQUFFO0lBQ2RNLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREgsS0FBSyxFQUFFO0lBQ0xVLEtBQUssRUFBRSxPQUFPO0lBQ2RDLFFBQVEsRUFBRSxFQUFFO0lBQ1pDLFVBQVUsRUFBRSxNQUFNO0lBQ2xCQyxTQUFTLEVBQUU7RUFDYjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEUsT0FBQSxHQUVZYyxpQkFBaUIiLCJpZ25vcmVMaXN0IjpbXX0=