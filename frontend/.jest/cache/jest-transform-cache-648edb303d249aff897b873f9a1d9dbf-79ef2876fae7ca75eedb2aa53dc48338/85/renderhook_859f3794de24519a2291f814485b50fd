629ea7b419b6c7eded08ba88b86e3b96
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["initialProps"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.renderHook = renderHook;
var React = _interopRequireWildcard(require("react"));
var _render = require("./render");
function _getRequireWildcardCache(e) {
  if ("function" != typeof WeakMap) return null;
  var r = new WeakMap(),
    t = new WeakMap();
  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {
    return e ? t : r;
  })(e);
}
function _interopRequireWildcard(e, r) {
  if (!r && e && e.__esModule) return e;
  if (null === e || "object" != typeof e && "function" != typeof e) return {
    default: e
  };
  var t = _getRequireWildcardCache(r);
  if (t && t.has(e)) return t.get(e);
  var n = {
      __proto__: null
    },
    a = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) {
    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];
  }
  return n.default = e, t && t.set(e, n), n;
}
function renderHook(hookToRender, options) {
  var _ref = options != null ? options : {},
    initialProps = _ref.initialProps,
    renderOptions = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var result = React.createRef();
  function TestComponent(_ref2) {
    var hookProps = _ref2.hookProps;
    var renderResult = hookToRender(hookProps);
    React.useEffect(function () {
      result.current = renderResult;
    });
    return null;
  }
  var _ref3 = (0, _render.renderInternal)(React.createElement(TestComponent, {
      hookProps: initialProps
    }), renderOptions),
    componentRerender = _ref3.rerender,
    unmount = _ref3.unmount;
  function rerender(hookProps) {
    return componentRerender(React.createElement(TestComponent, {
      hookProps: hookProps
    }));
  }
  return {
    result: result,
    rerender: rerender,
    unmount: unmount
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9yZW5kZXIiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJyZW5kZXJIb29rIiwiaG9va1RvUmVuZGVyIiwib3B0aW9ucyIsIl9yZWYiLCJpbml0aWFsUHJvcHMiLCJyZW5kZXJPcHRpb25zIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIl9leGNsdWRlZCIsInJlc3VsdCIsImNyZWF0ZVJlZiIsIlRlc3RDb21wb25lbnQiLCJfcmVmMiIsImhvb2tQcm9wcyIsInJlbmRlclJlc3VsdCIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJfcmVmMyIsInJlbmRlckludGVybmFsIiwiY3JlYXRlRWxlbWVudCIsImNvbXBvbmVudFJlcmVuZGVyIiwicmVyZW5kZXIiLCJ1bm1vdW50Il0sInNvdXJjZXMiOlsiLi4vc3JjL3JlbmRlci1ob29rLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHJlbmRlckludGVybmFsIH0gZnJvbSAnLi9yZW5kZXInO1xuXG5leHBvcnQgdHlwZSBSZW5kZXJIb29rUmVzdWx0PFJlc3VsdCwgUHJvcHM+ID0ge1xuICByZXJlbmRlcjogKHByb3BzOiBQcm9wcykgPT4gdm9pZDtcbiAgcmVzdWx0OiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PFJlc3VsdD47XG4gIHVubW91bnQ6ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgdHlwZSBSZW5kZXJIb29rT3B0aW9uczxQcm9wcz4gPSB7XG4gIC8qKlxuICAgKiBUaGUgaW5pdGlhbCBwcm9wcyB0byBwYXNzIHRvIHRoZSBob29rLlxuICAgKi9cbiAgaW5pdGlhbFByb3BzPzogUHJvcHM7XG5cbiAgLyoqXG4gICAqIFBhc3MgYSBSZWFjdCBDb21wb25lbnQgYXMgdGhlIHdyYXBwZXIgb3B0aW9uIHRvIGhhdmUgaXQgcmVuZGVyZWQgYXJvdW5kIHRoZSBpbm5lciBlbGVtZW50LiBUaGlzIGlzIG1vc3QgdXNlZnVsIGZvciBjcmVhdGluZ1xuICAgKiByZXVzYWJsZSBjdXN0b20gcmVuZGVyIGZ1bmN0aW9ucyBmb3IgY29tbW9uIGRhdGEgcHJvdmlkZXJzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgd3JhcHBlcj86IFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PjtcblxuICAvKipcbiAgICogU2V0IHRvIGBmYWxzZWAgdG8gZGlzYWJsZSBjb25jdXJyZW50IHJlbmRlcmluZy5cbiAgICogT3RoZXJ3aXNlIGByZW5kZXJIb29rYCB3aWxsIGRlZmF1bHQgdG8gY29uY3VycmVudCByZW5kZXJpbmcuXG4gICAqL1xuICBjb25jdXJyZW50Um9vdD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySG9vazxSZXN1bHQsIFByb3BzPihcbiAgaG9va1RvUmVuZGVyOiAocHJvcHM6IFByb3BzKSA9PiBSZXN1bHQsXG4gIG9wdGlvbnM/OiBSZW5kZXJIb29rT3B0aW9uczxQcm9wcz4sXG4pOiBSZW5kZXJIb29rUmVzdWx0PFJlc3VsdCwgUHJvcHM+IHtcbiAgY29uc3QgeyBpbml0aWFsUHJvcHMsIC4uLnJlbmRlck9wdGlvbnMgfSA9IG9wdGlvbnMgPz8ge307XG5cbiAgY29uc3QgcmVzdWx0OiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PFJlc3VsdCB8IG51bGw+ID0gUmVhY3QuY3JlYXRlUmVmKCk7XG5cbiAgZnVuY3Rpb24gVGVzdENvbXBvbmVudCh7IGhvb2tQcm9wcyB9OiB7IGhvb2tQcm9wczogUHJvcHMgfSkge1xuICAgIGNvbnN0IHJlbmRlclJlc3VsdCA9IGhvb2tUb1JlbmRlcihob29rUHJvcHMpO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50ID0gcmVuZGVyUmVzdWx0O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCB7IHJlcmVuZGVyOiBjb21wb25lbnRSZXJlbmRlciwgdW5tb3VudCB9ID0gcmVuZGVySW50ZXJuYWwoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBzaW5jZSBvcHRpb24gY2FuIGJlIHVuZGVmaW5lZCwgaW5pdGlhbFByb3BzIGNhbiBiZSB1bmRlZmluZWQgd2hlbiBpdCBzaG91bGQnbnRcbiAgICA8VGVzdENvbXBvbmVudCBob29rUHJvcHM9e2luaXRpYWxQcm9wc30gLz4sXG4gICAgcmVuZGVyT3B0aW9ucyxcbiAgKTtcblxuICBmdW5jdGlvbiByZXJlbmRlcihob29rUHJvcHM6IFByb3BzKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudFJlcmVuZGVyKDxUZXN0Q29tcG9uZW50IGhvb2tQcm9wcz17aG9va1Byb3BzfSAvPik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC8vIFJlc3VsdCBzaG91bGQgYWxyZWFkeSBiZSBzZXQgYWZ0ZXIgdGhlIGZpcnN0IHJlbmRlciBlZmZlY3RzIGFyZSBydW4uXG4gICAgcmVzdWx0OiByZXN1bHQgYXMgUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxSZXN1bHQ+LFxuICAgIHJlcmVuZGVyLFxuICAgIHVubW91bnQsXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLE9BQUEsR0FBQUQsT0FBQTtBQUEwQyxTQUFBRSx5QkFBQUMsQ0FBQTtFQUFBLHlCQUFBQyxPQUFBO0VBQUEsSUFBQUMsQ0FBQSxP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