{"version":3,"names":["React","_interopRequireWildcard","require","_render","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","renderHook","hookToRender","options","_ref","initialProps","renderOptions","_objectWithoutProperties2","_excluded","result","createRef","TestComponent","_ref2","hookProps","renderResult","useEffect","current","_ref3","renderInternal","createElement","componentRerender","rerender","unmount"],"sources":["../src/render-hook.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { renderInternal } from './render';\n\nexport type RenderHookResult<Result, Props> = {\n  rerender: (props: Props) => void;\n  result: React.MutableRefObject<Result>;\n  unmount: () => void;\n};\n\nexport type RenderHookOptions<Props> = {\n  /**\n   * The initial props to pass to the hook.\n   */\n  initialProps?: Props;\n\n  /**\n   * Pass a React Component as the wrapper option to have it rendered around the inner element. This is most useful for creating\n   * reusable custom render functions for common data providers.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  wrapper?: React.ComponentType<any>;\n\n  /**\n   * Set to `false` to disable concurrent rendering.\n   * Otherwise `renderHook` will default to concurrent rendering.\n   */\n  concurrentRoot?: boolean;\n};\n\nexport function renderHook<Result, Props>(\n  hookToRender: (props: Props) => Result,\n  options?: RenderHookOptions<Props>,\n): RenderHookResult<Result, Props> {\n  const { initialProps, ...renderOptions } = options ?? {};\n\n  const result: React.MutableRefObject<Result | null> = React.createRef();\n\n  function TestComponent({ hookProps }: { hookProps: Props }) {\n    const renderResult = hookToRender(hookProps);\n\n    React.useEffect(() => {\n      result.current = renderResult;\n    });\n\n    return null;\n  }\n\n  const { rerender: componentRerender, unmount } = renderInternal(\n    // @ts-expect-error since option can be undefined, initialProps can be undefined when it should'nt\n    <TestComponent hookProps={initialProps} />,\n    renderOptions,\n  );\n\n  function rerender(hookProps: Props) {\n    return componentRerender(<TestComponent hookProps={hookProps} />);\n  }\n\n  return {\n    // Result should already be set after the first render effects are run.\n    result: result as React.MutableRefObject<Result>,\n    rerender,\n    unmount,\n  };\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,uBAAA,CAAAC,OAAA;AAEA,IAAAC,OAAA,GAAAD,OAAA;AAA0C,SAAAE,yBAAAC,CAAA;EAAA,yBAAAC,OAAA;EAAA,IAAAC,CAAA,OAAAD,OAAA;IAAAE,CAAA,OAAAF,OAAA;EAAA,QAAAF,wBAAA,YAAAA,yBAAAC,CAAA;IAAA,OAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA;EAAA,GAAAF,CAAA;AAAA;AAAA,SAAAJ,wBAAAI,CAAA,EAAAE,CAAA;EAAA,KAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA;EAAA,aAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA;IAAAK,OAAA,EAAAL;EAAA;EAAA,IAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA;EAAA,IAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA;EAAA,IAAAQ,CAAA;MAAAC,SAAA;IAAA;IAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA;EAAA,SAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA;IAAA,IAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA;IAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA;EAAA;EAAA,OAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA;AA4BnC,SAASW,UAAUA,CACxBC,YAAsC,EACtCC,OAAkC,EACD;EACjC,IAAAC,IAAA,GAA2CD,OAAO,WAAPA,OAAO,GAAI,CAAC,CAAC;IAAhDE,YAAY,GAAAD,IAAA,CAAZC,YAAY;IAAKC,aAAA,OAAAC,yBAAA,CAAApB,OAAA,EAAAiB,IAAA,EAAAI,SAAA;EAEzB,IAAMC,MAA6C,GAAGhC,KAAK,CAACiC,SAAS,CAAC,CAAC;EAEvE,SAASC,aAAaA,CAAAC,KAAA,EAAsC;IAAA,IAAnCC,SAAA,GAAAD,KAAA,CAAAC,SAAA;IACvB,IAAMC,YAAY,GAAGZ,YAAY,CAACW,SAAS,CAAC;IAE5CpC,KAAK,CAACsC,SAAS,CAAC,YAAM;MACpBN,MAAM,CAACO,OAAO,GAAGF,YAAY;IAC/B,CAAC,CAAC;IAEF,OAAO,IAAI;EACb;EAEA,IAAAG,KAAA,GAAiD,IAAArC,OAAA,CAAAsC,cAAc,EAE7DzC,KAAA,CAAA0C,aAAA,CAACR,aAAa;MAACE,SAAS,EAAER;IAAa,CAAE,CAAC,EAC1CC,aACF,CAAC;IAJiBc,iBAAiB,GAAAH,KAAA,CAA3BI,QAAQ;IAAqBC,OAAA,GAAAL,KAAA,CAAAK,OAAA;EAMrC,SAASD,QAAQA,CAACR,SAAgB,EAAE;IAClC,OAAOO,iBAAiB,CAAC3C,KAAA,CAAA0C,aAAA,CAACR,aAAa;MAACE,SAAS,EAAEA;IAAU,CAAE,CAAC,CAAC;EACnE;EAEA,OAAO;IAELJ,MAAM,EAAEA,MAAwC;IAChDY,QAAQ,EAARA,QAAQ;IACRC,OAAA,EAAAA;EACF,CAAC;AACH","ignoreList":[]}