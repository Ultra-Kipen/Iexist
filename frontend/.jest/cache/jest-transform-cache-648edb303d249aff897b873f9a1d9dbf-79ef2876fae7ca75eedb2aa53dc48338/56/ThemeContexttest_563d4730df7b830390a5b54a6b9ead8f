827dce81d9e5e557576bbc8521d5db1e
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn(),
    setItem: jest.fn()
  };
});
_getJestObj().mock('react-native', function () {
  return {
    useColorScheme: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ThemeContext = require("../../src/contexts/ThemeContext");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _reactNative2 = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ThemeContext', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _reactNative2.useColorScheme.mockReturnValue('light');
  });
  it('이전에 저장된 테마를 불러온다', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValue('dark');
    _reactNative2.useColorScheme.mockReturnValue('light');
    var result = yield new Promise(function (resolve) {
      var TestComponent = function TestComponent() {
        var _useTheme = (0, _ThemeContext.useTheme)(),
          theme = _useTheme.theme,
          isDarkMode = _useTheme.isDarkMode;
        _react.default.useEffect(function () {
          if (theme !== 'system') {
            resolve({
              theme: theme,
              isDarkMode: isDarkMode
            });
          }
        }, [theme, isDarkMode]);
        return null;
      };
      (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(TestComponent, {})
      }));
    });
    expect(result.theme).toBe('dark');
    expect(result.isDarkMode).toBe(true);
  }));
  it('시스템 테마가 변경되면 "system" 모드일 때 isDarkMode가 업데이트된다', (0, _asyncToGenerator2.default)(function* () {
    _asyncStorage.default.getItem.mockResolvedValue('system');
    _reactNative2.useColorScheme.mockReturnValue('light');
    var result = yield new Promise(function (resolve) {
      var TestComponent = function TestComponent() {
        var _useTheme2 = (0, _ThemeContext.useTheme)(),
          theme = _useTheme2.theme,
          isDarkMode = _useTheme2.isDarkMode;
        _react.default.useEffect(function () {
          if (theme === 'system') {
            resolve({
              theme: theme,
              isDarkMode: isDarkMode
            });
          }
        }, [theme, isDarkMode]);
        return null;
      };
      (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ThemeContext.ThemeProvider, {
        children: (0, _jsxRuntime.jsx)(TestComponent, {})
      }));
    });
    expect(result.theme).toBe('system');
    expect(result.isDarkMode).toBe(false);
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInVzZUNvbG9yU2NoZW1lIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfVGhlbWVDb250ZXh0IiwiX2FzeW5jU3RvcmFnZSIsIl9yZWFjdE5hdGl2ZTIiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsIml0IiwiZGVmYXVsdCIsIkFzeW5jU3RvcmFnZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwicmVzdWx0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJUZXN0Q29tcG9uZW50IiwiX3VzZVRoZW1lIiwidXNlVGhlbWUiLCJ0aGVtZSIsImlzRGFya01vZGUiLCJSZWFjdCIsInVzZUVmZmVjdCIsInJlbmRlciIsImpzeCIsIlRoZW1lUHJvdmlkZXIiLCJjaGlsZHJlbiIsImV4cGVjdCIsInRvQmUiLCJfdXNlVGhlbWUyIl0sInNvdXJjZXMiOlsiVGhlbWVDb250ZXh0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9jb250ZXh0cy9UaGVtZUNvbnRleHQudGVzdC50c3hcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyLCB1c2VUaGVtZSB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9UaGVtZUNvbnRleHQnO1xyXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcclxuaW1wb3J0IHsgdXNlQ29sb3JTY2hlbWUgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5cclxuLy8gQXN5bmNTdG9yYWdlIOuqqO2CuVxyXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJywgKCkgPT4gKHtcclxuICBnZXRJdGVtOiBqZXN0LmZuKCksXHJcbiAgc2V0SXRlbTogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG4vLyB1c2VDb2xvclNjaGVtZSDrqqjtgrlcclxuamVzdC5tb2NrKCdyZWFjdC1uYXRpdmUnLCAoKSA9PiAoe1xyXG4gIHVzZUNvbG9yU2NoZW1lOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbmRlc2NyaWJlKCdUaGVtZUNvbnRleHQnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIC8vIOy0iOq4sCDsi5zsiqTthZwg7YWM66eI66W8IGxpZ2h066GcIOyEpOyglVxyXG4gICAgKHVzZUNvbG9yU2NoZW1lIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKCdsaWdodCcpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgn7J207KCE7JeQIOyggOyepeuQnCDthYzrp4jrpbwg67aI65+s7Jio64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8g7YWM66eI6rCAICdkYXJrJ+uhnCDsoIDsnqXrkKhcclxuICAgIChBc3luY1N0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKCdkYXJrJyk7XHJcbiAgICBcclxuICAgIC8vIOyLnOyKpO2FnCDthYzrp4jrpbwgbGlnaHTroZwg7Jyg7KeAXHJcbiAgICAodXNlQ29sb3JTY2hlbWUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoJ2xpZ2h0Jyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ldyBQcm9taXNlPHsgdGhlbWU6IHN0cmluZzsgaXNEYXJrTW9kZTogYm9vbGVhbiB9PigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBUZXN0Q29tcG9uZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdGhlbWUsIGlzRGFya01vZGUgfSA9IHVzZVRoZW1lKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgIC8vIO2FjOuniOqwgCBzeXN0ZW3snbQg7JWE64uI6rOgIOuhnOuUqeydtCDsmYTro4zrkJjsl4jsnYQg65WMIHJlc29sdmVcclxuICAgICAgICAgIGlmICh0aGVtZSAhPT0gJ3N5c3RlbScpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZSh7IHRoZW1lLCBpc0RhcmtNb2RlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIFt0aGVtZSwgaXNEYXJrTW9kZV0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cclxuICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDqsoDspp1cclxuICAgIGV4cGVjdChyZXN1bHQudGhlbWUpLnRvQmUoJ2RhcmsnKTtcclxuICAgIGV4cGVjdChyZXN1bHQuaXNEYXJrTW9kZSkudG9CZSh0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ+yLnOyKpO2FnCDthYzrp4jqsIAg67OA6rK965CY66m0IFwic3lzdGVtXCIg66qo65Oc7J28IOuVjCBpc0RhcmtNb2Rl6rCAIOyXheuNsOydtO2KuOuQnOuLpCcsIGFzeW5jICgpID0+IHtcclxuICAgIC8vIOyggOyepeuQnCDthYzrp4jrpbwgc3lzdGVt7Jy866GcIOyEpOyglVxyXG4gICAgKEFzeW5jU3RvcmFnZS5nZXRJdGVtIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoJ3N5c3RlbScpO1xyXG4gICAgXHJcbiAgICAvLyDstIjquLAg7Iuc7Iqk7YWcIO2FjOuniOuKlCBsaWdodFxyXG4gICAgKHVzZUNvbG9yU2NoZW1lIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKCdsaWdodCcpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXcgUHJvbWlzZTx7IHRoZW1lOiBzdHJpbmc7IGlzRGFya01vZGU6IGJvb2xlYW4gfT4oKHJlc29sdmUpID0+IHtcclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IHRoZW1lLCBpc0RhcmtNb2RlIH0gPSB1c2VUaGVtZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAvLyDthYzrp4jqsIAgc3lzdGVt7J206rOgIOuhnOuUqeydtCDsmYTro4zrkJjsl4jsnYQg65WMIHJlc29sdmVcclxuICAgICAgICAgIGlmICh0aGVtZSA9PT0gJ3N5c3RlbScpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZSh7IHRoZW1lLCBpc0RhcmtNb2RlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIFt0aGVtZSwgaXNEYXJrTW9kZV0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cclxuICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDqsoDspp1cclxuICAgIGV4cGVjdChyZXN1bHQudGhlbWUpLnRvQmUoJ3N5c3RlbScpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5pc0RhcmtNb2RlKS50b0JlKGZhbHNlKTtcclxuICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiQUFRQUEs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