a1eef544d5b90c67554d917a41dabe7d
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _NativeEventEmitter = _interopRequireDefault(require("../EventEmitter/NativeEventEmitter"));
var _ModalInjection = _interopRequireDefault(require("./ModalInjection"));
var _NativeModalManager = _interopRequireDefault(require("./NativeModalManager"));
var _RCTModalHostViewNativeComponent = _interopRequireDefault(require("./RCTModalHostViewNativeComponent"));
var _virtualizedLists = require("@react-native/virtualized-lists");
var _jsxRuntime = require("react/jsx-runtime");
var _ModalInjection$unsta;
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ScrollView = require("../Components/ScrollView/ScrollView");
var View = require("../Components/View/View");
var AppContainer = require("../ReactNative/AppContainer");
var I18nManager = require("../ReactNative/I18nManager");
var _require = require("../ReactNative/RootTag"),
  RootTagContext = _require.RootTagContext;
var StyleSheet = require("../StyleSheet/StyleSheet");
var Platform = require("../Utilities/Platform");
var React = require('react');
var ModalEventEmitter = Platform.OS === 'ios' && _NativeModalManager.default != null ? new _NativeEventEmitter.default(Platform.OS !== 'ios' ? null : _NativeModalManager.default) : null;
var uniqueModalIdentifier = 0;
function confirmProps(props) {
  if (true) {
    if (props.presentationStyle && props.presentationStyle !== 'overFullScreen' && props.transparent === true) {
      console.warn(`Modal with '${props.presentationStyle}' presentation style and 'transparent' value is not supported.`);
    }
    if (props.navigationBarTranslucent === true && props.statusBarTranslucent !== true) {
      console.warn('Modal with translucent navigation bar and without translucent status bar is not supported.');
    }
  }
}
var Modal = function (_React$Component) {
  function Modal(props) {
    var _this;
    (0, _classCallCheck2.default)(this, Modal);
    _this = _callSuper(this, Modal, [props]);
    if (true) {
      confirmProps(props);
    }
    _this._identifier = uniqueModalIdentifier++;
    _this.state = {
      isRendered: props.visible === true
    };
    return _this;
  }
  (0, _inherits2.default)(Modal, _React$Component);
  return (0, _createClass2.default)(Modal, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      if (ModalEventEmitter) {
        this._eventSubscription = ModalEventEmitter.addListener('modalDismissed', function (event) {
          _this2.setState({
            isRendered: false
          }, function () {
            if (event.modalID === _this2._identifier && _this2.props.onDismiss) {
              _this2.props.onDismiss();
            }
          });
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (Platform.OS === 'ios') {
        this.setState({
          isRendered: false
        });
      }
      if (this._eventSubscription) {
        this._eventSubscription.remove();
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.visible === false && this.props.visible === true) {
        this.setState({
          isRendered: true
        });
      }
      if (true) {
        confirmProps(this.props);
      }
    }
  }, {
    key: "_shouldShowModal",
    value: function _shouldShowModal() {
      if (Platform.OS === 'ios') {
        return this.props.visible === true || this.state.isRendered === true;
      }
      return this.props.visible === true;
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$backdropC,
        _this3 = this;
      if (!this._shouldShowModal()) {
        return null;
      }
      var containerStyles = {
        backgroundColor: this.props.transparent === true ? 'transparent' : (_this$props$backdropC = this.props.backdropColor) != null ? _this$props$backdropC : 'white'
      };
      var animationType = this.props.animationType || 'none';
      var presentationStyle = this.props.presentationStyle;
      if (!presentationStyle) {
        presentationStyle = 'fullScreen';
        if (this.props.transparent === true) {
          presentationStyle = 'overFullScreen';
        }
      }
      var innerChildren = true ? (0, _jsxRuntime.jsx)(AppContainer, {
        rootTag: this.context,
        children: this.props.children
      }) : this.props.children;
      var onDismiss = function onDismiss() {
        if (Platform.OS === 'ios') {
          _this3.setState({
            isRendered: false
          }, function () {
            if (_this3.props.onDismiss) {
              _this3.props.onDismiss();
            }
          });
        }
      };
      return (0, _jsxRuntime.jsx)(_RCTModalHostViewNativeComponent.default, {
        animationType: animationType,
        presentationStyle: presentationStyle,
        transparent: this.props.transparent,
        hardwareAccelerated: this.props.hardwareAccelerated,
        onRequestClose: this.props.onRequestClose,
        onShow: this.props.onShow,
        onDismiss: onDismiss,
        visible: this.props.visible,
        statusBarTranslucent: this.props.statusBarTranslucent,
        navigationBarTranslucent: this.props.navigationBarTranslucent,
        identifier: this._identifier,
        style: styles.modal,
        onStartShouldSetResponder: this._shouldSetResponder,
        supportedOrientations: this.props.supportedOrientations,
        onOrientationChange: this.props.onOrientationChange,
        testID: this.props.testID,
        children: (0, _jsxRuntime.jsx)(_virtualizedLists.VirtualizedListContextResetter, {
          children: (0, _jsxRuntime.jsx)(ScrollView.Context.Provider, {
            value: null,
            children: (0, _jsxRuntime.jsx)(View, {
              style: [styles.container, containerStyles],
              collapsable: false,
              children: innerChildren
            })
          })
        })
      });
    }
  }, {
    key: "_shouldSetResponder",
    value: function _shouldSetResponder() {
      return true;
    }
  }]);
}(React.Component);
Modal.defaultProps = {
  visible: true,
  hardwareAccelerated: false
};
Modal.contextType = RootTagContext;
var side = I18nManager.getConstants().isRTL ? 'right' : 'left';
var styles = StyleSheet.create({
  modal: {
    position: 'absolute'
  },
  container: (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, side, 0), "top", 0), "flex", 1)
});
var ExportedModal = (_ModalInjection$unsta = _ModalInjection.default.unstable_Modal) != null ? _ModalInjection$unsta : Modal;
module.exports = ExportedModal;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTmF0aXZlRXZlbnRFbWl0dGVyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfTW9kYWxJbmplY3Rpb24iLCJfTmF0aXZlTW9kYWxNYW5hZ2VyIiwiX1JDVE1vZGFsSG9zdFZpZXdOYXRpdmVDb21wb25lbnQiLCJfdmlydHVhbGl6ZWRMaXN0cyIsIl9qc3hSdW50aW1lIiwiX01vZGFsSW5qZWN0aW9uJHVuc3RhIiwiX2NhbGxTdXBlciIsInQiLCJvIiwiZSIsIl9nZXRQcm90b3R5cGVPZjIiLCJkZWZhdWx0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiU2Nyb2xsVmlldyIsIlZpZXciLCJBcHBDb250YWluZXIiLCJJMThuTWFuYWdlciIsIl9yZXF1aXJlIiwiUm9vdFRhZ0NvbnRleHQiLCJTdHlsZVNoZWV0IiwiUGxhdGZvcm0iLCJSZWFjdCIsIk1vZGFsRXZlbnRFbWl0dGVyIiwiT1MiLCJOYXRpdmVNb2RhbE1hbmFnZXIiLCJOYXRpdmVFdmVudEVtaXR0ZXIiLCJ1bmlxdWVNb2RhbElkZW50aWZpZXIiLCJjb25maXJtUHJvcHMiLCJwcm9wcyIsInByZXNlbnRhdGlvblN0eWxlIiwidHJhbnNwYXJlbnQiLCJjb25zb2xlIiwid2FybiIsIm5hdmlnYXRpb25CYXJUcmFuc2x1Y2VudCIsInN0YXR1c0JhclRyYW5zbHVjZW50IiwiTW9kYWwiLCJfUmVhY3QkQ29tcG9uZW50IiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2lkZW50aWZpZXIiLCJzdGF0ZSIsImlzUmVuZGVyZWQiLCJ2aXNpYmxlIiwiX2luaGVyaXRzMiIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsImNvbXBvbmVudERpZE1vdW50IiwiX3RoaXMyIiwiX2V2ZW50U3Vic2NyaXB0aW9uIiwiYWRkTGlzdGVuZXIiLCJldmVudCIsInNldFN0YXRlIiwibW9kYWxJRCIsIm9uRGlzbWlzcyIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiX3Nob3VsZFNob3dNb2RhbCIsInJlbmRlciIsIl90aGlzJHByb3BzJGJhY2tkcm9wQyIsIl90aGlzMyIsImNvbnRhaW5lclN0eWxlcyIsImJhY2tncm91bmRDb2xvciIsImJhY2tkcm9wQ29sb3IiLCJhbmltYXRpb25UeXBlIiwiaW5uZXJDaGlsZHJlbiIsImpzeCIsInJvb3RUYWciLCJjb250ZXh0IiwiY2hpbGRyZW4iLCJoYXJkd2FyZUFjY2VsZXJhdGVkIiwib25SZXF1ZXN0Q2xvc2UiLCJvblNob3ciLCJpZGVudGlmaWVyIiwic3R5bGUiLCJzdHlsZXMiLCJtb2RhbCIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJfc2hvdWxkU2V0UmVzcG9uZGVyIiwic3VwcG9ydGVkT3JpZW50YXRpb25zIiwib25PcmllbnRhdGlvbkNoYW5nZSIsInRlc3RJRCIsIlZpcnR1YWxpemVkTGlzdENvbnRleHRSZXNldHRlciIsIkNvbnRleHQiLCJQcm92aWRlciIsImNvbnRhaW5lciIsImNvbGxhcHNhYmxlIiwiQ29tcG9uZW50IiwiZGVmYXVsdFByb3BzIiwiY29udGV4dFR5cGUiLCJzaWRlIiwiZ2V0Q29uc3RhbnRzIiwiaXNSVEwiLCJjcmVhdGUiLCJwb3NpdGlvbiIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJFeHBvcnRlZE1vZGFsIiwiTW9kYWxJbmplY3Rpb24iLCJ1bnN0YWJsZV9Nb2RhbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJNb2RhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKi9cblxuaW1wb3J0IHR5cGUge1ZpZXdQcm9wc30gZnJvbSAnLi4vQ29tcG9uZW50cy9WaWV3L1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1Jvb3RUYWd9IGZyb20gJy4uL1JlYWN0TmF0aXZlL1Jvb3RUYWcnO1xuaW1wb3J0IHR5cGUge0RpcmVjdEV2ZW50SGFuZGxlcn0gZnJvbSAnLi4vVHlwZXMvQ29kZWdlblR5cGVzJztcblxuaW1wb3J0IE5hdGl2ZUV2ZW50RW1pdHRlciBmcm9tICcuLi9FdmVudEVtaXR0ZXIvTmF0aXZlRXZlbnRFbWl0dGVyJztcbmltcG9ydCB7dHlwZSBFdmVudFN1YnNjcmlwdGlvbn0gZnJvbSAnLi4vdmVuZG9yL2VtaXR0ZXIvRXZlbnRFbWl0dGVyJztcbmltcG9ydCBNb2RhbEluamVjdGlvbiBmcm9tICcuL01vZGFsSW5qZWN0aW9uJztcbmltcG9ydCBOYXRpdmVNb2RhbE1hbmFnZXIgZnJvbSAnLi9OYXRpdmVNb2RhbE1hbmFnZXInO1xuaW1wb3J0IFJDVE1vZGFsSG9zdFZpZXcgZnJvbSAnLi9SQ1RNb2RhbEhvc3RWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCB7VmlydHVhbGl6ZWRMaXN0Q29udGV4dFJlc2V0dGVyfSBmcm9tICdAcmVhY3QtbmF0aXZlL3ZpcnR1YWxpemVkLWxpc3RzJztcblxuY29uc3QgU2Nyb2xsVmlldyA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3Jyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9WaWV3L1ZpZXcnKTtcbmNvbnN0IEFwcENvbnRhaW5lciA9IHJlcXVpcmUoJy4uL1JlYWN0TmF0aXZlL0FwcENvbnRhaW5lcicpO1xuY29uc3QgSTE4bk1hbmFnZXIgPSByZXF1aXJlKCcuLi9SZWFjdE5hdGl2ZS9JMThuTWFuYWdlcicpO1xuY29uc3Qge1Jvb3RUYWdDb250ZXh0fSA9IHJlcXVpcmUoJy4uL1JlYWN0TmF0aXZlL1Jvb3RUYWcnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnKTtcbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnLi4vVXRpbGl0aWVzL1BsYXRmb3JtJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnR5cGUgTW9kYWxFdmVudERlZmluaXRpb25zID0ge1xuICBtb2RhbERpc21pc3NlZDogW3ttb2RhbElEOiBudW1iZXJ9XSxcbn07XG5cbmNvbnN0IE1vZGFsRXZlbnRFbWl0dGVyID1cbiAgUGxhdGZvcm0uT1MgPT09ICdpb3MnICYmIE5hdGl2ZU1vZGFsTWFuYWdlciAhPSBudWxsXG4gICAgPyBuZXcgTmF0aXZlRXZlbnRFbWl0dGVyPE1vZGFsRXZlbnREZWZpbml0aW9ucz4oXG4gICAgICAgIC8vIFQ4ODcxNTA2MzogTmF0aXZlRXZlbnRFbWl0dGVyIG9ubHkgdXNlZCB0aGlzIHBhcmFtZXRlciBvbiBpT1MuIE5vdyBpdCB1c2VzIGl0IG9uIGFsbCBwbGF0Zm9ybXMsIHNvIHRoaXMgY29kZSB3YXMgbW9kaWZpZWQgYXV0b21hdGljYWxseSB0byBwcmVzZXJ2ZSBpdHMgYmVoYXZpb3JcbiAgICAgICAgLy8gSWYgeW91IHdhbnQgdG8gdXNlIHRoZSBuYXRpdmUgbW9kdWxlIG9uIG90aGVyIHBsYXRmb3JtcywgcGxlYXNlIHJlbW92ZSB0aGlzIGNvbmRpdGlvbiBhbmQgdGVzdCBpdHMgYmVoYXZpb3JcbiAgICAgICAgUGxhdGZvcm0uT1MgIT09ICdpb3MnID8gbnVsbCA6IE5hdGl2ZU1vZGFsTWFuYWdlcixcbiAgICAgIClcbiAgICA6IG51bGw7XG5cbi8qKlxuICogVGhlIE1vZGFsIGNvbXBvbmVudCBpcyBhIHNpbXBsZSB3YXkgdG8gcHJlc2VudCBjb250ZW50IGFib3ZlIGFuIGVuY2xvc2luZyB2aWV3LlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsXG4gKi9cblxuLy8gSW4gb3JkZXIgdG8gcm91dGUgb25EaXNtaXNzIGNhbGxiYWNrcywgd2UgbmVlZCB0byB1bmlxdWVseSBpZGVudGlmaWVyIGVhY2hcbi8vIDxNb2RhbD4gb24gc2NyZWVuLiBUaGVyZSBjYW4gYmUgZGlmZmVyZW50IG9uZXMsIGVpdGhlciBuZXN0ZWQgb3IgYXMgc2libGluZ3MuXG4vLyBXZSBjYW5ub3QgcGFzcyB0aGUgb25EaXNtaXNzIGNhbGxiYWNrIHRvIG5hdGl2ZSBhcyB0aGUgdmlldyB3aWxsIGJlXG4vLyBkZXN0cm95ZWQgYmVmb3JlIHRoZSBjYWxsYmFjayBpcyBmaXJlZC5cbmxldCB1bmlxdWVNb2RhbElkZW50aWZpZXIgPSAwO1xuXG50eXBlIE9yaWVudGF0aW9uQ2hhbmdlRXZlbnQgPSAkUmVhZE9ubHk8e3xcbiAgb3JpZW50YXRpb246ICdwb3J0cmFpdCcgfCAnbGFuZHNjYXBlJyxcbnx9PjtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuXG4gIC8qKlxuICAgKiBUaGUgYGFuaW1hdGlvblR5cGVgIHByb3AgY29udHJvbHMgaG93IHRoZSBtb2RhbCBhbmltYXRlcy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwjYW5pbWF0aW9udHlwZVxuICAgKi9cbiAgYW5pbWF0aW9uVHlwZT86ID8oJ25vbmUnIHwgJ3NsaWRlJyB8ICdmYWRlJyksXG5cbiAgLyoqXG4gICAqIFRoZSBgcHJlc2VudGF0aW9uU3R5bGVgIHByb3AgY29udHJvbHMgaG93IHRoZSBtb2RhbCBhcHBlYXJzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCNwcmVzZW50YXRpb25zdHlsZVxuICAgKi9cbiAgcHJlc2VudGF0aW9uU3R5bGU/OiA/KFxuICAgIHwgJ2Z1bGxTY3JlZW4nXG4gICAgfCAncGFnZVNoZWV0J1xuICAgIHwgJ2Zvcm1TaGVldCdcbiAgICB8ICdvdmVyRnVsbFNjcmVlbidcbiAgKSxcblxuICAvKipcbiAgICogVGhlIGB0cmFuc3BhcmVudGAgcHJvcCBkZXRlcm1pbmVzIHdoZXRoZXIgeW91ciBtb2RhbCB3aWxsIGZpbGwgdGhlXG4gICAqIGVudGlyZSB2aWV3LlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCN0cmFuc3BhcmVudFxuICAgKi9cbiAgdHJhbnNwYXJlbnQ/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogVGhlIGBzdGF0dXNCYXJUcmFuc2x1Y2VudGAgcHJvcCBkZXRlcm1pbmVzIHdoZXRoZXIgeW91ciBtb2RhbCBzaG91bGQgZ28gdW5kZXJcbiAgICogdGhlIHN5c3RlbSBzdGF0dXNiYXIuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsLmh0bWwjc3RhdHVzYmFydHJhbnNsdWNlbnQtYW5kcm9pZFxuICAgKi9cbiAgc3RhdHVzQmFyVHJhbnNsdWNlbnQ/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogVGhlIGBuYXZpZ2F0aW9uQmFyVHJhbnNsdWNlbnRgIHByb3AgZGV0ZXJtaW5lcyB3aGV0aGVyIHlvdXIgbW9kYWwgc2hvdWxkIGdvIHVuZGVyXG4gICAqIHRoZSBzeXN0ZW0gbmF2aWdhdGlvbmJhci5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwuaHRtbCNuYXZpZ2F0aW9uYmFydHJhbnNsdWNlbnQtYW5kcm9pZFxuICAgKi9cbiAgbmF2aWdhdGlvbkJhclRyYW5zbHVjZW50PzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFRoZSBgaGFyZHdhcmVBY2NlbGVyYXRlZGAgcHJvcCBjb250cm9scyB3aGV0aGVyIHRvIGZvcmNlIGhhcmR3YXJlXG4gICAqIGFjY2VsZXJhdGlvbiBmb3IgdGhlIHVuZGVybHlpbmcgd2luZG93LlxuICAgKlxuICAgKiBUaGlzIHByb3Agd29ya3Mgb25seSBvbiBBbmRyb2lkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCNoYXJkd2FyZWFjY2VsZXJhdGVkXG4gICAqL1xuICBoYXJkd2FyZUFjY2VsZXJhdGVkPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFRoZSBgdmlzaWJsZWAgcHJvcCBkZXRlcm1pbmVzIHdoZXRoZXIgeW91ciBtb2RhbCBpcyB2aXNpYmxlLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCN2aXNpYmxlXG4gICAqL1xuICB2aXNpYmxlPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFRoZSBgb25SZXF1ZXN0Q2xvc2VgIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHRhcHMgdGhlIGhhcmR3YXJlXG4gICAqIGJhY2sgYnV0dG9uIG9uIEFuZHJvaWQgb3IgdGhlIG1lbnUgYnV0dG9uIG9uIEFwcGxlIFRWLlxuICAgKlxuICAgKiBUaGlzIGlzIHJlcXVpcmVkIG9uIEFwcGxlIFRWIGFuZCBBbmRyb2lkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCNvbnJlcXVlc3RjbG9zZVxuICAgKi9cbiAgb25SZXF1ZXN0Q2xvc2U/OiA/RGlyZWN0RXZlbnRIYW5kbGVyPG51bGw+LFxuXG4gIC8qKlxuICAgKiBUaGUgYG9uU2hvd2AgcHJvcCBhbGxvd3MgcGFzc2luZyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSB0aGVcbiAgICogbW9kYWwgaGFzIGJlZW4gc2hvd24uXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsI29uc2hvd1xuICAgKi9cbiAgb25TaG93PzogP0RpcmVjdEV2ZW50SGFuZGxlcjxudWxsPixcblxuICAvKipcbiAgICogVGhlIGBvbkRpc21pc3NgIHByb3AgYWxsb3dzIHBhc3NpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2VcbiAgICogdGhlIG1vZGFsIGhhcyBiZWVuIGRpc21pc3NlZC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwjb25kaXNtaXNzXG4gICAqL1xuICBvbkRpc21pc3M/OiA/KCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIFRoZSBgc3VwcG9ydGVkT3JpZW50YXRpb25zYCBwcm9wIGFsbG93cyB0aGUgbW9kYWwgdG8gYmUgcm90YXRlZCB0byBhbnkgb2YgdGhlIHNwZWNpZmllZCBvcmllbnRhdGlvbnMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsI3N1cHBvcnRlZG9yaWVudGF0aW9uc1xuICAgKi9cbiAgc3VwcG9ydGVkT3JpZW50YXRpb25zPzogPyRSZWFkT25seUFycmF5PFxuICAgIHwgJ3BvcnRyYWl0J1xuICAgIHwgJ3BvcnRyYWl0LXVwc2lkZS1kb3duJ1xuICAgIHwgJ2xhbmRzY2FwZSdcbiAgICB8ICdsYW5kc2NhcGUtbGVmdCdcbiAgICB8ICdsYW5kc2NhcGUtcmlnaHQnLFxuICA+LFxuXG4gIC8qKlxuICAgKiBUaGUgYG9uT3JpZW50YXRpb25DaGFuZ2VgIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIHRoZSBvcmllbnRhdGlvbiBjaGFuZ2VzIHdoaWxlIHRoZSBtb2RhbCBpcyBiZWluZyBkaXNwbGF5ZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsI29ub3JpZW50YXRpb25jaGFuZ2VcbiAgICovXG4gIG9uT3JpZW50YXRpb25DaGFuZ2U/OiA/RGlyZWN0RXZlbnRIYW5kbGVyPE9yaWVudGF0aW9uQ2hhbmdlRXZlbnQ+LFxuXG4gIC8qKlxuICAgKiBUaGUgYGJhY2tkcm9wQ29sb3JgIHByb3BzIHNldHMgdGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIG1vZGFsJ3MgY29udGFpbmVyLlxuICAgKiBEZWZhdWx0cyB0byBgd2hpdGVgIGlmIG5vdCBwcm92aWRlZCBhbmQgdHJhbnNwYXJlbnQgaXMgYGZhbHNlYC4gSWdub3JlZCBpZiBgdHJhbnNwYXJlbnRgIGlzIGB0cnVlYC5cbiAgICovXG4gIGJhY2tkcm9wQ29sb3I/OiA/c3RyaW5nLFxufH0+O1xuXG5mdW5jdGlvbiBjb25maXJtUHJvcHMocHJvcHM6IFByb3BzKSB7XG4gIGlmIChfX0RFVl9fKSB7XG4gICAgaWYgKFxuICAgICAgcHJvcHMucHJlc2VudGF0aW9uU3R5bGUgJiZcbiAgICAgIHByb3BzLnByZXNlbnRhdGlvblN0eWxlICE9PSAnb3ZlckZ1bGxTY3JlZW4nICYmXG4gICAgICBwcm9wcy50cmFuc3BhcmVudCA9PT0gdHJ1ZVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgTW9kYWwgd2l0aCAnJHtwcm9wcy5wcmVzZW50YXRpb25TdHlsZX0nIHByZXNlbnRhdGlvbiBzdHlsZSBhbmQgJ3RyYW5zcGFyZW50JyB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkLmAsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBwcm9wcy5uYXZpZ2F0aW9uQmFyVHJhbnNsdWNlbnQgPT09IHRydWUgJiZcbiAgICAgIHByb3BzLnN0YXR1c0JhclRyYW5zbHVjZW50ICE9PSB0cnVlXG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdNb2RhbCB3aXRoIHRyYW5zbHVjZW50IG5hdmlnYXRpb24gYmFyIGFuZCB3aXRob3V0IHRyYW5zbHVjZW50IHN0YXR1cyBiYXIgaXMgbm90IHN1cHBvcnRlZC4nLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQ3JlYXRlIGEgc3RhdGUgdG8gdHJhY2sgd2hldGhlciB0aGUgTW9kYWwgaXMgcmVuZGVyaW5nIG9yIG5vdC5cbi8vIFRoaXMgaXMgdGhlIG9ubHkgcHJvcCB0aGF0IGNvbnRyb2xzIHdoZXRoZXIgdGhlIG1vZGFsIGlzIHJlbmRlcmVkIG9yIG5vdC5cbnR5cGUgU3RhdGUgPSB7XG4gIGlzUmVuZGVyZWQ6IGJvb2xlYW4sXG59O1xuXG5jbGFzcyBNb2RhbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wczoge3xoYXJkd2FyZUFjY2VsZXJhdGVkOiBib29sZWFuLCB2aXNpYmxlOiBib29sZWFufH0gPSB7XG4gICAgdmlzaWJsZTogdHJ1ZSxcbiAgICBoYXJkd2FyZUFjY2VsZXJhdGVkOiBmYWxzZSxcbiAgfTtcblxuICBzdGF0aWMgY29udGV4dFR5cGU6IFJlYWN0LkNvbnRleHQ8Um9vdFRhZz4gPSBSb290VGFnQ29udGV4dDtcblxuICBfaWRlbnRpZmllcjogbnVtYmVyO1xuICBfZXZlbnRTdWJzY3JpcHRpb246ID9FdmVudFN1YnNjcmlwdGlvbjtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGNvbmZpcm1Qcm9wcyhwcm9wcyk7XG4gICAgfVxuICAgIHRoaXMuX2lkZW50aWZpZXIgPSB1bmlxdWVNb2RhbElkZW50aWZpZXIrKztcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZW5kZXJlZDogcHJvcHMudmlzaWJsZSA9PT0gdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gJ21vZGFsRGlzbWlzc2VkJyBpcyBmb3IgdGhlIG9sZCByZW5kZXJlciBpbiBpT1Mgb25seVxuICAgIGlmIChNb2RhbEV2ZW50RW1pdHRlcikge1xuICAgICAgdGhpcy5fZXZlbnRTdWJzY3JpcHRpb24gPSBNb2RhbEV2ZW50RW1pdHRlci5hZGRMaXN0ZW5lcihcbiAgICAgICAgJ21vZGFsRGlzbWlzc2VkJyxcbiAgICAgICAgZXZlbnQgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzUmVuZGVyZWQ6IGZhbHNlfSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50Lm1vZGFsSUQgPT09IHRoaXMuX2lkZW50aWZpZXIgJiYgdGhpcy5wcm9wcy5vbkRpc21pc3MpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNSZW5kZXJlZDogZmFsc2V9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLl9ldmVudFN1YnNjcmlwdGlvbi5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGlmIChwcmV2UHJvcHMudmlzaWJsZSA9PT0gZmFsc2UgJiYgdGhpcy5wcm9wcy52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtpc1JlbmRlcmVkOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGNvbmZpcm1Qcm9wcyh0aGlzLnByb3BzKTtcbiAgICB9XG4gIH1cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZW5jYXBzdWxhdGUgcGxhdGZvcm0gc3BlY2lmaWMgbG9naWMgdG8gc2hvdyBvciBub3QgdGhlIE1vZGFsLlxuICBfc2hvdWxkU2hvd01vZGFsKCk6IGJvb2xlYW4ge1xuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnZpc2libGUgPT09IHRydWUgfHwgdGhpcy5zdGF0ZS5pc1JlbmRlcmVkID09PSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb3BzLnZpc2libGUgPT09IHRydWU7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgaWYgKCF0aGlzLl9zaG91bGRTaG93TW9kYWwoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyU3R5bGVzID0ge1xuICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICB0aGlzLnByb3BzLnRyYW5zcGFyZW50ID09PSB0cnVlXG4gICAgICAgICAgPyAndHJhbnNwYXJlbnQnXG4gICAgICAgICAgOiB0aGlzLnByb3BzLmJhY2tkcm9wQ29sb3IgPz8gJ3doaXRlJyxcbiAgICB9O1xuXG4gICAgbGV0IGFuaW1hdGlvblR5cGUgPSB0aGlzLnByb3BzLmFuaW1hdGlvblR5cGUgfHwgJ25vbmUnO1xuXG4gICAgbGV0IHByZXNlbnRhdGlvblN0eWxlID0gdGhpcy5wcm9wcy5wcmVzZW50YXRpb25TdHlsZTtcbiAgICBpZiAoIXByZXNlbnRhdGlvblN0eWxlKSB7XG4gICAgICBwcmVzZW50YXRpb25TdHlsZSA9ICdmdWxsU2NyZWVuJztcbiAgICAgIGlmICh0aGlzLnByb3BzLnRyYW5zcGFyZW50ID09PSB0cnVlKSB7XG4gICAgICAgIHByZXNlbnRhdGlvblN0eWxlID0gJ292ZXJGdWxsU2NyZWVuJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbm5lckNoaWxkcmVuID0gX19ERVZfXyA/IChcbiAgICAgIDxBcHBDb250YWluZXIgcm9vdFRhZz17dGhpcy5jb250ZXh0fT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L0FwcENvbnRhaW5lcj5cbiAgICApIDogKFxuICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICk7XG5cbiAgICBjb25zdCBvbkRpc21pc3MgPSAoKSA9PiB7XG4gICAgICAvLyBPbkRpc21pc3MgaXMgaW1wbGVtZW50ZWQgb24gaU9TIG9ubHkuXG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzUmVuZGVyZWQ6IGZhbHNlfSwgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uRGlzbWlzcykge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJDVE1vZGFsSG9zdFZpZXdcbiAgICAgICAgYW5pbWF0aW9uVHlwZT17YW5pbWF0aW9uVHlwZX1cbiAgICAgICAgcHJlc2VudGF0aW9uU3R5bGU9e3ByZXNlbnRhdGlvblN0eWxlfVxuICAgICAgICB0cmFuc3BhcmVudD17dGhpcy5wcm9wcy50cmFuc3BhcmVudH1cbiAgICAgICAgaGFyZHdhcmVBY2NlbGVyYXRlZD17dGhpcy5wcm9wcy5oYXJkd2FyZUFjY2VsZXJhdGVkfVxuICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZX1cbiAgICAgICAgb25TaG93PXt0aGlzLnByb3BzLm9uU2hvd31cbiAgICAgICAgb25EaXNtaXNzPXtvbkRpc21pc3N9XG4gICAgICAgIHZpc2libGU9e3RoaXMucHJvcHMudmlzaWJsZX1cbiAgICAgICAgc3RhdHVzQmFyVHJhbnNsdWNlbnQ9e3RoaXMucHJvcHMuc3RhdHVzQmFyVHJhbnNsdWNlbnR9XG4gICAgICAgIG5hdmlnYXRpb25CYXJUcmFuc2x1Y2VudD17dGhpcy5wcm9wcy5uYXZpZ2F0aW9uQmFyVHJhbnNsdWNlbnR9XG4gICAgICAgIGlkZW50aWZpZXI9e3RoaXMuX2lkZW50aWZpZXJ9XG4gICAgICAgIHN0eWxlPXtzdHlsZXMubW9kYWx9XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcj17dGhpcy5fc2hvdWxkU2V0UmVzcG9uZGVyfVxuICAgICAgICBzdXBwb3J0ZWRPcmllbnRhdGlvbnM9e3RoaXMucHJvcHMuc3VwcG9ydGVkT3JpZW50YXRpb25zfVxuICAgICAgICBvbk9yaWVudGF0aW9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uT3JpZW50YXRpb25DaGFuZ2V9XG4gICAgICAgIHRlc3RJRD17dGhpcy5wcm9wcy50ZXN0SUR9PlxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q29udGV4dFJlc2V0dGVyPlxuICAgICAgICAgIDxTY3JvbGxWaWV3LkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e251bGx9PlxuICAgICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV1cbiAgICAgICAgICAgICAgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyLCBjb250YWluZXJTdHlsZXNdfVxuICAgICAgICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9PlxuICAgICAgICAgICAgICB7aW5uZXJDaGlsZHJlbn1cbiAgICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgICA8L1Njcm9sbFZpZXcuQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDb250ZXh0UmVzZXR0ZXI+XG4gICAgICA8L1JDVE1vZGFsSG9zdFZpZXc+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFdlIGRvbid0IHdhbnQgYW55IHJlc3BvbmRlciBldmVudHMgYnViYmxpbmcgb3V0IG9mIHRoZSBtb2RhbC5cbiAgX3Nob3VsZFNldFJlc3BvbmRlcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5jb25zdCBzaWRlID0gSTE4bk1hbmFnZXIuZ2V0Q29uc3RhbnRzKCkuaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnO1xuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBtb2RhbDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB9LFxuICBjb250YWluZXI6IHtcbiAgICAvKiAkRmxvd0ZpeE1lW2ludmFsaWQtY29tcHV0ZWQtcHJvcF0gKD49MC4xMTEuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpc1xuICAgICAqIGNvbW1lbnQgc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuMTExIHdhcyBkZXBsb3llZC4gVG8gc2VlXG4gICAgICogdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXVxuICAgIFtzaWRlXTogMCxcbiAgICB0b3A6IDAsXG4gICAgZmxleDogMSxcbiAgfSxcbn0pO1xuXG5jb25zdCBFeHBvcnRlZE1vZGFsOiBSZWFjdC5Db21wb25lbnRUeXBlPFJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIE1vZGFsPj4gPVxuICBNb2RhbEluamVjdGlvbi51bnN0YWJsZV9Nb2RhbCA/PyBNb2RhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBFeHBvcnRlZE1vZGFsO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBY0EsSUFBQUEsbUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLG1CQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxnQ0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksaUJBQUEsR0FBQUosT0FBQTtBQUErRSxJQUFBSyxXQUFBLEdBQUFMLE9BQUE7QUFBQSxJQUFBTSxxQkFBQTtBQUFBLFNBQUFDLFdBQUFDLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFdBQUFELENBQUEsT0FBQUUsZ0JBQUEsQ0FBQUMsT0FBQSxFQUFBSCxDQUFBLE9BQUFJLDJCQUFBLENBQUFELE9BQUEs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