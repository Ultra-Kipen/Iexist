b17bc84d028c9ac71d550041b1e47898
_getJestObj().mock("../../assets/images/default_avatar.png", function () {
  return 'default_avatar';
});
_getJestObj().mock("../../assets/images/anonymous_avatar.png", function () {
  return 'anonymous_avatar';
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ComfortWallPost = _interopRequireDefault(require("../../src/components/ComfortWallPost"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ComfortWallPost', function () {
  var mockPost = {
    post_id: 1,
    title: 'ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º',
    content: 'Ïù¥Í≤ÉÏùÄ ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º ÎÇ¥Ïö©ÏûÖÎãàÎã§.',
    created_at: '2025-04-20T12:34:56.000Z',
    like_count: 10,
    comment_count: 5,
    is_anonymous: false,
    user: {
      nickname: 'ÌÖåÏä§ÌÑ∞',
      profile_image_url: 'https://example.com/profile.jpg'
    },
    comments: [{
      comment_id: 1,
      user_id: 2,
      content: 'Ï≤´ Î≤àÏß∏ ÎåìÍ∏ÄÏûÖÎãàÎã§.',
      is_anonymous: false,
      created_at: '2025-04-20T13:00:00.000Z',
      user: {
        nickname: 'ÎåìÍ∏ÄÏûëÏÑ±Ïûê'
      }
    }, {
      comment_id: 2,
      user_id: 3,
      content: 'Îëê Î≤àÏß∏ ÎåìÍ∏ÄÏûÖÎãàÎã§.',
      is_anonymous: true,
      created_at: '2025-04-20T13:10:00.000Z'
    }]
  };
  var mockHandlers = {
    onLikePress: jest.fn(),
    onCommentPress: jest.fn(),
    onPostPress: jest.fn()
  };
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it('renders post details correctly', function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: mockPost
      }, mockHandlers))),
      getByText = _render.getByText;
    expect(getByText('ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º')).toBeTruthy();
    expect(getByText('Ïù¥Í≤ÉÏùÄ ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º ÎÇ¥Ïö©ÏûÖÎãàÎã§.')).toBeTruthy();
    expect(getByText('ÌÖåÏä§ÌÑ∞')).toBeTruthy();
    expect(getByText(/‚ô• Ï¢ãÏïÑÏöî 10/)).toBeTruthy();
    expect(getByText(/üí¨ ÎåìÍ∏Ä 5/)).toBeTruthy();
  });
  it('displays formatted date correctly', function () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: mockPost
      }, mockHandlers))),
      getByText = _render2.getByText;
    expect(getByText(/2025ÎÖÑ 04Ïõî 20Ïùº/)).toBeTruthy();
  });
  it('shows anonymous user when post is anonymous', function () {
    var anonymousPost = Object.assign({}, mockPost, {
      is_anonymous: true
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: anonymousPost
      }, mockHandlers))),
      getByText = _render3.getByText;
    expect(getByText('ÏùµÎ™Ö')).toBeTruthy();
  });
  it('truncates long content and shows "Îçî Î≥¥Í∏∞" button', function () {
    var longContentPost = Object.assign({}, mockPost, {
      content: 'A'.repeat(200)
    });
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: longContentPost
      }, mockHandlers))),
      getByText = _render4.getByText;
    expect(getByText('Îçî Î≥¥Í∏∞')).toBeTruthy();
    _reactNative.fireEvent.press(getByText('Îçî Î≥¥Í∏∞'));
    expect(getByText('Ï†ëÍ∏∞')).toBeTruthy();
  });
  it('displays image when image_url is provided', function () {
    var postWithImage = Object.assign({}, mockPost, {
      image_url: 'https://example.com/image.jpg'
    });
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: postWithImage
      }, mockHandlers))),
      getByTestId = _render5.getByTestId;
    var postImage = getByTestId('post-image');
    expect(postImage.props.source).toEqual({
      uri: 'https://example.com/image.jpg'
    });
  });
  it('calls onLikePress when like button is pressed', function () {
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: mockPost
      }, mockHandlers))),
      getByText = _render6.getByText;
    _reactNative.fireEvent.press(getByText(/‚ô• Ï¢ãÏïÑÏöî 10/));
    expect(mockHandlers.onLikePress).toHaveBeenCalledWith(mockPost.post_id);
    expect(getByText(/‚ô• Ï¢ãÏïÑÏöî 11/)).toBeTruthy();
  });
  it('calls onCommentPress when comment button is pressed', function () {
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: mockPost
      }, mockHandlers))),
      getByText = _render7.getByText;
    _reactNative.fireEvent.press(getByText(/üí¨ ÎåìÍ∏Ä 5/));
    expect(mockHandlers.onCommentPress).toHaveBeenCalledWith(mockPost.post_id);
  });
  it('calls onPostPress when post title is pressed', function () {
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: mockPost
      }, mockHandlers))),
      getByText = _render8.getByText;
    _reactNative.fireEvent.press(getByText('ÌÖåÏä§Ìä∏ Í≤åÏãúÎ¨º'));
    expect(mockHandlers.onPostPress).toHaveBeenCalledWith(mockPost.post_id);
  });
  it('shows comment previews', function () {
    var _render9 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: mockPost
      }, mockHandlers))),
      getByText = _render9.getByText;
    expect(getByText('ÎåìÍ∏ÄÏûëÏÑ±Ïûê:')).toBeTruthy();
    expect(getByText('Ï≤´ Î≤àÏß∏ ÎåìÍ∏ÄÏûÖÎãàÎã§.')).toBeTruthy();
    expect(getByText('ÏùµÎ™Ö:')).toBeTruthy();
    expect(getByText('Îëê Î≤àÏß∏ ÎåìÍ∏ÄÏûÖÎãàÎã§.')).toBeTruthy();
  });
  it('handles pre-liked state correctly', function () {
    var _render10 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ComfortWallPost.default, Object.assign({
        post: mockPost
      }, mockHandlers, {
        isLiked: true
      }))),
      getByText = _render10.getByText;
    var likeButton = getByText(/‚ô• Ï¢ãÏïÑÏöî 10/);
    expect(likeButton).toBeTruthy();
    _reactNative.fireEvent.press(likeButton);
    expect(mockHandlers.onLikePress).toHaveBeenCalledWith(mockPost.post_id);
    expect(getByText(/‚ô• Ï¢ãÏïÑÏöî 9/)).toBeTruthy();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9Db21mb3J0V2FsbFBvc3QiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiamVzdCIsImRlc2NyaWJlIiwibW9ja1Bvc3QiLCJwb3N0X2lkIiwidGl0bGUiLCJjb250ZW50IiwiY3JlYXRlZF9hdCIsImxpa2VfY291bnQiLCJjb21tZW50X2NvdW50IiwiaXNfYW5vbnltb3VzIiwidXNlciIsIm5pY2tuYW1lIiwicHJvZmlsZV9pbWFnZV91cmwiLCJjb21tZW50cyIsImNvbW1lbnRfaWQiLCJ1c2VyX2lkIiwibW9ja0hhbmRsZXJzIiwib25MaWtlUHJlc3MiLCJmbiIsIm9uQ29tbWVudFByZXNzIiwib25Qb3N0UHJlc3MiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiX3JlbmRlciIsInJlbmRlciIsImpzeCIsImRlZmF1bHQiLCJPYmplY3QiLCJhc3NpZ24iLCJwb3N0IiwiZ2V0QnlUZXh0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXIyIiwiYW5vbnltb3VzUG9zdCIsIl9yZW5kZXIzIiwibG9uZ0NvbnRlbnRQb3N0IiwicmVwZWF0IiwiX3JlbmRlcjQiLCJmaXJlRXZlbnQiLCJwcmVzcyIsInBvc3RXaXRoSW1hZ2UiLCJpbWFnZV91cmwiLCJfcmVuZGVyNSIsImdldEJ5VGVzdElkIiwicG9zdEltYWdlIiwicHJvcHMiLCJzb3VyY2UiLCJ0b0VxdWFsIiwidXJpIiwiX3JlbmRlcjYiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIl9yZW5kZXI3IiwiX3JlbmRlcjgiLCJfcmVuZGVyOSIsIl9yZW5kZXIxMCIsImlzTGlrZWQiLCJsaWtlQnV0dG9uIl0sInNvdXJjZXMiOlsiQ29tZm9ydFdhbGxQb3N0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHRlc3RzL2NvbXBvbmVudHMvQ29tZm9ydFdhbGxQb3N0LnRlc3QudHN4XHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgQ29tZm9ydFdhbGxQb3N0IGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbWZvcnRXYWxsUG9zdCc7XHJcblxyXG4vLyDsnbTrr7jsp4Ag66qo7YK5XHJcbmplc3QubW9jaygnLi4vLi4vYXNzZXRzL2ltYWdlcy9kZWZhdWx0X2F2YXRhci5wbmcnLCAoKSA9PiAnZGVmYXVsdF9hdmF0YXInKTtcclxuamVzdC5tb2NrKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2Fub255bW91c19hdmF0YXIucG5nJywgKCkgPT4gJ2Fub255bW91c19hdmF0YXInKTtcclxuXHJcbmRlc2NyaWJlKCdDb21mb3J0V2FsbFBvc3QnLCAoKSA9PiB7XHJcbiAgY29uc3QgbW9ja1Bvc3QgPSB7XHJcbiAgICBwb3N0X2lkOiAxLFxyXG4gICAgdGl0bGU6ICfthYzsiqTtirgg6rKM7Iuc66y8JyxcclxuICAgIGNvbnRlbnQ6ICfsnbTqsoPsnYAg7YWM7Iqk7Yq4IOqyjOyLnOusvCDrgrTsmqnsnoXri4jri6QuJyxcclxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTA0LTIwVDEyOjM0OjU2LjAwMFonLFxyXG4gICAgbGlrZV9jb3VudDogMTAsXHJcbiAgICBjb21tZW50X2NvdW50OiA1LFxyXG4gICAgaXNfYW5vbnltb3VzOiBmYWxzZSxcclxuICAgIHVzZXI6IHtcclxuICAgICAgbmlja25hbWU6ICfthYzsiqTthLAnLFxyXG4gICAgICBwcm9maWxlX2ltYWdlX3VybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vcHJvZmlsZS5qcGcnLFxyXG4gICAgfSxcclxuICAgIGNvbW1lbnRzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBjb21tZW50X2lkOiAxLFxyXG4gICAgICAgIHVzZXJfaWQ6IDIsXHJcbiAgICAgICAgY29udGVudDogJ+yyqyDrsojsp7gg64yT6riA7J6F64uI64ukLicsXHJcbiAgICAgICAgaXNfYW5vbnltb3VzOiBmYWxzZSxcclxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wNC0yMFQxMzowMDowMC4wMDBaJyxcclxuICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICBuaWNrbmFtZTogJ+uMk+q4gOyekeyEseyekCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGNvbW1lbnRfaWQ6IDIsXHJcbiAgICAgICAgdXNlcl9pZDogMyxcclxuICAgICAgICBjb250ZW50OiAn65GQIOuyiOynuCDrjJPquIDsnoXri4jri6QuJyxcclxuICAgICAgICBpc19hbm9ueW1vdXM6IHRydWUsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDQtMjBUMTM6MTA6MDAuMDAwWicsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1vY2tIYW5kbGVycyA9IHtcclxuICAgIG9uTGlrZVByZXNzOiBqZXN0LmZuKCksXHJcbiAgICBvbkNvbW1lbnRQcmVzczogamVzdC5mbigpLFxyXG4gICAgb25Qb3N0UHJlc3M6IGplc3QuZm4oKSxcclxuICB9O1xyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgncmVuZGVycyBwb3N0IGRldGFpbHMgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcihcclxuICAgICAgPENvbWZvcnRXYWxsUG9zdCBwb3N0PXttb2NrUG9zdH0gey4uLm1vY2tIYW5kbGVyc30gLz5cclxuICAgICk7XHJcbiAgICBcclxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+2FjOyKpO2KuCDqsozsi5zrrLwnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgn7J206rKD7J2AIO2FjOyKpO2KuCDqsozsi5zrrLwg64K07Jqp7J6F64uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfthYzsiqTthLAnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgv4pmlIOyii+yVhOyalCAxMC8pKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KC/wn5KsIOuMk+q4gCA1LykpLnRvQmVUcnV0aHkoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2Rpc3BsYXlzIGZvcm1hdHRlZCBkYXRlIGNvcnJlY3RseScsICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXHJcbiAgICAgIDxDb21mb3J0V2FsbFBvc3QgcG9zdD17bW9ja1Bvc3R9IHsuLi5tb2NrSGFuZGxlcnN9IC8+XHJcbiAgICApO1xyXG4gICAgXHJcbiAgICAvLyDrgqDsp5wg7ZiV7Iud7J2EIO2ZleyduCAoMjAyNeuFhCAwNOyblCAyMOydvCAxMjozNCDtmJXsi50pXHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KC8yMDI164WEIDA07JuUIDIw7J28LykpLnRvQmVUcnV0aHkoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3dzIGFub255bW91cyB1c2VyIHdoZW4gcG9zdCBpcyBhbm9ueW1vdXMnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBhbm9ueW1vdXNQb3N0ID0ge1xyXG4gICAgICAuLi5tb2NrUG9zdCxcclxuICAgICAgaXNfYW5vbnltb3VzOiB0cnVlLFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcihcclxuICAgICAgPENvbWZvcnRXYWxsUG9zdCBwb3N0PXthbm9ueW1vdXNQb3N0fSB7Li4ubW9ja0hhbmRsZXJzfSAvPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgn7J2166qFJykpLnRvQmVUcnV0aHkoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3RydW5jYXRlcyBsb25nIGNvbnRlbnQgYW5kIHNob3dzIFwi642UIOuztOq4sFwiIGJ1dHRvbicsICgpID0+IHtcclxuICAgIGNvbnN0IGxvbmdDb250ZW50UG9zdCA9IHtcclxuICAgICAgLi4ubW9ja1Bvc3QsXHJcbiAgICAgIGNvbnRlbnQ6ICdBJy5yZXBlYXQoMjAwKSwgLy8g7LWc64yAIOq4uOydtCgxNTAp67O064ukIOq4tCDrgrTsmqlcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXHJcbiAgICAgIDxDb21mb3J0V2FsbFBvc3QgcG9zdD17bG9uZ0NvbnRlbnRQb3N0fSB7Li4ubW9ja0hhbmRsZXJzfSAvPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgn642UIOuztOq4sCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBcclxuICAgIC8vIOuNlCDrs7TquLAg67KE7Yq87J2EIO2BtOumre2VmOuptCDsoITssrQg64K07Jqp7J20IO2RnOyLnOuQmOqzoCDrsoTtirwg7YWN7Iqk7Yq46rCAIOuwlOuAjOyWtOyVvCDtlahcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ+uNlCDrs7TquLAnKSk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfsoJHquLAnKSkudG9CZVRydXRoeSgpO1xyXG4gIH0pO1xyXG5cclxuLy8g7IiY7KCVIO2bhFxyXG4vLyDsiJjsoJUg7ZuEXHJcbml0KCdkaXNwbGF5cyBpbWFnZSB3aGVuIGltYWdlX3VybCBpcyBwcm92aWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHBvc3RXaXRoSW1hZ2UgPSB7XHJcbiAgICAgIC4uLm1vY2tQb3N0LFxyXG4gICAgICBpbWFnZV91cmw6ICdodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZycsXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxDb21mb3J0V2FsbFBvc3QgcG9zdD17cG9zdFdpdGhJbWFnZX0gey4uLm1vY2tIYW5kbGVyc30gLz5cclxuICAgICk7XHJcbiAgICBcclxuICAgIC8vIENvbWZvcnRXYWxsUG9zdCDsu7Ttj6zrhIztirjsl5AgdGVzdElE66W8IOy2lOqwgO2VmOqzoCDqt7jqsoPsnYQg7IKs7JqpXHJcbiAgICBjb25zdCBwb3N0SW1hZ2UgPSBnZXRCeVRlc3RJZCgncG9zdC1pbWFnZScpO1xyXG4gICAgZXhwZWN0KHBvc3RJbWFnZS5wcm9wcy5zb3VyY2UpLnRvRXF1YWwoeyB1cmk6ICdodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZycgfSk7XHJcbiAgfSk7XHJcbiAgaXQoJ2NhbGxzIG9uTGlrZVByZXNzIHdoZW4gbGlrZSBidXR0b24gaXMgcHJlc3NlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXHJcbiAgICAgIDxDb21mb3J0V2FsbFBvc3QgcG9zdD17bW9ja1Bvc3R9IHsuLi5tb2NrSGFuZGxlcnN9IC8+XHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KC/imaUg7KKL7JWE7JqUIDEwLykpO1xyXG4gICAgZXhwZWN0KG1vY2tIYW5kbGVycy5vbkxpa2VQcmVzcykudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja1Bvc3QucG9zdF9pZCk7XHJcbiAgICBcclxuICAgIC8vIOyii+yVhOyalCDsg4Htg5zqsIAg67OA6rK965CY7JeI64qU7KeAIO2ZleyduFxyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgv4pmlIOyii+yVhOyalCAxMS8pKS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdjYWxscyBvbkNvbW1lbnRQcmVzcyB3aGVuIGNvbW1lbnQgYnV0dG9uIGlzIHByZXNzZWQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxyXG4gICAgICA8Q29tZm9ydFdhbGxQb3N0IHBvc3Q9e21vY2tQb3N0fSB7Li4ubW9ja0hhbmRsZXJzfSAvPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgv8J+SrCDrjJPquIAgNS8pKTtcclxuICAgIGV4cGVjdChtb2NrSGFuZGxlcnMub25Db21tZW50UHJlc3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tQb3N0LnBvc3RfaWQpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnY2FsbHMgb25Qb3N0UHJlc3Mgd2hlbiBwb3N0IHRpdGxlIGlzIHByZXNzZWQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxyXG4gICAgICA8Q29tZm9ydFdhbGxQb3N0IHBvc3Q9e21vY2tQb3N0fSB7Li4ubW9ja0hhbmRsZXJzfSAvPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgn7YWM7Iqk7Yq4IOqyjOyLnOusvCcpKTtcclxuICAgIGV4cGVjdChtb2NrSGFuZGxlcnMub25Qb3N0UHJlc3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tQb3N0LnBvc3RfaWQpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvd3MgY29tbWVudCBwcmV2aWV3cycsICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXHJcbiAgICAgIDxDb21mb3J0V2FsbFBvc3QgcG9zdD17bW9ja1Bvc3R9IHsuLi5tb2NrSGFuZGxlcnN9IC8+XHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfrjJPquIDsnpHshLHsnpA6JykpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+yyqyDrsojsp7gg64yT6riA7J6F64uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfsnbXrqoU6JykpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+uRkCDrsojsp7gg64yT6riA7J6F64uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdoYW5kbGVzIHByZS1saWtlZCBzdGF0ZSBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxyXG4gICAgICA8Q29tZm9ydFdhbGxQb3N0IHBvc3Q9e21vY2tQb3N0fSB7Li4ubW9ja0hhbmRsZXJzfSBpc0xpa2VkPXt0cnVlfSAvPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8g7J2066+4IOyii+yVhOyalCDsg4Htg5zsnbgg67KE7Yq8IOyKpO2DgOydvCDtmZXsnbggKO2FjeyKpO2KuCDsiqTtg4Dsnbzrp4wg7ZmV7J24IOqwgOuKpSlcclxuICAgIGNvbnN0IGxpa2VCdXR0b24gPSBnZXRCeVRleHQoL+KZpSDsoovslYTsmpQgMTAvKTtcclxuICAgIGV4cGVjdChsaWtlQnV0dG9uKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBcclxuICAgIC8vIOyii+yVhOyalCDst6jshoxcclxuICAgIGZpcmVFdmVudC5wcmVzcyhsaWtlQnV0dG9uKTtcclxuICAgIGV4cGVjdChtb2NrSGFuZGxlcnMub25MaWtlUHJlc3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tQb3N0LnBvc3RfaWQpO1xyXG4gICAgXHJcbiAgICAvLyDsoovslYTsmpQg7IiY6rCAIOqwkOyGjO2WiOuKlOyngCDtmZXsnbhcclxuICAgIGV4cGVjdChnZXRCeVRleHQoL+KZpSDsoovslYTsmpQgOS8pKS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBTUFBLFdBQUEsR0FBS0MsSUFBSSwyQ0FBMkM7RUFBQSxPQUFNLGdCQUFnQjtBQUFBLEVBQUM7QUFDM0VELFdBQUEsR0FBS0MsSUFBSSw2Q0FBNkM7RUFBQSxPQUFNLGtCQUFrQjtBQUFBLEVBQUM7QUFBQyxJQUFBQyxzQkFBQSxHQUFBQyxPQUFBO0FBTmhGLElBQUFDLE1BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFlBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGdCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsSUFBQUksV0FBQSxHQUFBSixPQUFBO0FBQUEsU0FBQUgsWUFBQTtFQUFBLElBQUFRLFFBQUEsR0FBQUwsT0FBQTtJQUFBTSxJQUFBLEdBQUFELFFBQUEsQ0FBQUMsSUFBQTtFQUFBVCxXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBUyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFNbkVDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxZQUFNO0VBQ2hDLElBQU1DLFFBQVEsR0FBRztJQUNmQyxPQUFPLEVBQUUsQ0FBQztJQUNWQyxLQUFLLEVBQUUsU0FBUztJQUNoQkMsT0FBTyxFQUFFLG9CQUFvQjtJQUM3QkMsVUFBVSxFQUFFLDBCQUEwQjtJQUN0Q0MsVUFBVSxFQUFFLEVBQUU7SUFDZEMsYUFBYSxFQUFFLENBQUM7SUFDaEJDLFlBQVksRUFBRSxLQUFLO0lBQ25CQyxJQUFJLEVBQUU7TUFDSkMsUUFBUSxFQUFFLEtBQUs7TUFDZkMsaUJBQWlCLEVBQUU7SUFDckIsQ0FBQztJQUNEQyxRQUFRLEVBQUUsQ0FDUjtNQUNFQyxVQUFVLEVBQUUsQ0FBQztNQUNiQyxPQUFPLEVBQUUsQ0FBQztNQUNWVixPQUFPLEVBQUUsYUFBYTtNQUN0QkksWUFBWSxFQUFFLEtBQUs7TUFDbkJILFVBQVUsRUFBRSwwQkFBMEI7TUFDdENJLElBQUksRUFBRTtRQUNKQyxRQUFRLEVBQUU7TUFDWjtJQUNGLENBQUMsRUFDRDtNQUNFRyxVQUFVLEVBQUUsQ0FBQztNQUNiQyxPQUFPLEVBQUUsQ0FBQztNQUNWVixPQUFPLEVBQUUsYUFBYTtNQUN0QkksWUFBWSxFQUFFLElBQUk7TUFDbEJILFVBQVUsRUFBRTtJQUNkLENBQUM7RUFFTCxDQUFDO0VBRUQsSUFBTVUsWUFBWSxHQUFHO0lBQ25CQyxXQUFXLEVBQUVqQixJQUFJLENBQUNrQixFQUFFLENBQUMsQ0FBQztJQUN0QkMsY0FBYyxFQUFFbkIsSUFBSSxDQUFDa0IsRUFBRSxDQUFDLENBQUM7SUFDekJFLFdBQVcsRUFBRXBCLElBQUksQ0FBQ2tCLEVBQUUsQ0FBQztFQUN2QixDQUFDO0VBRURHLFVBQVUsQ0FBQyxZQUFNO0lBQ2ZyQixJQUFJLENBQUNzQixhQUFhLENBQUMsQ0FBQztFQUN0QixDQUFDLENBQUM7RUFFRkMsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLFlBQU07SUFDekMsSUFBQUMsT0FBQSxHQUFzQixJQUFBQyxtQkFBTSxFQUMxQixJQUFBM0IsV0FBQSxDQUFBNEIsR0FBQSxFQUFDN0IsZ0JBQUEsQ0FBQThCLE9BQWUsRUFBQUMsTUFBQSxDQUFBQyxNQUFBO1FBQUNDLElBQUksRUFBRTVCO01BQVMsR0FBS2MsWUFBWSxDQUFHLENBQ3RELENBQUM7TUFGT2UsU0FBUyxHQUFBUCxPQUFBLENBQVRPLFNBQVM7SUFJakJDLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ3pDRCxNQUFNLENBQUNELFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ3BERCxNQUFNLENBQUNELFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUNyQ0QsTUFBTSxDQUFDRCxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7SUFDMUNELE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0VBQzNDLENBQUMsQ0FBQztFQUVGVixFQUFFLENBQUMsbUNBQW1DLEVBQUUsWUFBTTtJQUM1QyxJQUFBVyxRQUFBLEdBQXNCLElBQUFULG1CQUFNLEVBQzFCLElBQUEzQixXQUFBLENBQUE0QixHQUFBLEVBQUM3QixnQkFBQSxDQUFBOEIsT0FBZSxFQUFBQyxNQUFBLENBQUFDLE1BQUE7UUFBQ0MsSUFBSSxFQUFFNUI7TUFBUyxHQUFLYyxZQUFZLENBQUcsQ0FDdEQsQ0FBQztNQUZPZSxTQUFTLEdBQUFHLFFBQUEsQ0FBVEgsU0FBUztJQUtqQkMsTUFBTSxDQUFDRCxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7RUFDakQsQ0FBQyxDQUFDO0VBRUZWLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxZQUFNO0lBQ3RELElBQU1ZLGFBQWEsR0FBQVAsTUFBQSxDQUFBQyxNQUFBLEtBQ2QzQixRQUFRO01BQ1hPLFlBQVksRUFBRTtJQUFJLEVBQ25CO0lBRUQsSUFBQTJCLFFBQUEsR0FBc0IsSUFBQVgsbUJBQU0sRUFDMUIsSUFBQTNCLFdBQUEsQ0FBQTRCLEdBQUEsRUFBQzdCLGdCQUFBLENBQUE4QixPQUFlLEVBQUFDLE1BQUEsQ0FBQUMsTUFBQTtRQUFDQyxJQUFJLEVBQUVLO01BQWMsR0FBS25CLFlBQVksQ0FBRyxDQUMzRCxDQUFDO01BRk9lLFNBQVMsR0FBQUssUUFBQSxDQUFUTCxTQUFTO0lBSWpCQyxNQUFNLENBQUNELFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztFQUN0QyxDQUFDLENBQUM7RUFFRlYsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLFlBQU07SUFDekQsSUFBTWMsZUFBZSxHQUFBVCxNQUFBLENBQUFDLE1BQUEsS0FDaEIzQixRQUFRO01BQ1hHLE9BQU8sRUFBRSxHQUFHLENBQUNpQyxNQUFNLENBQUMsR0FBRztJQUFDLEVBQ3pCO0lBRUQsSUFBQUMsUUFBQSxHQUFzQixJQUFBZCxtQkFBTSxFQUMxQixJQUFBM0IsV0FBQSxDQUFBNEIsR0FBQSxFQUFDN0IsZ0JBQUEsQ0FBQThCLE9BQWUsRUFBQUMsTUFBQSxDQUFBQyxNQUFBO1FBQUNDLElBQUksRUFBRU87TUFBZ0IsR0FBS3JCLFlBQVksQ0FBRyxDQUM3RCxDQUFDO01BRk9lLFNBQVMsR0FBQVEsUUFBQSxDQUFUUixTQUFTO0lBSWpCQyxNQUFNLENBQUNELFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUd0Q08sc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDVixTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbENDLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0VBQ3RDLENBQUMsQ0FBQztFQUlKVixFQUFFLENBQUMsMkNBQTJDLEVBQUUsWUFBTTtJQUNsRCxJQUFNbUIsYUFBYSxHQUFBZCxNQUFBLENBQUFDLE1BQUEsS0FDZDNCLFFBQVE7TUFDWHlDLFNBQVMsRUFBRTtJQUErQixFQUMzQztJQUVELElBQUFDLFFBQUEsR0FBd0IsSUFBQW5CLG1CQUFNLEVBQzVCLElBQUEzQixXQUFBLENBQUE0QixHQUFBLEVBQUM3QixnQkFBQSxDQUFBOEIsT0FBZSxFQUFBQyxNQUFBLENBQUFDLE1BQUE7UUFBQ0MsSUFBSSxFQUFFWTtNQUFjLEdBQUsxQixZQUFZLENBQUcsQ0FDM0QsQ0FBQztNQUZPNkIsV0FBVyxHQUFBRCxRQUFBLENBQVhDLFdBQVc7SUFLbkIsSUFBTUMsU0FBUyxHQUFHRCxXQUFXLENBQUMsWUFBWSxDQUFDO0lBQzNDYixNQUFNLENBQUNjLFNBQVMsQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsT0FBTyxDQUFDO01BQUVDLEdBQUcsRUFBRTtJQUFnQyxDQUFDLENBQUM7RUFDbEYsQ0FBQyxDQUFDO0VBQ0YzQixFQUFFLENBQUMsK0NBQStDLEVBQUUsWUFBTTtJQUN4RCxJQUFBNEIsUUFBQSxHQUFzQixJQUFBMUIsbUJBQU0sRUFDMUIsSUFBQTNCLFdBQUEsQ0FBQTRCLEdBQUEsRUFBQzdCLGdCQUFBLENBQUE4QixPQUFlLEVBQUFDLE1BQUEsQ0FBQUMsTUFBQTtRQUFDQyxJQUFJLEVBQUU1QjtNQUFTLEdBQUtjLFlBQVksQ0FBRyxDQUN0RCxDQUFDO01BRk9lLFNBQVMsR0FBQW9CLFFBQUEsQ0FBVHBCLFNBQVM7SUFJakJTLHNCQUFTLENBQUNDLEtBQUssQ0FBQ1YsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3RDQyxNQUFNLENBQUNoQixZQUFZLENBQUNDLFdBQVcsQ0FBQyxDQUFDbUMsb0JBQW9CLENBQUNsRCxRQUFRLENBQUNDLE9BQU8sQ0FBQztJQUd2RTZCLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0VBQzVDLENBQUMsQ0FBQztFQUVGVixFQUFFLENBQUMscURBQXFELEVBQUUsWUFBTTtJQUM5RCxJQUFBOEIsUUFBQSxHQUFzQixJQUFBNUIsbUJBQU0sRUFDMUIsSUFBQTNCLFdBQUEsQ0FBQTRCLEdBQUEsRUFBQzdCLGdCQUFBLENBQUE4QixPQUFlLEVBQUFDLE1BQUEsQ0FBQUMsTUFBQTtRQUFDQyxJQUFJLEVBQUU1QjtNQUFTLEdBQUtjLFlBQVksQ0FBRyxDQUN0RCxDQUFDO01BRk9lLFNBQVMsR0FBQXNCLFFBQUEsQ0FBVHRCLFNBQVM7SUFJakJTLHNCQUFTLENBQUNDLEtBQUssQ0FBQ1YsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JDQyxNQUFNLENBQUNoQixZQUFZLENBQUNHLGNBQWMsQ0FBQyxDQUFDaUMsb0JBQW9CLENBQUNsRCxRQUFRLENBQUNDLE9BQU8sQ0FBQztFQUM1RSxDQUFDLENBQUM7RUFFRm9CLEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxZQUFNO0lBQ3ZELElBQUErQixRQUFBLEdBQXNCLElBQUE3QixtQkFBTSxFQUMxQixJQUFBM0IsV0FBQSxDQUFBNEIsR0FBQSxFQUFDN0IsZ0JBQUEsQ0FBQThCLE9BQWUsRUFBQUMsTUFBQSxDQUFBQyxNQUFBO1FBQUNDLElBQUksRUFBRTVCO01BQVMsR0FBS2MsWUFBWSxDQUFHLENBQ3RELENBQUM7TUFGT2UsU0FBUyxHQUFBdUIsUUFBQSxDQUFUdkIsU0FBUztJQUlqQlMsc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDVixTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDckNDLE1BQU0sQ0FBQ2hCLFlBQVksQ0FBQ0ksV0FBVyxDQUFDLENBQUNnQyxvQkFBb0IsQ0FBQ2xELFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO0VBQ3pFLENBQUMsQ0FBQztFQUVGb0IsRUFBRSxDQUFDLHdCQUF3QixFQUFFLFlBQU07SUFDakMsSUFBQWdDLFFBQUEsR0FBc0IsSUFBQTlCLG1CQUFNLEVBQzFCLElBQUEzQixXQUFBLENBQUE0QixHQUFBLEVBQUM3QixnQkFBQSxDQUFBOEIsT0FBZSxFQUFBQyxNQUFBLENBQUFDLE1BQUE7UUFBQ0MsSUFBSSxFQUFFNUI7TUFBUyxHQUFLYyxZQUFZLENBQUcsQ0FDdEQsQ0FBQztNQUZPZSxTQUFTLEdBQUF3QixRQUFBLENBQVR4QixTQUFTO0lBSWpCQyxNQUFNLENBQUNELFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUN4Q0QsTUFBTSxDQUFDRCxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7SUFDN0NELE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ3JDRCxNQUFNLENBQUNELFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztFQUMvQyxDQUFDLENBQUM7RUFFRlYsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLFlBQU07SUFDNUMsSUFBQWlDLFNBQUEsR0FBc0IsSUFBQS9CLG1CQUFNLEVBQzFCLElBQUEzQixXQUFBLENBQUE0QixHQUFBLEVBQUM3QixnQkFBQSxDQUFBOEIsT0FBZSxFQUFBQyxNQUFBLENBQUFDLE1BQUE7UUFBQ0MsSUFBSSxFQUFFNUI7TUFBUyxHQUFLYyxZQUFZO1FBQUV5QyxPQUFPLEVBQUU7TUFBSyxFQUFFLENBQ3JFLENBQUM7TUFGTzFCLFNBQVMsR0FBQXlCLFNBQUEsQ0FBVHpCLFNBQVM7SUFLakIsSUFBTTJCLFVBQVUsR0FBRzNCLFNBQVMsQ0FBQyxVQUFVLENBQUM7SUFDeENDLE1BQU0sQ0FBQzBCLFVBQVUsQ0FBQyxDQUFDekIsVUFBVSxDQUFDLENBQUM7SUFHL0JPLHNCQUFTLENBQUNDLEtBQUssQ0FBQ2lCLFVBQVUsQ0FBQztJQUMzQjFCLE1BQU0sQ0FBQ2hCLFlBQVksQ0FBQ0MsV0FBVyxDQUFDLENBQUNtQyxvQkFBb0IsQ0FBQ2xELFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO0lBR3ZFNkIsTUFBTSxDQUFDRCxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7RUFDM0MsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119