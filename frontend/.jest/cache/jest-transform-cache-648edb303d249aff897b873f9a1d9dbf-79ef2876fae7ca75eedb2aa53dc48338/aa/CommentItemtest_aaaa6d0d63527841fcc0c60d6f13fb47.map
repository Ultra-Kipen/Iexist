{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_CommentItem","_jsxRuntime","_excluded","_excluded2","describe","mockProps","id","content","userName","isAnonymous","createdAt","onReply","jest","fn","onLike","likeCount","it","_render","render","jsx","default","Object","assign","getByText","expect","toBeTruthy","anonymousProps","_render2","_render3","fireEvent","press","toHaveBeenCalledTimes","_render4","_render5","dateText","minimalProps","_render6","getByTestId","props","children","toBe","propsWithZeroLikes","_render7","propsWithoutLike","_objectWithoutProperties2","_render8","queryByText","toBeNull","propsWithoutReply","_render9"],"sources":["CommentItem.test.tsx"],"sourcesContent":["// tests/components/CommentItem.test.tsx\r\nimport React from 'react';\r\nimport { render, fireEvent } from '@testing-library/react-native';\r\nimport CommentItem from '../../src/components/CommentItem';\r\n\r\ndescribe('CommentItem', () => {\r\n  const mockProps = {\r\n    id: 1,\r\n    content: '테스트 댓글입니다.',\r\n    userName: '홍길동',\r\n    isAnonymous: false,\r\n    createdAt: '2025-04-20T14:30:00.000Z',\r\n    onReply: jest.fn(),\r\n    onLike: jest.fn(),\r\n    likeCount: 5,\r\n  };\r\n\r\n  it('renders correctly with user name', () => {\r\n    const { getByText } = render(<CommentItem {...mockProps} />);\r\n    expect(getByText('홍길동')).toBeTruthy();\r\n    expect(getByText('테스트 댓글입니다.')).toBeTruthy();\r\n    expect(getByText('공감 5')).toBeTruthy();\r\n    expect(getByText('답글')).toBeTruthy();\r\n  });\r\n\r\n  it('displays anonymous instead of username when isAnonymous is true', () => {\r\n    const anonymousProps = { ...mockProps, isAnonymous: true };\r\n    const { getByText } = render(<CommentItem {...anonymousProps} />);\r\n    expect(getByText('익명')).toBeTruthy();\r\n  });\r\n\r\n  it('calls onLike when like button is pressed', () => {\r\n    const { getByText } = render(<CommentItem {...mockProps} />);\r\n    fireEvent.press(getByText('공감 5'));\r\n    expect(mockProps.onLike).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('calls onReply when reply button is pressed', () => {\r\n    const { getByText } = render(<CommentItem {...mockProps} />);\r\n    fireEvent.press(getByText('답글'));\r\n    expect(mockProps.onReply).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('formats date correctly', () => {\r\n    const { getByText } = render(<CommentItem {...mockProps} />);\r\n    // 실제 표시되는 날짜 형식에 맞게 정규식 수정\r\n    const dateText = getByText(/\\d{4}\\.\\s\\d{2}\\.\\s\\d{2}\\.\\s\\d{2}:\\d{2}/);\r\n    expect(dateText).toBeTruthy();\r\n  });\r\n  \r\n  it('handles null or empty values gracefully', () => {\r\n    const minimalProps = {\r\n      id: 1,\r\n      content: '',\r\n      userName: '',\r\n      isAnonymous: false,\r\n      createdAt: '',\r\n    };\r\n    const { getByTestId } = render(<CommentItem {...minimalProps} />);\r\n    // 빈 content 확인을 위해 testID 속성 활용\r\n    expect(getByTestId('content').props.children).toBe('');\r\n  });\r\n  it('does not show like count when it is 0', () => {\r\n    const propsWithZeroLikes = { ...mockProps, likeCount: 0 };\r\n    const { getByText } = render(<CommentItem {...propsWithZeroLikes} />);\r\n    expect(getByText('공감')).toBeTruthy(); // 좋아요 카운트가 표시되지 않음\r\n  });\r\n\r\n  it('does not render like button when onLike is not provided', () => {\r\n    const { onLike, ...propsWithoutLike } = mockProps;\r\n    const { queryByText } = render(<CommentItem {...propsWithoutLike} />);\r\n    expect(queryByText('공감')).toBeNull();\r\n  });\r\n\r\n  it('does not render reply button when onReply is not provided', () => {\r\n    const { onReply, ...propsWithoutReply } = mockProps;\r\n    const { queryByText } = render(<CommentItem {...propsWithoutReply} />);\r\n    expect(queryByText('답글')).toBeNull();\r\n  });\r\n});"],"mappings":"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","ignoreList":[]}