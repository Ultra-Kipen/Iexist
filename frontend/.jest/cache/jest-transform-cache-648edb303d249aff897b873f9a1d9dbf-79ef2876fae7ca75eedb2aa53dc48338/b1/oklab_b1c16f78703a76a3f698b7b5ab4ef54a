3ce39cfc0b5c714187e5dca823987747
'use strict';
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _lrgb = _interopRequireDefault(require("./lrgb.js"));
function convertLrgbToOklab(_ref) {
  'worklet';

  var _ref$r = _ref.r,
    r = _ref$r === void 0 ? 0 : _ref$r,
    _ref$g = _ref.g,
    g = _ref$g === void 0 ? 0 : _ref$g,
    _ref$b = _ref.b,
    b = _ref$b === void 0 ? 0 : _ref$b,
    alpha = _ref.alpha;
  var L = Math.cbrt(0.41222147079999993 * r + 0.5363325363 * g + 0.0514459929 * b);
  var M = Math.cbrt(0.2119034981999999 * r + 0.6806995450999999 * g + 0.1073969566 * b);
  var S = Math.cbrt(0.08830246189999998 * r + 0.2817188376 * g + 0.6299787005000002 * b);
  return {
    l: 0.2104542553 * L + 0.793617785 * M - 0.0040720468 * S,
    a: 1.9779984951 * L - 2.428592205 * M + 0.4505937099 * S,
    b: 0.0259040371 * L + 0.7827717662 * M - 0.808675766 * S,
    alpha: alpha
  };
}
function convertRgbToOklab(rgb) {
  'worklet';

  var lrgbColor = _lrgb.default.convert.fromRgb(rgb);
  var result = convertLrgbToOklab(lrgbColor);
  if (rgb.r === rgb.b && rgb.b === rgb.g) {
    result.a = result.b = 0;
  }
  return result;
}
function convertOklabToLrgb(_ref2) {
  'worklet';
  var _ref2$l = _ref2.l,
    l = _ref2$l === void 0 ? 0 : _ref2$l,
    _ref2$a = _ref2.a,
    a = _ref2$a === void 0 ? 0 : _ref2$a,
    _ref2$b = _ref2.b,
    b = _ref2$b === void 0 ? 0 : _ref2$b,
    alpha = _ref2.alpha;
  var L = Math.pow(l * 0.99999999845051981432 + 0.39633779217376785678 * a + 0.21580375806075880339 * b, 3);
  var M = Math.pow(l * 1.0000000088817607767 - 0.1055613423236563494 * a - 0.063854174771705903402 * b, 3);
  var S = Math.pow(l * 1.0000000546724109177 - 0.089484182094965759684 * a - 1.2914855378640917399 * b, 3);
  return {
    r: +4.076741661347994 * L - 3.307711590408193 * M + 0.230969928729428 * S,
    g: -1.2684380040921763 * L + 2.6097574006633715 * M - 0.3413193963102197 * S,
    b: -0.004196086541837188 * L - 0.7034186144594493 * M + 1.7076147009309444 * S,
    alpha: alpha
  };
}
function convertOklabToRgb(labColor) {
  'worklet';

  var roundChannel = function roundChannel(channel) {
    return Math.ceil(channel * 100000) / 100000;
  };
  var lrgbColor = convertOklabToLrgb(labColor);
  var rgbColor = _lrgb.default.convert.toRgb(lrgbColor);
  rgbColor.r = roundChannel(rgbColor.r);
  rgbColor.g = roundChannel(rgbColor.g);
  rgbColor.b = roundChannel(rgbColor.b);
  return rgbColor;
}
var _default = exports.default = {
  convert: {
    fromRgb: convertRgbToOklab,
    toRgb: convertOklabToRgb
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl9scmdiIiwiY29udmVydExyZ2JUb09rbGFiIiwiX3JlZiIsIl9yZWYkciIsInIiLCJfcmVmJGciLCJnIiwiX3JlZiRiIiwiYiIsImFscGhhIiwiTCIsIk1hdGgiLCJjYnJ0IiwiTSIsIlMiLCJsIiwiYSIsImNvbnZlcnRSZ2JUb09rbGFiIiwicmdiIiwibHJnYkNvbG9yIiwibHJnYiIsImNvbnZlcnQiLCJmcm9tUmdiIiwicmVzdWx0IiwiY29udmVydE9rbGFiVG9McmdiIiwiX3JlZjIiLCJfcmVmMiRsIiwiX3JlZjIkYSIsIl9yZWYyJGIiLCJwb3ciLCJjb252ZXJ0T2tsYWJUb1JnYiIsImxhYkNvbG9yIiwicm91bmRDaGFubmVsIiwiY2hhbm5lbCIsImNlaWwiLCJyZ2JDb2xvciIsInRvUmdiIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY3Vsb3JpL29rbGFiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZO0FBQUEsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBQyxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxPQUFBO0FBV1osSUFBQUMsS0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsU0FBU08sa0JBQWtCQSxDQUFBQyxJQUFBLEVBS0o7RUFDckIsU0FBUzs7RUFBQSxJQUFBQyxNQUFBLEdBQUFELElBQUEsQ0FMVEUsQ0FBQztJQUFEQSxDQUFDLEdBQUFELE1BQUEsY0FBRyxDQUFDLEdBQUFBLE1BQUE7SUFBQUUsTUFBQSxHQUFBSCxJQUFBLENBQ0xJLENBQUM7SUFBREEsQ0FBQyxHQUFBRCxNQUFBLGNBQUcsQ0FBQyxHQUFBQSxNQUFBO0lBQUFFLE1BQUEsR0FBQUwsSUFBQSxDQUNMTSxDQUFDO0lBQURBLENBQUMsR0FBQUQsTUFBQSxjQUFHLENBQUMsR0FBQUEsTUFBQTtJQUNMRSxLQUFBLEdBQUFQLElBQUEsQ0FBQU8sS0FBQTtFQUdBLElBQU1DLENBQUMsR0FBR0MsSUFBSSxDQUFDQyxJQUFJLENBQ2pCLG1CQUFtQixHQUFHUixDQUFDLEdBQUcsWUFBWSxHQUFHRSxDQUFDLEdBQUcsWUFBWSxHQUFHRSxDQUM5RCxDQUFDO0VBQ0QsSUFBTUssQ0FBQyxHQUFHRixJQUFJLENBQUNDLElBQUksQ0FDakIsa0JBQWtCLEdBQUdSLENBQUMsR0FBRyxrQkFBa0IsR0FBR0UsQ0FBQyxHQUFHLFlBQVksR0FBR0UsQ0FDbkUsQ0FBQztFQUNELElBQU1NLENBQUMsR0FBR0gsSUFBSSxDQUFDQyxJQUFJLENBQ2pCLG1CQUFtQixHQUFHUixDQUFDLEdBQUcsWUFBWSxHQUFHRSxDQUFDLEdBQUcsa0JBQWtCLEdBQUdFLENBQ3BFLENBQUM7RUFFRCxPQUFPO0lBQ0xPLENBQUMsRUFBRSxZQUFZLEdBQUdMLENBQUMsR0FBRyxXQUFXLEdBQUdHLENBQUMsR0FBRyxZQUFZLEdBQUdDLENBQUM7SUFDeERFLENBQUMsRUFBRSxZQUFZLEdBQUdOLENBQUMsR0FBRyxXQUFXLEdBQUdHLENBQUMsR0FBRyxZQUFZLEdBQUdDLENBQUM7SUFDeEROLENBQUMsRUFBRSxZQUFZLEdBQUdFLENBQUMsR0FBRyxZQUFZLEdBQUdHLENBQUMsR0FBRyxXQUFXLEdBQUdDLENBQUM7SUFDeERMLEtBQUEsRUFBQUE7RUFDRixDQUFDO0FBQ0g7QUFFQSxTQUFTUSxpQkFBaUJBLENBQUNDLEdBQWEsRUFBRTtFQUN4QyxTQUFTOztFQUNULElBQU1DLFNBQVMsR0FBR0MsYUFBSSxDQUFDQyxPQUFPLENBQUNDLE9BQU8sQ0FBQ0osR0FBRyxDQUFDO0VBQzNDLElBQU1LLE1BQU0sR0FBR3RCLGtCQUFrQixDQUFDa0IsU0FBUyxDQUFDO0VBQzVDLElBQUlELEdBQUcsQ0FBQ2QsQ0FBQyxLQUFLYyxHQUFHLENBQUNWLENBQUMsSUFBSVUsR0FBRyxDQUFDVixDQUFDLEtBQUtVLEdBQUcsQ0FBQ1osQ0FBQyxFQUFFO0lBQ3RDaUIsTUFBTSxDQUFDUCxDQUFDLEdBQUdPLE1BQU0sQ0FBQ2YsQ0FBQyxHQUFHLENBQUM7RUFDekI7RUFDQSxPQUFPZSxNQUFNO0FBQ2Y7QUFFQSxTQUFTQyxrQkFBa0JBLENBQUFDLEtBQUEsRUFLSjtFQUNyQixTQUFTO0VBQUEsSUFBQUMsT0FBQSxHQUFBRCxLQUFBLENBTFRWLENBQUM7SUFBREEsQ0FBQyxHQUFBVyxPQUFBLGNBQUcsQ0FBQyxHQUFBQSxPQUFBO0lBQUFDLE9BQUEsR0FBQUYsS0FBQSxDQUNMVCxDQUFDO0lBQURBLENBQUMsR0FBQVcsT0FBQSxjQUFHLENBQUMsR0FBQUEsT0FBQTtJQUFBQyxPQUFBLEdBQUFILEtBQUEsQ0FDTGpCLENBQUM7SUFBREEsQ0FBQyxHQUFBb0IsT0FBQSxjQUFHLENBQUMsR0FBQUEsT0FBQTtJQUNMbkIsS0FBQSxHQUFBZ0IsS0FBQSxDQUFBaEIsS0FBQTtFQUlBLElBQU1DLENBQUMsR0FBR0MsSUFBSSxDQUFDa0IsR0FBRyxDQUNoQmQsQ0FBQyxHQUFHLHNCQUFzQixHQUN4QixzQkFBc0IsR0FBR0MsQ0FBQyxHQUMxQixzQkFBc0IsR0FBR1IsQ0FBQyxFQUM1QixDQUNGLENBQUM7RUFDRCxJQUFNSyxDQUFDLEdBQUdGLElBQUksQ0FBQ2tCLEdBQUcsQ0FFaEJkLENBQUMsR0FBRyxxQkFBcUIsR0FDdkIscUJBQXFCLEdBQUdDLENBQUMsR0FDekIsdUJBQXVCLEdBQUdSLENBQUMsRUFDN0IsQ0FDRixDQUFDO0VBQ0QsSUFBTU0sQ0FBQyxHQUFHSCxJQUFJLENBQUNrQixHQUFHLENBRWhCZCxDQUFDLEdBQUcscUJBQXFCLEdBQ3ZCLHVCQUF1QixHQUFHQyxDQUFDLEdBQzNCLHFCQUFxQixHQUFHUixDQUFDLEVBQzNCLENBQ0YsQ0FBQztFQUdELE9BQU87SUFDTEosQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEdBQUdNLENBQUMsR0FBRyxpQkFBaUIsR0FBR0csQ0FBQyxHQUFHLGlCQUFpQixHQUFHQyxDQUFDO0lBQ3pFUixDQUFDLEVBQ0MsQ0FBQyxrQkFBa0IsR0FBR0ksQ0FBQyxHQUFHLGtCQUFrQixHQUFHRyxDQUFDLEdBQUcsa0JBQWtCLEdBQUdDLENBQUM7SUFDM0VOLENBQUMsRUFDQyxDQUFDLG9CQUFvQixHQUFHRSxDQUFDLEdBQ3pCLGtCQUFrQixHQUFHRyxDQUFDLEdBQ3RCLGtCQUFrQixHQUFHQyxDQUFDO0lBQ3hCTCxLQUFBLEVBQUFBO0VBQ0YsQ0FBQztBQUNIO0FBRUEsU0FBU3FCLGlCQUFpQkEsQ0FBQ0MsUUFBa0IsRUFBWTtFQUN2RCxTQUFTOztFQUNULElBQU1DLFlBQVksR0FBSSxTQUFoQkEsWUFBWUEsQ0FBSUMsT0FBZTtJQUFBLE9BQ25DdEIsSUFBSSxDQUFDdUIsSUFBSSxDQUFDRCxPQUFPLEdBQUcsTUFBTyxDQUFDLEdBQUcsTUFBTztFQUFBO0VBRXhDLElBQU1kLFNBQVMsR0FBR0ssa0JBQWtCLENBQUNPLFFBQVEsQ0FBQztFQUM5QyxJQUFNSSxRQUFRLEdBQUdmLGFBQUksQ0FBQ0MsT0FBTyxDQUFDZSxLQUFLLENBQUNqQixTQUFTLENBQUM7RUFDOUNnQixRQUFRLENBQUMvQixDQUFDLEdBQUc0QixZQUFZLENBQUNHLFFBQVEsQ0FBQy9CLENBQUMsQ0FBQztFQUNyQytCLFFBQVEsQ0FBQzdCLENBQUMsR0FBRzBCLFlBQVksQ0FBQ0csUUFBUSxDQUFDN0IsQ0FBQyxDQUFDO0VBQ3JDNkIsUUFBUSxDQUFDM0IsQ0FBQyxHQUFHd0IsWUFBWSxDQUFDRyxRQUFRLENBQUMzQixDQUFDLENBQUM7RUFDckMsT0FBTzJCLFFBQVE7QUFDakI7QUFBQSxJQUFBRSxRQUFBLEdBQUF4QyxPQUFBLENBQUFFLE9BQUEsR0FFZTtFQUNic0IsT0FBTyxFQUFFO0lBQ1BDLE9BQU8sRUFBRUwsaUJBQWlCO0lBQzFCbUIsS0FBSyxFQUFFTjtFQUNUO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==