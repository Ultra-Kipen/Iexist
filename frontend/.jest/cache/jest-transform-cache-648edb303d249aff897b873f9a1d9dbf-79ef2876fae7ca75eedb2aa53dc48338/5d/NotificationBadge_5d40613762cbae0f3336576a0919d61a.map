{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_NotificationContext","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","scaleAnim","useSharedValue","NotificationBadge","_ref","style","_ref$showZero","showZero","_ref$maxCount","maxCount","_useNotification","useNotification","unreadCount","React","useRef","Animated","Value","current","useEffect","value","withTiming","duration","animatedStyle","useAnimatedStyle","transform","scale","jsx","View","styles","badge","wideBadge","extraWideBadge","children","Text","count","displayCount","StyleSheet","create","minWidth","height","borderRadius","backgroundColor","justifyContent","alignItems","paddingHorizontal","color","fontSize","fontWeight","textAlign","_default","exports"],"sources":["NotificationBadge.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { View, Text, StyleSheet } from 'react-native';\r\nimport Animated, { useSharedValue, withTiming, useAnimatedStyle } from 'react-native-reanimated';\r\nimport { useNotification } from '../contexts/NotificationContext';\r\n\r\n// Reanimated 2 방식으로 변경\r\nconst scaleAnim = useSharedValue(0);\r\n\r\ninterface NotificationBadgeProps {\r\n  style?: object;\r\n  showZero?: boolean;\r\n  maxCount?: number;\r\n}\r\n\r\nconst NotificationBadge: React.FC<NotificationBadgeProps> = ({ \r\n  style,\r\n  showZero = false,\r\n  maxCount = 99\r\n}) => {\r\n  const { unreadCount } = useNotification();\r\n  const scaleAnim = React.useRef(new Animated.Value(0)).current;\r\n  \r\n  // 카운트가 변경될 때 애니메이션 효과\r\n// 카운트가 변경될 때 애니메이션 효과\r\nuseEffect(() => {\r\n  if (unreadCount > 0 || showZero) {\r\n    scaleAnim.value = withTiming(1.2, { duration: 200 }, () => {\r\n      scaleAnim.value = withTiming(1, { duration: 100 });\r\n    });\r\n  } else {\r\n    scaleAnim.value = 0;\r\n  }\r\n}, [unreadCount, showZero]);\r\n\r\n// 애니메이션 스타일 정의\r\nconst animatedStyle = useAnimatedStyle(() => {\r\n  return {\r\n    transform: [{ scale: scaleAnim.value }]\r\n  };\r\n});\r\n\r\n// 렌더링 부분도 수정\r\nreturn (\r\n  <Animated.View \r\n    style={[\r\n      styles.badge,\r\n      style,\r\n      animatedStyle,\r\n      unreadCount > 9 && styles.wideBadge,\r\n      unreadCount > 99 && styles.extraWideBadge\r\n    ]}\r\n  >\r\n    <Text style={styles.count}>{displayCount}</Text>\r\n  </Animated.View>\r\n);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  badge: {\r\n    minWidth: 18,\r\n    height: 18,\r\n    borderRadius: 9,\r\n    backgroundColor: '#FF3B30',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 4\r\n  },\r\n  wideBadge: {\r\n    minWidth: 22,\r\n    borderRadius: 11\r\n  },\r\n  extraWideBadge: {\r\n    minWidth: 28\r\n  },\r\n  count: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center'\r\n  }\r\n});\r\n\r\nexport default NotificationBadge;"],"mappings":"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","ignoreList":[]}