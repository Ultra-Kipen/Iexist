21a77c527b149df8391518d910cbc410
_getJestObj().mock("../../src/services/api/notificationService", function () {
  return {
    getNotifications: jest.fn(),
    markAsRead: jest.fn(),
    markAllAsRead: jest.fn()
  };
});
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn(),
        goBack: jest.fn()
      };
    }
  };
});
_getJestObj().mock('react-native/Libraries/Alert/Alert', function () {
  return {
    alert: jest.fn()
  };
});
_getJestObj().mock("../../src/components/LoadingIndicator", function () {
  return 'LoadingIndicator';
});
_getJestObj().mock("../../src/components/Button", function () {
  return 'Button';
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _NotificationScreen = _interopRequireDefault(require("../../src/screens/NotificationScreen"));
var _reactNative2 = require("react-native");
var _notificationService = _interopRequireDefault(require("../../src/services/api/notificationService"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockNotifications = [{
  id: 1,
  user_id: 101,
  content: '홍길동님이 회원님의 게시물에 좋아요를 눌렀습니다.',
  notification_type: 'like',
  related_id: 101,
  is_read: false,
  created_at: new Date().toISOString()
}, {
  id: 2,
  user_id: 102,
  content: '김철수님이 회원님의 게시물에 댓글을 남겼습니다.',
  notification_type: 'comment',
  related_id: 102,
  is_read: true,
  created_at: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()
}, {
  id: 3,
  user_id: 103,
  content: '행복 챌린지가 시작되었습니다.',
  notification_type: 'challenge',
  related_id: 5,
  is_read: false,
  created_at: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
}];
describe('NotificationScreen', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _notificationService.default.getNotifications.mockResolvedValue({
      data: mockNotifications,
      pagination: {
        page: 1,
        limit: 20,
        total: 3
      }
    });
    _notificationService.default.markAsRead.mockResolvedValue({
      success: true
    });
    _notificationService.default.markAllAsRead.mockResolvedValue({
      success: true
    });
  });
  it('renders loading state initially', function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render.getByText;
    expect(getByText('알림 로딩 중...')).toBeTruthy();
  });
  it('renders notifications list correctly', (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render2.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('알림')).toBeTruthy();
      expect(getByText('홍길동님이 회원님의 게시물에 좋아요를 눌렀습니다.')).toBeTruthy();
      expect(getByText('김철수님이 회원님의 게시물에 댓글을 남겼습니다.')).toBeTruthy();
      expect(getByText('행복 챌린지가 시작되었습니다.')).toBeTruthy();
    });
  }));
  it('shows empty state when no notifications', (0, _asyncToGenerator2.default)(function* () {
    _notificationService.default.getNotifications.mockResolvedValue({
      data: [],
      pagination: {
        page: 1,
        limit: 20,
        total: 0
      }
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render3.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('알림이 없습니다.')).toBeTruthy();
    });
  }));
  it('marks notification as read when clicked', (0, _asyncToGenerator2.default)(function* () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render4.getByText;
    yield (0, _reactNative.waitFor)(function () {
      var notification = getByText('홍길동님이 회원님의 게시물에 좋아요를 눌렀습니다.');
      _reactNative.fireEvent.press(notification);
    });
    expect(_notificationService.default.markAsRead).toHaveBeenCalledWith(1);
  }));
  it('marks all notifications as read', (0, _asyncToGenerator2.default)(function* () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render5.getByText;
    yield (0, _reactNative.waitFor)(function () {
      var markAllButton = getByText('모두 읽음');
      _reactNative.fireEvent.press(markAllButton);
    });
    expect(_notificationService.default.markAllAsRead).toHaveBeenCalled();
    expect(_reactNative2.Alert.alert).toHaveBeenCalledWith('성공', '모든 알림이 읽음 처리되었습니다.');
  }));
  it('handles error during loading', (0, _asyncToGenerator2.default)(function* () {
    _notificationService.default.getNotifications.mockRejectedValue(new Error('네트워크 오류'));
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render6.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('알림을 불러오는 중 오류가 발생했습니다.')).toBeTruthy();
      expect(getByText('다시 시도')).toBeTruthy();
    });
  }));
  it('handles refresh functionality', (0, _asyncToGenerator2.default)(function* () {
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render7.getByText;
    yield (0, _reactNative.waitFor)(function () {
      var markAllReadButton = getByText('모두 읽음');
      _reactNative.fireEvent.press(markAllReadButton);
    });
    expect(_notificationService.default.markAllAsRead).toHaveBeenCalled();
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXROb3RpZmljYXRpb25zIiwiamVzdCIsImZuIiwibWFya0FzUmVhZCIsIm1hcmtBbGxBc1JlYWQiLCJ1c2VOYXZpZ2F0aW9uIiwibmF2aWdhdGUiLCJnb0JhY2siLCJhbGVydCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlYWN0IiwiX3JlYWN0TmF0aXZlIiwiX05vdGlmaWNhdGlvblNjcmVlbiIsIl9yZWFjdE5hdGl2ZTIiLCJfbm90aWZpY2F0aW9uU2VydmljZSIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJtb2NrTm90aWZpY2F0aW9ucyIsImlkIiwidXNlcl9pZCIsImNvbnRlbnQiLCJub3RpZmljYXRpb25fdHlwZSIsInJlbGF0ZWRfaWQiLCJpc19yZWFkIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm5vdyIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJub3RpZmljYXRpb25TZXJ2aWNlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwicGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInRvdGFsIiwic3VjY2VzcyIsIml0IiwiX3JlbmRlciIsInJlbmRlciIsImpzeCIsImRlZmF1bHQiLCJnZXRCeVRleHQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjIiLCJ3YWl0Rm9yIiwiX3JlbmRlcjMiLCJfcmVuZGVyNCIsIm5vdGlmaWNhdGlvbiIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJfcmVuZGVyNSIsIm1hcmtBbGxCdXR0b24iLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiQWxlcnQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiX3JlbmRlcjYiLCJfcmVuZGVyNyIsIm1hcmtBbGxSZWFkQnV0dG9uIl0sInNvdXJjZXMiOlsiTm90aWZpY2F0aW9uU2NyZWVuLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9zY3JlZW5zL05vdGlmaWNhdGlvblNjcmVlbi50ZXN0LnRzeFxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IE5vdGlmaWNhdGlvblNjcmVlbiBmcm9tICcuLi8uLi9zcmMvc2NyZWVucy9Ob3RpZmljYXRpb25TY3JlZW4nO1xyXG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcblxyXG4vLyBBUEkg7ISc67mE7IqkIOuqqO2CuVxyXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9zZXJ2aWNlcy9hcGkvbm90aWZpY2F0aW9uU2VydmljZScsICgpID0+ICh7XHJcbiAgZ2V0Tm90aWZpY2F0aW9uczogamVzdC5mbigpLFxyXG4gIG1hcmtBc1JlYWQ6IGplc3QuZm4oKSxcclxuICBtYXJrQWxsQXNSZWFkOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIOuqqOuTiCDrqqjtgrlcclxuamVzdC5tb2NrKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnLCAoKSA9PiAoe1xyXG4gIHVzZU5hdmlnYXRpb246ICgpID0+ICh7XHJcbiAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxyXG4gICAgZ29CYWNrOiBqZXN0LmZuKCksXHJcbiAgfSksXHJcbn0pKTtcclxuXHJcbi8vIEFsZXJ0IOuqqO2CuVxyXG5qZXN0Lm1vY2soJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQWxlcnQvQWxlcnQnLCAoKSA9PiAoe1xyXG4gIGFsZXJ0OiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIOy7tO2PrOuEjO2KuCDrqqjtgrlcclxuamVzdC5tb2NrKCcuLi8uLi9zcmMvY29tcG9uZW50cy9Mb2FkaW5nSW5kaWNhdG9yJywgKCkgPT4gJ0xvYWRpbmdJbmRpY2F0b3InKTtcclxuamVzdC5tb2NrKCcuLi8uLi9zcmMvY29tcG9uZW50cy9CdXR0b24nLCAoKSA9PiAnQnV0dG9uJyk7XHJcblxyXG4vLyDthYzsiqTtirjsl5Ag7ZWE7JqU7ZWcIOuqqOuTiCDqsIDsoLjsmKTquLBcclxuaW1wb3J0IG5vdGlmaWNhdGlvblNlcnZpY2UgZnJvbSAnLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9ub3RpZmljYXRpb25TZXJ2aWNlJztcclxuXHJcbi8vIO2FjOyKpO2KuCDrjbDsnbTthLBcclxuY29uc3QgbW9ja05vdGlmaWNhdGlvbnMgPSBbXHJcbiAge1xyXG4gICAgaWQ6IDEsXHJcbiAgICB1c2VyX2lkOiAxMDEsXHJcbiAgICBjb250ZW50OiAn7ZmN6ri464+Z64uY7J20IO2ajOybkOuLmOydmCDqsozsi5zrrLzsl5Ag7KKL7JWE7JqU66W8IOuIjOuggOyKteuLiOuLpC4nLFxyXG4gICAgbm90aWZpY2F0aW9uX3R5cGU6ICdsaWtlJyxcclxuICAgIHJlbGF0ZWRfaWQ6IDEwMSxcclxuICAgIGlzX3JlYWQ6IGZhbHNlLFxyXG4gICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDIsXHJcbiAgICB1c2VyX2lkOiAxMDIsXHJcbiAgICBjb250ZW50OiAn6rmA7LKg7IiY64uY7J20IO2ajOybkOuLmOydmCDqsozsi5zrrLzsl5Ag64yT6riA7J2EIOuCqOqyvOyKteuLiOuLpC4nLFxyXG4gICAgbm90aWZpY2F0aW9uX3R5cGU6ICdjb21tZW50JyxcclxuICAgIHJlbGF0ZWRfaWQ6IDEwMixcclxuICAgIGlzX3JlYWQ6IHRydWUsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSwgLy8gMeydvCDsoIRcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAzLFxyXG4gICAgdXNlcl9pZDogMTAzLFxyXG4gICAgY29udGVudDogJ+2WieuztSDssYzrprDsp4DqsIAg7Iuc7J6R65CY7JeI7Iq164uI64ukLicsXHJcbiAgICBub3RpZmljYXRpb25fdHlwZTogJ2NoYWxsZW5nZScsXHJcbiAgICByZWxhdGVkX2lkOiA1LFxyXG4gICAgaXNfcmVhZDogZmFsc2UsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksIC8vIDPsnbwg7KCEXHJcbiAgfSxcclxuXTtcclxuXHJcbmRlc2NyaWJlKCdOb3RpZmljYXRpb25TY3JlZW4nLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIFxyXG4gICAgLy8gQVBJIOydkeuLtSDrqqjtgrlcclxuICAgIChub3RpZmljYXRpb25TZXJ2aWNlLmdldE5vdGlmaWNhdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgIGRhdGE6IG1vY2tOb3RpZmljYXRpb25zLFxyXG4gICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAyMCwgdG90YWw6IDMgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIChub3RpZmljYXRpb25TZXJ2aWNlLm1hcmtBc1JlYWQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XHJcbiAgICAobm90aWZpY2F0aW9uU2VydmljZS5tYXJrQWxsQXNSZWFkIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgncmVuZGVycyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseScsICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPE5vdGlmaWNhdGlvblNjcmVlbiAvPik7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfslYzrprwg66Gc65SpIOykkS4uLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZW5kZXJzIG5vdGlmaWNhdGlvbnMgbGlzdCBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxOb3RpZmljYXRpb25TY3JlZW4gLz4pO1xyXG4gICAgXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgn7JWM66a8JykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgn7ZmN6ri464+Z64uY7J20IO2ajOybkOuLmOydmCDqsozsi5zrrLzsl5Ag7KKL7JWE7JqU66W8IOuIjOuggOyKteuLiOuLpC4nKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCfquYDssqDsiJjri5jsnbQg7ZqM7JuQ64uY7J2YIOqyjOyLnOusvOyXkCDrjJPquIDsnYQg64Ko6rK87Iq164uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ+2WieuztSDssYzrprDsp4DqsIAg7Iuc7J6R65CY7JeI7Iq164uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3dzIGVtcHR5IHN0YXRlIHdoZW4gbm8gbm90aWZpY2F0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgIChub3RpZmljYXRpb25TZXJ2aWNlLmdldE5vdGlmaWNhdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgIGRhdGE6IFtdLFxyXG4gICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAyMCwgdG90YWw6IDAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPE5vdGlmaWNhdGlvblNjcmVlbiAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCfslYzrprzsnbQg7JeG7Iq164uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ21hcmtzIG5vdGlmaWNhdGlvbiBhcyByZWFkIHdoZW4gY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPE5vdGlmaWNhdGlvblNjcmVlbiAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBjb25zdCBub3RpZmljYXRpb24gPSBnZXRCeVRleHQoJ+2Zjeq4uOuPmeuLmOydtCDtmozsm5Dri5jsnZgg6rKM7Iuc66y87JeQIOyii+yVhOyalOulvCDriIzroIDsirXri4jri6QuJyk7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhub3RpZmljYXRpb24pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGV4cGVjdChub3RpZmljYXRpb25TZXJ2aWNlLm1hcmtBc1JlYWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnbWFya3MgYWxsIG5vdGlmaWNhdGlvbnMgYXMgcmVhZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPE5vdGlmaWNhdGlvblNjcmVlbiAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBjb25zdCBtYXJrQWxsQnV0dG9uID0gZ2V0QnlUZXh0KCfrqqjrkZAg7J297J2MJyk7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhtYXJrQWxsQnV0dG9uKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBleHBlY3Qobm90aWZpY2F0aW9uU2VydmljZS5tYXJrQWxsQXNSZWFkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICBleHBlY3QoQWxlcnQuYWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCfshLHqs7UnLCAn66qo65OgIOyVjOumvOydtCDsnb3snYwg7LKY66as65CY7JeI7Iq164uI64ukLicpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnaGFuZGxlcyBlcnJvciBkdXJpbmcgbG9hZGluZycsIGFzeW5jICgpID0+IHtcclxuICAgIChub3RpZmljYXRpb25TZXJ2aWNlLmdldE5vdGlmaWNhdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ+uEpO2KuOybjO2BrCDsmKTrpZgnKSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPE5vdGlmaWNhdGlvblNjcmVlbiAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCfslYzrprzsnYQg67aI65+s7Jik64qUIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ+uLpOyLnCDsi5zrj4QnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdoYW5kbGVzIHJlZnJlc2ggZnVuY3Rpb25hbGl0eScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPE5vdGlmaWNhdGlvblNjcmVlbiAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBjb25zdCBtYXJrQWxsUmVhZEJ1dHRvbiA9IGdldEJ5VGV4dCgn66qo65GQIOydveydjCcpO1xyXG4gICAgICBmaXJlRXZlbnQucHJlc3MobWFya0FsbFJlYWRCdXR0b24pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGV4cGVjdChub3RpZmljYXRpb25TZXJ2aWNlLm1hcmtBbGxBc1JlYWQpLnRvSGF2ZUJl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