946f5a6bf29249ae3d52c1606372b726
_getJestObj().mock("../../src/services/api/client", function () {
  return {
    __esModule: true,
    default: {
      get: jest.fn(),
      put: jest.fn(),
      delete: jest.fn()
    }
  };
});
_getJestObj().mock("../../src/services/api/notificationService", function () {
  return {
    getNotifications: jest.fn(),
    markAsRead: jest.fn(),
    markAllAsRead: jest.fn(),
    getUnreadCount: jest.fn(),
    deleteNotification: jest.fn(),
    updateNotificationSettings: jest.fn(),
    getNotificationSettings: jest.fn()
  };
});
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn(),
        goBack: jest.fn()
      };
    }
  };
});
_getJestObj().mock('react-native/Libraries/Alert/Alert', function () {
  return {
    alert: jest.fn()
  };
});
_getJestObj().mock("../../src/components/LoadingIndicator", function () {
  return 'LoadingIndicator';
});
_getJestObj().mock("../../src/components/Button", function () {
  return 'Button';
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _NotificationScreen = _interopRequireDefault(require("../../src/screens/NotificationScreen"));
var _reactNative2 = require("react-native");
var _notificationService = _interopRequireDefault(require("../../src/services/api/notificationService"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockNotifications = [{
  id: 1,
  user_id: 101,
  content: '홍길동님이 회원님의 게시물에 좋아요를 눌렀습니다.',
  notification_type: 'like',
  related_id: 101,
  is_read: false,
  created_at: new Date().toISOString()
}, {
  id: 2,
  user_id: 102,
  content: '김철수님이 회원님의 게시물에 댓글을 남겼습니다.',
  notification_type: 'comment',
  related_id: 102,
  is_read: true,
  created_at: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()
}, {
  id: 3,
  user_id: 103,
  content: '행복 챌린지가 시작되었습니다.',
  notification_type: 'challenge',
  related_id: 5,
  is_read: false,
  created_at: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
}];
describe('NotificationScreen', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _notificationService.default.getNotifications.mockResolvedValue({
      data: mockNotifications,
      pagination: {
        page: 1,
        limit: 20,
        total: 3
      }
    });
    _notificationService.default.markAsRead.mockResolvedValue({
      success: true
    });
    _notificationService.default.markAllAsRead.mockResolvedValue({
      success: true
    });
  });
  it('renders loading state initially', function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      UNSAFE_getByType = _render.UNSAFE_getByType;
    expect(UNSAFE_getByType('LoadingIndicator')).toBeTruthy();
  });
  it('renders notifications list correctly', (0, _asyncToGenerator2.default)(function* () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      getByText = _render2.getByText,
      findByText = _render2.findByText;
    yield findByText('알림');
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('알림')).toBeTruthy();
      expect(getByText('홍길동님이 회원님의 게시물에 좋아요를 눌렀습니다.')).toBeTruthy();
      expect(getByText('김철수님이 회원님의 게시물에 댓글을 남겼습니다.')).toBeTruthy();
      expect(getByText('행복 챌린지가 시작되었습니다.')).toBeTruthy();
    });
  }));
  it('shows empty state when no notifications', (0, _asyncToGenerator2.default)(function* () {
    _notificationService.default.getNotifications.mockResolvedValue({
      data: [],
      pagination: {
        page: 1,
        limit: 20,
        total: 0
      }
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      findByText = _render3.findByText;
    yield findByText('알림이 없습니다.');
  }));
  it('marks notification as read when clicked', (0, _asyncToGenerator2.default)(function* () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      findByText = _render4.findByText;
    var notification = yield findByText('홍길동님이 회원님의 게시물에 좋아요를 눌렀습니다.');
    _reactNative.fireEvent.press(notification);
    yield (0, _reactNative.waitFor)(function () {
      expect(_notificationService.default.markAsRead).toHaveBeenCalledWith(1);
    });
  }));
  it('marks all notifications as read', (0, _asyncToGenerator2.default)(function* () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      findByText = _render5.findByText;
    var markAllButton = yield findByText('모두 읽음');
    _reactNative.fireEvent.press(markAllButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(_notificationService.default.markAllAsRead).toHaveBeenCalled();
      expect(_reactNative2.Alert.alert).toHaveBeenCalledWith('성공', '모든 알림이 읽음 처리되었습니다.');
    });
  }));
  it('handles error during loading', (0, _asyncToGenerator2.default)(function* () {
    _notificationService.default.getNotifications.mockRejectedValue(new Error('네트워크 오류'));
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      findByText = _render6.findByText;
    yield findByText('알림을 불러오는 중 오류가 발생했습니다.');
    yield findByText('다시 시도');
  }));
  it('handles refresh functionality', (0, _asyncToGenerator2.default)(function* () {
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_NotificationScreen.default, {})),
      findByText = _render7.findByText;
    var markAllReadButton = yield findByText('모두 읽음');
    _reactNative.fireEvent.press(markAllReadButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(_notificationService.default.markAllAsRead).toHaveBeenCalled();
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldCIsImplc3QiLCJmbiIsInB1dCIsImRlbGV0ZSIsImdldE5vdGlmaWNhdGlvbnMiLCJtYXJrQXNSZWFkIiwibWFya0FsbEFzUmVhZCIsImdldFVucmVhZENvdW50IiwiZGVsZXRlTm90aWZpY2F0aW9uIiwidXBkYXRlTm90aWZpY2F0aW9uU2V0dGluZ3MiLCJnZXROb3RpZmljYXRpb25TZXR0aW5ncyIsInVzZU5hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsImdvQmFjayIsImFsZXJ0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfTm90aWZpY2F0aW9uU2NyZWVuIiwiX3JlYWN0TmF0aXZlMiIsIl9ub3RpZmljYXRpb25TZXJ2aWNlIiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsIm1vY2tOb3RpZmljYXRpb25zIiwiaWQiLCJ1c2VyX2lkIiwiY29udGVudCIsIm5vdGlmaWNhdGlvbl90eXBlIiwicmVsYXRlZF9pZCIsImlzX3JlYWQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibm93IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm5vdGlmaWNhdGlvblNlcnZpY2UiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJwYWdpbmF0aW9uIiwicGFnZSIsImxpbWl0IiwidG90YWwiLCJzdWNjZXNzIiwiaXQiLCJfcmVuZGVyIiwicmVuZGVyIiwianN4IiwiVU5TQUZFX2dldEJ5VHlwZSIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJfcmVuZGVyMiIsImdldEJ5VGV4dCIsImZpbmRCeVRleHQiLCJ3YWl0Rm9yIiwiX3JlbmRlcjMiLCJfcmVuZGVyNCIsIm5vdGlmaWNhdGlvbiIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJfcmVuZGVyNSIsIm1hcmtBbGxCdXR0b24iLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiQWxlcnQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiX3JlbmRlcjYiLCJfcmVuZGVyNyIsIm1hcmtBbGxSZWFkQnV0dG9uIl0sInNvdXJjZXMiOlsiTm90aWZpY2F0aW9uU2NyZWVuLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIF9fdGVzdHNfXy9zY3JlZW5zL05vdGlmaWNhdGlvblNjcmVlbi50ZXN0LnRzeFxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IE5vdGlmaWNhdGlvblNjcmVlbiBmcm9tICcuLi8uLi9zcmMvc2NyZWVucy9Ob3RpZmljYXRpb25TY3JlZW4nO1xyXG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcblxyXG4vLyBBUEkg7YG065287J207Ja47Yq4IOuqqO2CuVxyXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9zZXJ2aWNlcy9hcGkvY2xpZW50JywgKCkgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBfX2VzTW9kdWxlOiB0cnVlLFxyXG4gICAgZGVmYXVsdDoge1xyXG4gICAgICBnZXQ6IGplc3QuZm4oKSxcclxuICAgICAgcHV0OiBqZXN0LmZuKCksXHJcbiAgICAgIGRlbGV0ZTogamVzdC5mbigpXHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcblxyXG4vLyBBUEkg7ISc67mE7IqkIOuqqO2CuVxyXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9zZXJ2aWNlcy9hcGkvbm90aWZpY2F0aW9uU2VydmljZScsICgpID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgZ2V0Tm90aWZpY2F0aW9uczogamVzdC5mbigpLFxyXG4gICAgbWFya0FzUmVhZDogamVzdC5mbigpLFxyXG4gICAgbWFya0FsbEFzUmVhZDogamVzdC5mbigpLFxyXG4gICAgZ2V0VW5yZWFkQ291bnQ6IGplc3QuZm4oKSxcclxuICAgIGRlbGV0ZU5vdGlmaWNhdGlvbjogamVzdC5mbigpLFxyXG4gICAgdXBkYXRlTm90aWZpY2F0aW9uU2V0dGluZ3M6IGplc3QuZm4oKSxcclxuICAgIGdldE5vdGlmaWNhdGlvblNldHRpbmdzOiBqZXN0LmZuKClcclxuICB9O1xyXG59KTtcclxuXHJcbi8vIOuEpOu5hOqyjOydtOyFmCDrqqjtgrlcclxuamVzdC5tb2NrKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnLCAoKSA9PiAoe1xyXG4gIHVzZU5hdmlnYXRpb246ICgpID0+ICh7XHJcbiAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxyXG4gICAgZ29CYWNrOiBqZXN0LmZuKCksXHJcbiAgfSksXHJcbn0pKTtcclxuXHJcbi8vIEFsZXJ0IOuqqO2CuVxyXG5qZXN0Lm1vY2soJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQWxlcnQvQWxlcnQnLCAoKSA9PiAoe1xyXG4gIGFsZXJ0OiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIOy7tO2PrOuEjO2KuCDrqqjtgrlcclxuamVzdC5tb2NrKCcuLi8uLi9zcmMvY29tcG9uZW50cy9Mb2FkaW5nSW5kaWNhdG9yJywgKCkgPT4gJ0xvYWRpbmdJbmRpY2F0b3InKTtcclxuamVzdC5tb2NrKCcuLi8uLi9zcmMvY29tcG9uZW50cy9CdXR0b24nLCAoKSA9PiAnQnV0dG9uJyk7XHJcblxyXG4vLyDthYzsiqTtirjsl5Ag7ZWE7JqU7ZWcIOuqqOuTiCDqsIDsoLjsmKTquLBcclxuaW1wb3J0IG5vdGlmaWNhdGlvblNlcnZpY2UgZnJvbSAnLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9ub3RpZmljYXRpb25TZXJ2aWNlJztcclxuXHJcbi8vIO2FjOyKpO2KuCDrjbDsnbTthLBcclxuY29uc3QgbW9ja05vdGlmaWNhdGlvbnMgPSBbXHJcbiAge1xyXG4gICAgaWQ6IDEsXHJcbiAgICB1c2VyX2lkOiAxMDEsXHJcbiAgICBjb250ZW50OiAn7ZmN6ri464+Z64uY7J20IO2ajOybkOuLmOydmCDqsozsi5zrrLzsl5Ag7KKL7JWE7JqU66W8IOuIjOuggOyKteuLiOuLpC4nLFxyXG4gICAgbm90aWZpY2F0aW9uX3R5cGU6ICdsaWtlJyxcclxuICAgIHJlbGF0ZWRfaWQ6IDEwMSxcclxuICAgIGlzX3JlYWQ6IGZhbHNlLFxyXG4gICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDIsXHJcbiAgICB1c2VyX2lkOiAxMDIsXHJcbiAgICBjb250ZW50OiAn6rmA7LKg7IiY64uY7J20IO2ajOybkOuLmOydmCDqsozsi5zrrLzsl5Ag64yT6riA7J2EIOuCqOqyvOyKteuLiOuLpC4nLFxyXG4gICAgbm90aWZpY2F0aW9uX3R5cGU6ICdjb21tZW50JyxcclxuICAgIHJlbGF0ZWRfaWQ6IDEwMixcclxuICAgIGlzX3JlYWQ6IHRydWUsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSwgLy8gMeydvCDsoIRcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAzLFxyXG4gICAgdXNlcl9pZDogMTAzLFxyXG4gICAgY29udGVudDogJ+2WieuztSDssYzrprDsp4DqsIAg7Iuc7J6R65CY7JeI7Iq164uI64ukLicsXHJcbiAgICBub3RpZmljYXRpb25fdHlwZTogJ2NoYWxsZW5nZScsXHJcbiAgICByZWxhdGVkX2lkOiA1LFxyXG4gICAgaXNfcmVhZDogZmFsc2UsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksIC8vIDPsnbwg7KCEXHJcbiAgfSxcclxuXTtcclxuXHJcbmRlc2NyaWJlKCdOb3RpZmljYXRpb25TY3JlZW4nLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIFxyXG4gICAgLy8gQVBJIOydkeuLtSDrqqjtgrlcclxuICAgIChub3RpZmljYXRpb25TZXJ2aWNlLmdldE5vdGlmaWNhdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgIGRhdGE6IG1vY2tOb3RpZmljYXRpb25zLFxyXG4gICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAyMCwgdG90YWw6IDMgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIChub3RpZmljYXRpb25TZXJ2aWNlLm1hcmtBc1JlYWQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XHJcbiAgICAobm90aWZpY2F0aW9uU2VydmljZS5tYXJrQWxsQXNSZWFkIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgncmVuZGVycyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseScsICgpID0+IHtcclxuICAgIGNvbnN0IHsgVU5TQUZFX2dldEJ5VHlwZSB9ID0gcmVuZGVyKDxOb3RpZmljYXRpb25TY3JlZW4gLz4pO1xyXG4gICAgZXhwZWN0KFVOU0FGRV9nZXRCeVR5cGUoJ0xvYWRpbmdJbmRpY2F0b3InKSkudG9CZVRydXRoeSgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgncmVuZGVycyBub3RpZmljYXRpb25zIGxpc3QgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGZpbmRCeVRleHQgfSA9IHJlbmRlcig8Tm90aWZpY2F0aW9uU2NyZWVuIC8+KTtcclxuICAgIFxyXG4gICAgLy8g67mE64+Z6riw7KCB7Jy866GcIOy7tO2PrOuEjO2KuOqwgCDsl4XrjbDsnbTtirjrkKAg65WM6rmM7KeAIOuMgOq4sFxyXG4gICAgYXdhaXQgZmluZEJ5VGV4dCgn7JWM66a8Jyk7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCfslYzrprwnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCftmY3quLjrj5nri5jsnbQg7ZqM7JuQ64uY7J2YIOqyjOyLnOusvOyXkCDsoovslYTsmpTrpbwg64iM66CA7Iq164uI64ukLicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ+q5gOyyoOyImOuLmOydtCDtmozsm5Dri5jsnZgg6rKM7Iuc66y87JeQIOuMk+q4gOydhCDrgqjqsrzsirXri4jri6QuJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgn7ZaJ67O1IOyxjOumsOyngOqwgCDsi5zsnpHrkJjsl4jsirXri4jri6QuJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvd3MgZW1wdHkgc3RhdGUgd2hlbiBubyBub3RpZmljYXRpb25zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgKG5vdGlmaWNhdGlvblNlcnZpY2UuZ2V0Tm90aWZpY2F0aW9ucyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgZGF0YTogW10sXHJcbiAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgbGltaXQ6IDIwLCB0b3RhbDogMCB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBmaW5kQnlUZXh0IH0gPSByZW5kZXIoPE5vdGlmaWNhdGlvblNjcmVlbiAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IGZpbmRCeVRleHQoJ+yVjOumvOydtCDsl4bsirXri4jri6QuJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdtYXJrcyBub3RpZmljYXRpb24gYXMgcmVhZCB3aGVuIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGZpbmRCeVRleHQgfSA9IHJlbmRlcig8Tm90aWZpY2F0aW9uU2NyZWVuIC8+KTtcclxuICAgIFxyXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgZmluZEJ5VGV4dCgn7ZmN6ri464+Z64uY7J20IO2ajOybkOuLmOydmCDqsozsi5zrrLzsl5Ag7KKL7JWE7JqU66W8IOuIjOuggOyKteuLiOuLpC4nKTtcclxuICAgIGZpcmVFdmVudC5wcmVzcyhub3RpZmljYXRpb24pO1xyXG4gICAgXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG5vdGlmaWNhdGlvblNlcnZpY2UubWFya0FzUmVhZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ21hcmtzIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGZpbmRCeVRleHQgfSA9IHJlbmRlcig8Tm90aWZpY2F0aW9uU2NyZWVuIC8+KTtcclxuICAgIFxyXG4gICAgY29uc3QgbWFya0FsbEJ1dHRvbiA9IGF3YWl0IGZpbmRCeVRleHQoJ+uqqOuRkCDsnb3snYwnKTtcclxuICAgIGZpcmVFdmVudC5wcmVzcyhtYXJrQWxsQnV0dG9uKTtcclxuICAgIFxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChub3RpZmljYXRpb25TZXJ2aWNlLm1hcmtBbGxBc1JlYWQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgICAgZXhwZWN0KEFsZXJ0LmFsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgn7ISx6rO1JywgJ+uqqOuToCDslYzrprzsnbQg7J297J2MIOyymOumrOuQmOyXiOyKteuLiOuLpC4nKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnaGFuZGxlcyBlcnJvciBkdXJpbmcgbG9hZGluZycsIGFzeW5jICgpID0+IHtcclxuICAgIChub3RpZmljYXRpb25TZXJ2aWNlLmdldE5vdGlmaWNhdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ+uEpO2KuOybjO2BrCDsmKTrpZgnKSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZmluZEJ5VGV4dCB9ID0gcmVuZGVyKDxOb3RpZmljYXRpb25TY3JlZW4gLz4pO1xyXG4gICAgXHJcbiAgICBhd2FpdCBmaW5kQnlUZXh0KCfslYzrprzsnYQg67aI65+s7Jik64qUIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicpO1xyXG4gICAgYXdhaXQgZmluZEJ5VGV4dCgn64uk7IucIOyLnOuPhCcpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnaGFuZGxlcyByZWZyZXNoIGZ1bmN0aW9uYWxpdHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGZpbmRCeVRleHQgfSA9IHJlbmRlcig8Tm90aWZpY2F0aW9uU2NyZWVuIC8+KTtcclxuICAgIFxyXG4gICAgY29uc3QgbWFya0FsbFJlYWRCdXR0b24gPSBhd2FpdCBmaW5kQnlUZXh0KCfrqqjrkZAg7J297J2MJyk7XHJcbiAgICBmaXJlRXZlbnQucHJlc3MobWFya0FsbFJlYWRCdXR0b24pO1xyXG4gICAgXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG5vdGlmaWNhdGlvblNlcnZpY2UubWFya0FsbEFzUmVhZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBT0FBLFdBQUEsR0FBS0MsSUFBSSxrQ0FBa0MsWUFBTTtFQUMvQyxPQUFPO0lBQ0xDLFVBQVUsRUFBRSxJQUFJO0lBQ2hCQyxPQUFPLEVBQUU7TUFDUEMsR0FBRyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ2RDLEdBQUcsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNkRSxNQUFNLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ2xCO0VBQ0Ys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