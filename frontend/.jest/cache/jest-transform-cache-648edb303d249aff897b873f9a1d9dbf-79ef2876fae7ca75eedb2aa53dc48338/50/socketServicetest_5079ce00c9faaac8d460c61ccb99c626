c9aaa7fad3ddfb903eb7461ddd20e87e
_getJestObj().mock('socket.io-client', function () {
  var mockSocket = {
    on: jest.fn(),
    off: jest.fn(),
    emit: jest.fn(),
    disconnect: jest.fn(),
    connected: false
  };
  return {
    io: jest.fn(function () {
      return mockSocket;
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _socketService = _interopRequireDefault(require("../../../../src/services/socketService"));
var _socket = require("socket.io-client");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var localStorageMock = function () {
  var store = {};
  return {
    getItem: jest.fn(function (key) {
      return store[key] || null;
    }),
    setItem: jest.fn(function (key, value) {
      store[key] = value;
    }),
    removeItem: jest.fn(function (key) {
      delete store[key];
    }),
    clear: jest.fn(function () {
      store = {};
    })
  };
}();
Object.defineProperty(global, 'localStorage', {
  value: localStorageMock
});
global.console.error = jest.fn();
global.console.log = jest.fn();
describe('SocketService', function () {
  var mockSocket;
  beforeEach(function () {
    jest.clearAllMocks();
    localStorageMock.clear();
    _socket.io.mockClear();
    mockSocket = (0, _socket.io)();
    mockSocket.connected = false;
  });
  describe('init()', function () {
    it.skip('토큰이 없으면 예외를 발생시킨다', (0, _asyncToGenerator2.default)(function* () {}));
    it('토큰이 있으면 소켓을 초기화한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      expect(_socket.io).toHaveBeenCalledWith(expect.any(String), expect.objectContaining({
        auth: {
          token: 'mock-token'
        }
      }));
      expect(mockSocket.on).toHaveBeenCalledWith('connect', expect.any(Function));
      expect(mockSocket.on).toHaveBeenCalledWith('connect_error', expect.any(Function));
      expect(mockSocket.on).toHaveBeenCalledWith('disconnect', expect.any(Function));
      expect(mockSocket.on).toHaveBeenCalledWith('error', expect.any(Function));
    }));
    it('이미 연결된 소켓이 있으면 새로 연결을 생성하지 않는다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      mockSocket.connected = true;
      _socket.io.mockClear();
      yield _socketService.default.init();
      expect(_socket.io).not.toHaveBeenCalled();
    }));
  });
  describe('disconnect()', function () {
    it('소켓 연결을 해제한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      _socketService.default.disconnect();
      expect(mockSocket.disconnect).toHaveBeenCalled();
    }));
  });
  describe('on()', function () {
    it('소켓이 없으면 에러를 기록한다', function () {
      var callback = jest.fn();
      _socketService.default.on('test-event', callback);
      expect(console.error).toHaveBeenCalledWith('소켓이 초기화되지 않았습니다');
    });
    it('소켓에 이벤트 리스너를 등록한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      var callback = jest.fn();
      _socketService.default.on('test-event', callback);
      expect(mockSocket.on).toHaveBeenCalledWith('test-event', callback);
    }));
  });
  describe('off()', function () {
    it('소켓이 없으면 아무 일도 일어나지 않는다', function () {
      _socketService.default['socket'] = null;
      mockSocket.off.mockClear();
      var callback = jest.fn();
      _socketService.default.off('test-event', callback);
      expect(mockSocket.off).not.toHaveBeenCalled();
    });
    it('콜백이 있으면 특정 리스너를 제거한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      var callback = jest.fn();
      _socketService.default.off('test-event', callback);
      expect(mockSocket.off).toHaveBeenCalledWith('test-event', callback);
    }));
    it('콜백이 없으면 이벤트의 모든 리스너를 제거한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      _socketService.default.off('test-event');
      expect(mockSocket.off).toHaveBeenCalledWith('test-event');
    }));
  });
  describe('emit()', function () {
    it('소켓이 연결되지 않았으면 에러를 기록한다', function () {
      _socketService.default.emit('test-event', {
        data: 'test'
      });
      expect(console.error).toHaveBeenCalledWith('소켓이 연결되지 않았습니다');
    });
    it('소켓이 연결되었으면 이벤트를 전송한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      mockSocket.connected = true;
      var data = {
        data: 'test'
      };
      _socketService.default.emit('test-event', data);
      expect(mockSocket.emit).toHaveBeenCalledWith('test-event', data);
    }));
  });
  describe('isConnected()', function () {
    it('소켓이 없으면 false를 반환한다', function () {
      expect(_socketService.default.isConnected()).toBe(false);
    });
    it('소켓이 있지만 연결되지 않았으면 false를 반환한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      mockSocket.connected = false;
      expect(_socketService.default.isConnected()).toBe(false);
    }));
    it('소켓이 연결되었으면 true를 반환한다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          callback();
        }
      });
      yield _socketService.default.init();
      mockSocket.connected = true;
      expect(_socketService.default.isConnected()).toBe(true);
    }));
  });
  describe('이벤트 핸들러', function () {
    it('connect 이벤트가 발생하면 Promise가 해결된다', (0, _asyncToGenerator2.default)(function* () {
      localStorageMock.setItem('token', 'mock-token');
      var connectHandler = null;
      mockSocket.on.mockImplementation(function (event, callback) {
        if (event === 'connect') {
          connectHandler = callback;
        }
      });
      var initPromise = _socketService.default.init();
      expect(mockSocket.on).toHaveBeenCalledWith('connect', expect.any(Function));
      expect(connectHandler).not.toBeNull();
      if (connectHandler) {
        connectHandler();
      }
      yield initPromise;
      expect(console.log).toHaveBeenCalledWith('소켓 연결됨');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJtb2NrU29ja2V0Iiwib24iLCJqZXN0IiwiZm4iLCJvZmYiLCJlbWl0IiwiZGlzY29ubmVjdCIsImNvbm5lY3RlZCIsImlvIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfc29ja2V0U2VydmljZSIsIl9zb2NrZXQiLCJfcmVxdWlyZSIsImxvY2FsU3RvcmFnZU1vY2siLCJzdG9yZSIsImdldEl0ZW0iLCJrZXkiLCJzZXRJdGVtIiwidmFsdWUiLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdsb2JhbCIsImNvbnNvbGUiLCJlcnJvciIsImxvZyIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrQ2xlYXIiLCJpdCIsInNraXAiLCJkZWZhdWx0IiwibW9ja0ltcGxlbWVudGF0aW9uIiwiZXZlbnQiLCJjYWxsYmFjayIsInNvY2tldFNlcnZpY2UiLCJpbml0IiwiZXhwZWN0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJhbnkiLCJTdHJpbmciLCJvYmplY3RDb250YWluaW5nIiwiYXV0aCIsInRva2VuIiwiRnVuY3Rpb24iLCJub3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiZGF0YSIsImlzQ29ubmVjdGVkIiwidG9CZSIsImNvbm5lY3RIYW5kbGVyIiwiaW5pdFByb21pc2UiLCJ0b0JlTnVsbCJdLCJzb3VyY2VzIjpbInNvY2tldFNlcnZpY2UudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBfX3Rlc3RzX18vdW5pdC9zZXJ2aWNlcy9hcGkvc29ja2V0U2VydmljZS50ZXN0LnRzXHJcbmltcG9ydCBzb2NrZXRTZXJ2aWNlIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9zb2NrZXRTZXJ2aWNlJztcclxuaW1wb3J0IHsgaW8gfSBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcclxuXHJcbi8vIFNvY2tldC5pby1jbGllbnQg66qo7YK5XHJcbmplc3QubW9jaygnc29ja2V0LmlvLWNsaWVudCcsICgpID0+IHtcclxuICBjb25zdCBtb2NrU29ja2V0ID0ge1xyXG4gICAgb246IGplc3QuZm4oKSxcclxuICAgIG9mZjogamVzdC5mbigpLFxyXG4gICAgZW1pdDogamVzdC5mbigpLFxyXG4gICAgZGlzY29ubmVjdDogamVzdC5mbigpLFxyXG4gICAgY29ubmVjdGVkOiBmYWxzZVxyXG4gIH07XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIGlvOiBqZXN0LmZuKCgpID0+IG1vY2tTb2NrZXQpXHJcbiAgfTtcclxufSk7XHJcblxyXG4vLyBsb2NhbFN0b3JhZ2Ug66qo7YK5XHJcbmNvbnN0IGxvY2FsU3RvcmFnZU1vY2sgPSAoKCkgPT4ge1xyXG4gIGxldCBzdG9yZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG4gIHJldHVybiB7XHJcbiAgICBnZXRJdGVtOiBqZXN0LmZuKChrZXk6IHN0cmluZykgPT4gc3RvcmVba2V5XSB8fCBudWxsKSxcclxuICAgIHNldEl0ZW06IGplc3QuZm4oKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHN0b3JlW2tleV0gPSB2YWx1ZTtcclxuICAgIH0pLFxyXG4gICAgcmVtb3ZlSXRlbTogamVzdC5mbigoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgZGVsZXRlIHN0b3JlW2tleV07XHJcbiAgICB9KSxcclxuICAgIGNsZWFyOiBqZXN0LmZuKCgpID0+IHtcclxuICAgICAgc3RvcmUgPSB7fTtcclxuICAgIH0pXHJcbiAgfTtcclxufSkoKTtcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwsICdsb2NhbFN0b3JhZ2UnLCB7XHJcbiAgdmFsdWU6IGxvY2FsU3RvcmFnZU1vY2tcclxufSk7XHJcblxyXG4vLyBjb25zb2xlIOq0gOugqCDrqqjtgrlcclxuZ2xvYmFsLmNvbnNvbGUuZXJyb3IgPSBqZXN0LmZuKCk7XHJcbmdsb2JhbC5jb25zb2xlLmxvZyA9IGplc3QuZm4oKTtcclxuXHJcbmRlc2NyaWJlKCdTb2NrZXRTZXJ2aWNlJywgKCkgPT4ge1xyXG4gIGxldCBtb2NrU29ja2V0OiBhbnk7XHJcbiAgXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suY2xlYXIoKTtcclxuICAgIFxyXG4gICAgLy8g66qo7YK565CcIOyGjOy8kyDssLjsobAg6rCA7KC47Jik6riwIOuwjyDstIjquLDtmZRcclxuICAgIChpbyBhcyBqZXN0Lk1vY2spLm1vY2tDbGVhcigpO1xyXG4gICAgbW9ja1NvY2tldCA9IChpbyBhcyBqZXN0Lk1vY2spKCk7XHJcbiAgICBtb2NrU29ja2V0LmNvbm5lY3RlZCA9IGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnaW5pdCgpJywgKCkgPT4ge1xyXG4gICAgLy8g7J20IO2FjOyKpO2KuOuKlCDqsbTrhIjrnIHri4jri6QgKHNraXApXHJcbiAgICBpdC5za2lwKCfthqDtgbDsnbQg7JeG7Jy866m0IOyYiOyZuOulvCDrsJzsg53si5ztgqjri6QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOydtCDthYzsiqTtirjrpbwg6rG064SI65yB64uI64ukXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn7Yag7YGw7J20IOyeiOycvOuptCDshozsvJPsnYQg7LSI6riw7ZmU7ZWc64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Xsl5Ag7Yag7YGwIOyEpOyglVxyXG4gICAgICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0oJ3Rva2VuJywgJ21vY2stdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbm5lY3Qg7J2067Kk7Yq4IO2VuOuTpOufrCDrqqjtgrlcclxuICAgICAgbW9ja1NvY2tldC5vbi5tb2NrSW1wbGVtZW50YXRpb24oKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Nvbm5lY3QnKSB7XHJcbiAgICAgICAgICAvLyDsponsi5wgY29ubmVjdCDsnbTrsqTtirgg67Cc7IOdXHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzb2NrZXRTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGlv6rCAIO2YuOy2nOuQmOyXiOuKlOyngCDtmZXsnbhcclxuICAgICAgZXhwZWN0KGlvKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICBleHBlY3QuYW55KFN0cmluZyksIFxyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcclxuICAgICAgICAgIGF1dGg6IHsgdG9rZW46ICdtb2NrLXRva2VuJyB9XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOydtOuypO2KuCDrpqzsiqTrhIjqsIAg65Ox66Gd65CY7JeI64qU7KeAIO2ZleyduFxyXG4gICAgICBleHBlY3QobW9ja1NvY2tldC5vbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Nvbm5lY3QnLCBleHBlY3QuYW55KEZ1bmN0aW9uKSk7XHJcbiAgICAgIGV4cGVjdChtb2NrU29ja2V0Lm9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY29ubmVjdF9lcnJvcicsIGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcclxuICAgICAgZXhwZWN0KG1vY2tTb2NrZXQub24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdkaXNjb25uZWN0JywgZXhwZWN0LmFueShGdW5jdGlvbikpO1xyXG4gICAgICBleHBlY3QobW9ja1NvY2tldC5vbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Vycm9yJywgZXhwZWN0LmFueShGdW5jdGlvbikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+ydtOuvuCDsl7DqsrDrkJwg7IaM7LyT7J20IOyeiOycvOuptCDsg4jroZwg7Jew6rKw7J2EIOyDneyEse2VmOyngCDslYrripTri6QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIGxvY2FsU3RvcmFnZeyXkCDthqDtgbAg7ISk7KCVXHJcbiAgICAgIGxvY2FsU3RvcmFnZU1vY2suc2V0SXRlbSgndG9rZW4nLCAnbW9jay10b2tlbicpO1xyXG4gICAgICBcclxuICAgICAgLy8gY29ubmVjdCDsnbTrsqTtirgg7ZW465Ok65+sIOuqqO2CuVxyXG4gICAgICBtb2NrU29ja2V0Lm9uLm1vY2tJbXBsZW1lbnRhdGlvbigoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnY29ubmVjdCcpIHtcclxuICAgICAgICAgIC8vIOymieyLnCBjb25uZWN0IOydtOuypO2KuCDrsJzsg51cclxuICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIOyyqyDrsojsp7gg7Jew6rKwXHJcbiAgICAgIGF3YWl0IHNvY2tldFNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICBcclxuICAgICAgLy8g7Jew6rKwIOyDge2DnCDshKTsoJVcclxuICAgICAgbW9ja1NvY2tldC5jb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICBcclxuICAgICAgLy8gaW8g7Zi47LacIOy0iOq4sO2ZlFxyXG4gICAgICAoaW8gYXMgamVzdC5Nb2NrKS5tb2NrQ2xlYXIoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOuRkCDrsojsp7gg7Jew6rKwIOyLnOuPhFxyXG4gICAgICBhd2FpdCBzb2NrZXRTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGlv6rCAIO2YuOy2nOuQmOyngCDslYrslZjripTsp4Ag7ZmV7J24XHJcbiAgICAgIGV4cGVjdChpbykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZGlzY29ubmVjdCgpJywgKCkgPT4ge1xyXG4gICAgaXQoJ+yGjOy8kyDsl7DqsrDsnYQg7ZW07KCc7ZWc64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Xsl5Ag7Yag7YGwIOyEpOyglVxyXG4gICAgICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0oJ3Rva2VuJywgJ21vY2stdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbm5lY3Qg7J2067Kk7Yq4IO2VuOuTpOufrCDrqqjtgrlcclxuICAgICAgbW9ja1NvY2tldC5vbi5tb2NrSW1wbGVtZW50YXRpb24oKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Nvbm5lY3QnKSB7XHJcbiAgICAgICAgICAvLyDsponsi5wgY29ubmVjdCDsnbTrsqTtirgg67Cc7IOdXHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzb2NrZXRTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgXHJcbiAgICAgIHNvY2tldFNlcnZpY2UuZGlzY29ubmVjdCgpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG1vY2tTb2NrZXQuZGlzY29ubmVjdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdvbigpJywgKCkgPT4ge1xyXG4gICAgaXQoJ+yGjOy8k+ydtCDsl4bsnLzrqbQg7JeQ65+s66W8IOq4sOuhne2VnOuLpCcsICgpID0+IHtcclxuICAgICAgY29uc3QgY2FsbGJhY2sgPSBqZXN0LmZuKCk7XHJcbiAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3Rlc3QtZXZlbnQnLCBjYWxsYmFjayk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29uc29sZS5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ+yGjOy8k+ydtCDstIjquLDtmZTrkJjsp4Ag7JWK7JWY7Iq164uI64ukJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn7IaM7LyT7JeQIOydtOuypO2KuCDrpqzsiqTrhIjrpbwg65Ox66Gd7ZWc64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Xsl5Ag7Yag7YGwIOyEpOyglVxyXG4gICAgICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0oJ3Rva2VuJywgJ21vY2stdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbm5lY3Qg7J2067Kk7Yq4IO2VuOuTpOufrCDrqqjtgrlcclxuICAgICAgbW9ja1NvY2tldC5vbi5tb2NrSW1wbGVtZW50YXRpb24oKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Nvbm5lY3QnKSB7XHJcbiAgICAgICAgICAvLyDsponsi5wgY29ubmVjdCDsnbTrsqTtirgg67Cc7IOdXHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzb2NrZXRTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gamVzdC5mbigpO1xyXG4gICAgICBzb2NrZXRTZXJ2aWNlLm9uKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG1vY2tTb2NrZXQub24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LWV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdvZmYoKScsICgpID0+IHtcclxuICAgIGl0KCfshozsvJPsnbQg7JeG7Jy866m0IOyVhOustCDsnbzrj4Qg7J287Ja064KY7KeAIOyViuuKlOuLpCcsICgpID0+IHtcclxuICAgICAgLy8g7YWM7Iqk7Yq4IOyghOyXkCDrqoXsi5zsoIHsnLzroZwgc29ja2V0U2VydmljZSDrgrTrtoDsnZggc29ja2V0IOyGjeyEseydhCBudWxs66GcIOyEpOyglVxyXG4gICAgICAvLyBAdHMtaWdub3JlOiDthYzsiqTtirjrpbwg7JyE7ZW0IHByaXZhdGUg7IaN7ISx7JeQIOygkeq3vFxyXG4gICAgICBzb2NrZXRTZXJ2aWNlWydzb2NrZXQnXSA9IG51bGw7XHJcbiAgICAgIFxyXG4gICAgICAvLyBvZmYg7Zi47LacIOyghOyXkCBtb2NrU29ja2V0Lm9mZiDtmLjstpwg6riw66GdIOy0iOq4sO2ZlFxyXG4gICAgICBtb2NrU29ja2V0Lm9mZi5tb2NrQ2xlYXIoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gamVzdC5mbigpO1xyXG4gICAgICBzb2NrZXRTZXJ2aWNlLm9mZigndGVzdC1ldmVudCcsIGNhbGxiYWNrKTtcclxuICAgICAgXHJcbiAgICAgIC8vIG1vY2tTb2NrZXQub2Zm6rCAIO2YuOy2nOuQmOyngCDslYrslZjripTsp4Ag7ZmV7J24XHJcbiAgICAgIGV4cGVjdChtb2NrU29ja2V0Lm9mZikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfsvZzrsLHsnbQg7J6I7Jy866m0IO2KueyglSDrpqzsiqTrhIjrpbwg7KCc6rGw7ZWc64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Xsl5Ag7Yag7YGwIOyEpOyglVxyXG4gICAgICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0oJ3Rva2VuJywgJ21vY2stdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbm5lY3Qg7J2067Kk7Yq4IO2VuOuTpOufrCDrqqjtgrlcclxuICAgICAgbW9ja1NvY2tldC5vbi5tb2NrSW1wbGVtZW50YXRpb24oKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Nvbm5lY3QnKSB7XHJcbiAgICAgICAgICAvLyDsponsi5wgY29ubmVjdCDsnbTrsqTtirgg67Cc7IOdXHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzb2NrZXRTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gamVzdC5mbigpO1xyXG4gICAgICBzb2NrZXRTZXJ2aWNlLm9mZigndGVzdC1ldmVudCcsIGNhbGxiYWNrKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrU29ja2V0Lm9mZikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3QtZXZlbnQnLCBjYWxsYmFjayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn7L2c67Cx7J20IOyXhuycvOuptCDsnbTrsqTtirjsnZgg66qo65OgIOumrOyKpOuEiOulvCDsoJzqsbDtlZzri6QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIGxvY2FsU3RvcmFnZeyXkCDthqDtgbAg7ISk7KCVXHJcbiAgICAgIGxvY2FsU3RvcmFnZU1vY2suc2V0SXRlbSgndG9rZW4nLCAnbW9jay10b2tlbicpO1xyXG4gICAgICBcclxuICAgICAgLy8gY29ubmVjdCDsnbTrsqTtirgg7ZW465Ok65+sIOuqqO2CuVxyXG4gICAgICBtb2NrU29ja2V0Lm9uLm1vY2tJbXBsZW1lbnRhdGlvbigoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnY29ubmVjdCcpIHtcclxuICAgICAgICAgIC8vIOymieyLnCBjb25uZWN0IOydtOuypO2KuCDrsJzsg51cclxuICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IHNvY2tldFNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICBcclxuICAgICAgc29ja2V0U2VydmljZS5vZmYoJ3Rlc3QtZXZlbnQnKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrU29ja2V0Lm9mZikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3QtZXZlbnQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZW1pdCgpJywgKCkgPT4ge1xyXG4gICAgaXQoJ+yGjOy8k+ydtCDsl7DqsrDrkJjsp4Ag7JWK7JWY7Jy866m0IOyXkOufrOulvCDquLDroZ3tlZzri6QnLCAoKSA9PiB7XHJcbiAgICAgIHNvY2tldFNlcnZpY2UuZW1pdCgndGVzdC1ldmVudCcsIHsgZGF0YTogJ3Rlc3QnIH0pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGNvbnNvbGUuZXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCfshozsvJPsnbQg7Jew6rKw65CY7KeAIOyViuyVmOyKteuLiOuLpCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+yGjOy8k+ydtCDsl7DqsrDrkJjsl4jsnLzrqbQg7J2067Kk7Yq466W8IOyghOyGoe2VnOuLpCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gbG9jYWxTdG9yYWdl7JeQIO2GoO2BsCDshKTsoJVcclxuICAgICAgbG9jYWxTdG9yYWdlTW9jay5zZXRJdGVtKCd0b2tlbicsICdtb2NrLXRva2VuJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBjb25uZWN0IOydtOuypO2KuCDtlbjrk6Trn6wg66qo7YK5XHJcbiAgICAgIG1vY2tTb2NrZXQub24ubW9ja0ltcGxlbWVudGF0aW9uKChldmVudDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQgPT09ICdjb25uZWN0Jykge1xyXG4gICAgICAgICAgLy8g7KaJ7IucIGNvbm5lY3Qg7J2067Kk7Yq4IOuwnOyDnVxyXG4gICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgc29ja2V0U2VydmljZS5pbml0KCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDsl7DqsrAg7IOB7YOcIOyEpOyglVxyXG4gICAgICBtb2NrU29ja2V0LmNvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0geyBkYXRhOiAndGVzdCcgfTtcclxuICAgICAgc29ja2V0U2VydmljZS5lbWl0KCd0ZXN0LWV2ZW50JywgZGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobW9ja1NvY2tldC5lbWl0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdC1ldmVudCcsIGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdpc0Nvbm5lY3RlZCgpJywgKCkgPT4ge1xyXG4gICAgaXQoJ+yGjOy8k+ydtCDsl4bsnLzrqbQgZmFsc2Xrpbwg67CY7ZmY7ZWc64ukJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3Qoc29ja2V0U2VydmljZS5pc0Nvbm5lY3RlZCgpKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfshozsvJPsnbQg7J6I7KeA66eMIOyXsOqysOuQmOyngCDslYrslZjsnLzrqbQgZmFsc2Xrpbwg67CY7ZmY7ZWc64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Xsl5Ag7Yag7YGwIOyEpOyglVxyXG4gICAgICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0oJ3Rva2VuJywgJ21vY2stdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbm5lY3Qg7J2067Kk7Yq4IO2VuOuTpOufrCDrqqjtgrlcclxuICAgICAgbW9ja1NvY2tldC5vbi5tb2NrSW1wbGVtZW50YXRpb24oKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Nvbm5lY3QnKSB7XHJcbiAgICAgICAgICAvLyDsponsi5wgY29ubmVjdCDsnbTrsqTtirgg67Cc7IOdXHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzb2NrZXRTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOyXsOqysCDsg4Htg5wg7ISk7KCVXHJcbiAgICAgIG1vY2tTb2NrZXQuY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc29ja2V0U2VydmljZS5pc0Nvbm5lY3RlZCgpKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfshozsvJPsnbQg7Jew6rKw65CY7JeI7Jy866m0IHRydWXrpbwg67CY7ZmY7ZWc64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Xsl5Ag7Yag7YGwIOyEpOyglVxyXG4gICAgICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0oJ3Rva2VuJywgJ21vY2stdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbm5lY3Qg7J2067Kk7Yq4IO2VuOuTpOufrCDrqqjtgrlcclxuICAgICAgbW9ja1NvY2tldC5vbi5tb2NrSW1wbGVtZW50YXRpb24oKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Nvbm5lY3QnKSB7XHJcbiAgICAgICAgICAvLyDsponsi5wgY29ubmVjdCDsnbTrsqTtirgg67Cc7IOdXHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzb2NrZXRTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOyXsOqysCDsg4Htg5wg7ISk7KCVXHJcbiAgICAgIG1vY2tTb2NrZXQuY29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChzb2NrZXRTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+ydtOuypO2KuCDtlbjrk6Trn6wnLCAoKSA9PiB7XHJcbiAgICBpdCgnY29ubmVjdCDsnbTrsqTtirjqsIAg67Cc7IOd7ZWY66m0IFByb21pc2XqsIAg7ZW06rKw65Cc64ukJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2Xsl5Ag7Yag7YGwIOyEpOyglVxyXG4gICAgICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0oJ3Rva2VuJywgJ21vY2stdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGNvbm5lY3Qg7ZW465Ok65+s66W8IOuwlOuhnCDtmLjstpztlZjsp4Ag7JWK6rOgIOyggOyepVxyXG4gICAgICBsZXQgY29ubmVjdEhhbmRsZXI6ICgocmVhc29uPzogYW55KSA9PiB2b2lkKSB8IG51bGwgPSBudWxsIGFzICgocmVhc29uPzogYW55KSA9PiB2b2lkKSB8IG51bGw7XHJcblxyXG4gICAgICBtb2NrU29ja2V0Lm9uLm1vY2tJbXBsZW1lbnRhdGlvbigoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IChyZWFzb24/OiBhbnkpID0+IHZvaWQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQgPT09ICdjb25uZWN0Jykge1xyXG4gICAgICAgICAgY29ubmVjdEhhbmRsZXIgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gaW5pdCDtmLjstpwgKOyVhOyngSBjb25uZWN0IOydtOuypO2KuOuKlCDrsJzsg53tlZjsp4Ag7JWK7J2MKVxyXG4gICAgICBjb25zdCBpbml0UHJvbWlzZSA9IHNvY2tldFNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gY29ubmVjdCDtlbjrk6Trn6zqsIAg65Ox66Gd65CY7JeI64qU7KeAIO2ZleyduFxyXG4gICAgICBleHBlY3QobW9ja1NvY2tldC5vbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Nvbm5lY3QnLCBleHBlY3QuYW55KEZ1bmN0aW9uKSk7XHJcbiAgICAgIGV4cGVjdChjb25uZWN0SGFuZGxlcikubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBjb25uZWN0IOydtOuypO2KuCDsi5zrrqzroIjsnbTshZhcclxuICAgICAgaWYgKGNvbm5lY3RIYW5kbGVyKSB7XHJcbiAgICAgICAgY29ubmVjdEhhbmRsZXIoKTsgLy8g7J247J6QIOyXhuydtCDtmLjstpxcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gUHJvbWlzZeqwgCDtlbTqsrDrkJjsl4jripTsp4Ag7ZmV7J24XHJcbiAgICAgIGF3YWl0IGluaXRQcm9taXNlO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGNvbnNvbGUubG9nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgn7IaM7LyTIOyXsOqysOuQqCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBS0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGtCQUFrQixFQUFFLFlBQU07RUFDbEMsSUFBTUMsVUFBVSxHQUFHO0lBQ2pCQyxFQUFFLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDYkMsR0FBRyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2RFLElBQUksRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNmRyxVQUFVLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDckJJLFNBQVMsRUFBRTtFQUNiLENBQUM7RUFFRCxPQUFPO0lBQ0xDLEVBQUUsRUFBRU4sSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNSCxVQUFVO0lBQUE7RUFDOUIsQ0FBQztBQUNILENBQUMsQ0FBQztBQUFDLElBQUFTLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFB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