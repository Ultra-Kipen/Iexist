{"version":3,"names":["_getJestObj","mock","reactNative","jest","requireActual","Object","assign","ProgressBarAndroid","defaultProps","propTypes","StyleSheet","Clipboard","getString","fn","setString","DevMenu","show","debugRemotely","Alert","alert","TurboModuleRegistry","get","getEnforcing","name","NativeModules","NativeAnimatedHelper","startAnimatingNode","stopAnimation","RNCNetInfo","getCurrentState","Promise","resolve","addListener","removeListeners","actual","extendedRender","component","result","render","getByTestId","testId","elements","queryAllByTestId","length","Error","queryByTestId","act","callback","waitFor","expectation","fireEvent","press","element","props","onPress","changeText","text","onChangeText","SafeAreaProvider","_ref","children","SafeAreaView","_ref2","useSafeAreaInsets","top","right","bottom","left","useNavigation","navigate","goBack","require","_require2","defineProperty","global","value","writable","enumerable","configurable","__DEV__","String","prototype","includes","search","start","indexOf","_require","configure","asyncUtilTimeout","error","console","originalConsoleWarn","warn","originalConsoleError","warningMessage","arguments","undefined","ignoredWarnings","some","warning","apply","errorMessage","ignoredErrors"],"sources":["jest.setup.ts"],"sourcesContent":["// jest.setup.ts\r\nimport * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport * as JestTypes from '@jest/types';\r\nimport '@testing-library/jest-native/extend-expect';\r\nimport 'react-native-gesture-handler/jestSetup';\r\n\r\n// 전역 변수 설정\r\nObject.defineProperty(global, '__DEV__', {\r\n  value: true,\r\n  writable: true,\r\n  enumerable: true,\r\n  configurable: true\r\n});\r\n\r\nglobal.__DEV__ = true;\r\n\r\n// 문자열 prototype 확장\r\nif (!String.prototype.includes) {\r\n  String.prototype.includes = function(search: string, start?: number): boolean {\r\n    return this.indexOf(search, start) !== -1;\r\n  };\r\n}\r\n\r\n// testing-library 관련 설정\r\ntry {\r\n  const { configure } = require('@testing-library/react-native');\r\n  \r\n  configure({\r\n    asyncUtilTimeout: 10000,\r\n  });\r\n} catch (error) {\r\n  console.error('Testing library 로드 중 오류:', error);\r\n}\r\n\r\n// DevMenu 및 기타 모듈 모킹을 위한 포괄적인 설정\r\n// jest.setup.ts 파일의 react-native 모킹 부분 수정\r\njest.mock('react-native', () => {\r\n  const reactNative = jest.requireActual('react-native');\r\n  \r\n  return {\r\n    ...reactNative,\r\n    ProgressBarAndroid: {\r\n      defaultProps: {},\r\n      propTypes: {},\r\n      StyleSheet: {},\r\n    },\r\n    Clipboard: {\r\n      getString: jest.fn(),\r\n      setString: jest.fn(),\r\n    },\r\n    DevMenu: {\r\n      show: jest.fn(),\r\n      debugRemotely: jest.fn(),\r\n    },\r\n    Alert: {\r\n      alert: jest.fn()\r\n    },\r\n    // TurboModuleRegistry 추가\r\n    TurboModuleRegistry: {\r\n      get: jest.fn(() => null),\r\n      getEnforcing: jest.fn((name) => {\r\n        if (name === 'DevMenu') {\r\n          return {\r\n            show: jest.fn(),\r\n            debugRemotely: jest.fn(),\r\n          };\r\n        }\r\n        return null;\r\n      }),\r\n    },\r\n    NativeModules: {\r\n      ...reactNative.NativeModules || {},\r\n      DevMenu: {\r\n        show: jest.fn(),\r\n        debugRemotely: jest.fn(),\r\n      },\r\n      NativeAnimatedHelper: {\r\n        startAnimatingNode: jest.fn(),\r\n        stopAnimation: jest.fn(),\r\n      },\r\n      RNCNetInfo: {\r\n        getCurrentState: jest.fn(() => Promise.resolve()),\r\n        addListener: jest.fn(),\r\n        removeListeners: jest.fn(),\r\n      }\r\n    }\r\n  };\r\n});\r\n\r\n// Testing Library 모킹 및 확장\r\njest.mock('@testing-library/react-native', () => {\r\n  const actual = jest.requireActual('@testing-library/react-native');\r\n  \r\n  const extendedRender = (component: ReactElement) => {\r\n    const result = actual.render(component);\r\n    \r\n    result.getByTestId = (testId: string) => {\r\n      const elements = result.queryAllByTestId(testId);\r\n      if (elements.length === 0) {\r\n        throw new Error(`테스트 ID '${testId}'를 가진 요소를 찾을 수 없습니다`);\r\n      }\r\n      return elements[0];\r\n    };\r\n    \r\n    result.queryByTestId = (testId: string) => {\r\n      const elements = result.queryAllByTestId(testId);\r\n      return elements.length > 0 ? elements[0] : null;\r\n    };\r\n    \r\n    return result;\r\n  };\r\n  \r\n  return {\r\n    ...actual,\r\n    render: extendedRender,\r\n    act: jest.fn((callback: () => any | Promise<any>) => {\r\n      if (typeof callback === 'function') {\r\n        return callback();\r\n      }\r\n      return Promise.resolve();\r\n    }),\r\n    waitFor: jest.fn((expectation: () => any) => {\r\n      return Promise.resolve(expectation());\r\n    }),\r\n    fireEvent: {\r\n      ...actual.fireEvent,\r\n      press: jest.fn((element: any) => {\r\n        if (element && element.props && typeof element.props.onPress === 'function') {\r\n          element.props.onPress();\r\n          return true;\r\n        }\r\n        return false;\r\n      }),\r\n      changeText: jest.fn((element: any, text: string) => {\r\n        if (element && element.props && typeof element.props.onChangeText === 'function') {\r\n          element.props.onChangeText(text);\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n    }\r\n  };\r\n});\r\n\r\n// 경고 메시지 필터링\r\nconst originalConsoleWarn = console.warn;\r\nconst originalConsoleError = console.error;\r\n\r\nconsole.warn = (...args: any[]) => {\r\n  const warningMessage = args[0];\r\n  \r\n  const ignoredWarnings = [\r\n    'ProgressBarAndroid has been extracted',\r\n    'Clipboard has been extracted',\r\n    'TurboModuleRegistry.getEnforcing',\r\n    'DevMenu could not be found'\r\n  ];\r\n  \r\n  if (!ignoredWarnings.some(warning => \r\n    typeof warningMessage === 'string' && warningMessage.includes(warning)\r\n  )) {\r\n    originalConsoleWarn(...args);\r\n  }\r\n};\r\n\r\nconsole.error = (...args: any[]) => {\r\n  const errorMessage = args[0];\r\n  \r\n  const ignoredErrors = [\r\n    'act(',\r\n    'inside a test was not wrapped in act',\r\n    'unmounted component',\r\n    '감정 로드 오류',\r\n    '챌린지 데이터 로딩 오류',\r\n    'Error: API 오류'\r\n  ];\r\n  \r\n  if (!ignoredErrors.some(error => \r\n    typeof errorMessage === 'string' && errorMessage.includes(error)\r\n  )) {\r\n    originalConsoleError(...args);\r\n  }\r\n};\r\n\r\n// 기타 모듈 모킹들 유지 (SafeAreaContext, Navigation 등)\r\njest.mock('react-native-safe-area-context', () => ({\r\n  SafeAreaProvider: function SafeAreaProvider({ children }: { children: React.ReactNode }) { \r\n    return children; \r\n  },\r\n  SafeAreaView: function SafeAreaView({ children }: { children: React.ReactNode }) { \r\n    return children; \r\n  },\r\n  useSafeAreaInsets: () => ({ top: 0, right: 0, bottom: 0, left: 0 }),\r\n}));\r\n\r\njest.mock('@react-navigation/native', () => ({\r\n  ...jest.requireActual('@react-navigation/native'),\r\n  useNavigation: () => ({\r\n    navigate: jest.fn(),\r\n    goBack: jest.fn(),\r\n  }),\r\n}));"],"mappings":"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","ignoreList":[]}