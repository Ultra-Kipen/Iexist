6dae785ccd84c8ea425607cf9e7c3f9e
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn()
  };
});
_getJestObj().mock("../../src/store", function () {
  return {
    useStore: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _withAuth = require("../../src/hoc/withAuth");
var _native = require("@react-navigation/native");
var _store = require("../../src/store");
var _reactNative2 = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('withAuth HOC', function () {
  var TestComponent = function TestComponent() {
    return (0, _jsxRuntime.jsx)(_reactNative2.Text, {
      testID: "authenticated-component",
      children: "\uC778\uC99D\uB41C \uCEF4\uD3EC\uB10C\uD2B8"
    });
  };
  var AuthenticatedComponent = (0, _withAuth.withAuth)(TestComponent);
  var mockNavigate = jest.fn();
  beforeEach(function () {
    jest.clearAllMocks();
    _native.useNavigation.mockReturnValue({
      navigate: mockNavigate
    });
  });
  test('인증된 경우 컴포넌트가 렌더링되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: true
      }
    });
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      getByTestId = _render.getByTestId;
    expect(getByTestId('authenticated-component')).toBeTruthy();
    expect(mockNavigate).not.toHaveBeenCalled();
  });
  test('인증되지 않은 경우 로그인 화면으로 네비게이션되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: false
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      queryByTestId = _render2.queryByTestId;
    expect(mockNavigate).toHaveBeenCalledWith('Login');
    expect(queryByTestId('authenticated-component')).toBeNull();
  });
  test('HOC가 displayName을 올바르게 설정해야 함', function () {
    expect(AuthenticatedComponent.displayName).toBe('withAuth(TestComponent)');
  });
  test('isAuthenticated 상태가 변경될 때 컴포넌트가 적절하게 리렌더링되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: false
      }
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      queryByTestId = _render3.queryByTestId,
      rerender = _render3.rerender;
    expect(queryByTestId('authenticated-component')).toBeNull();
    expect(mockNavigate).toHaveBeenCalledWith('Login');
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: true
      }
    });
    rerender((0, _jsxRuntime.jsx)(AuthenticatedComponent, {}));
    expect(queryByTestId('authenticated-component')).toBeTruthy();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwiamVzdCIsImZuIiwidXNlU3RvcmUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl93aXRoQXV0aCIsIl9uYXRpdmUiLCJfc3RvcmUiLCJfcmVhY3ROYXRpdmUyIiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiVGVzdENvbXBvbmVudCIsImpzeCIsIlRleHQiLCJ0ZXN0SUQiLCJjaGlsZHJlbiIsIkF1dGhlbnRpY2F0ZWRDb21wb25lbnQiLCJ3aXRoQXV0aCIsIm1vY2tOYXZpZ2F0ZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja1JldHVyblZhbHVlIiwibmF2aWdhdGUiLCJ0ZXN0Iiwic3RhdGUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJfcmVuZGVyIiwicmVuZGVyIiwiZ2V0QnlUZXN0SWQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIl9yZW5kZXIyIiwicXVlcnlCeVRlc3RJZCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidG9CZU51bGwiLCJkaXNwbGF5TmFtZSIsInRvQmUiLCJfcmVuZGVyMyIsInJlcmVuZGVyIl0sInNvdXJjZXMiOlsid2l0aEF1dGgudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyB3aXRoQXV0aCB9IGZyb20gJy4uLy4uL3NyYy9ob2Mvd2l0aEF1dGgnO1xyXG5pbXBvcnQgeyB1c2VOYXZpZ2F0aW9uIH0gZnJvbSAnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJztcclxuaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICcuLi8uLi9zcmMvc3RvcmUnO1xyXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuXHJcbi8vIHVzZU5hdmlnYXRpb24g66qo7YK5XHJcbmplc3QubW9jaygnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJywgKCkgPT4gKHtcclxuICB1c2VOYXZpZ2F0aW9uOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIHVzZVN0b3JlIOuqqO2CuVxyXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9zdG9yZScsICgpID0+ICh7XHJcbiAgdXNlU3RvcmU6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ3dpdGhBdXRoIEhPQycsICgpID0+IHtcclxuICAvLyDthYzsiqTtirgg7Lu07Y+s64SM7Yq4XHJcbiAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IDxUZXh0IHRlc3RJRD1cImF1dGhlbnRpY2F0ZWQtY29tcG9uZW50XCI+7J247Kad65CcIOy7tO2PrOuEjO2KuDwvVGV4dD47XHJcbiAgY29uc3QgQXV0aGVudGljYXRlZENvbXBvbmVudCA9IHdpdGhBdXRoKFRlc3RDb21wb25lbnQpO1xyXG4gIFxyXG4gIGNvbnN0IG1vY2tOYXZpZ2F0ZSA9IGplc3QuZm4oKTtcclxuICBcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICAgKHVzZU5hdmlnYXRpb24gYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBuYXZpZ2F0ZTogbW9ja05hdmlnYXRlLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ+yduOymneuQnCDqsr3smrAg7Lu07Y+s64SM7Yq46rCAIOugjOuNlOungeuQmOyWtOyVvCDtlagnLCAoKSA9PiB7XHJcbiAgICAvLyDsnbjspp3rkJwg7IOB7YOc66GcIOuqqO2CuVxyXG4gICAgKHVzZVN0b3JlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgc3RhdGU6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoPEF1dGhlbnRpY2F0ZWRDb21wb25lbnQgLz4pO1xyXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdhdXRoZW50aWNhdGVkLWNvbXBvbmVudCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QobW9ja05hdmlnYXRlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCfsnbjspp3rkJjsp4Ag7JWK7J2AIOqyveyasCDroZzqt7jsnbgg7ZmU66m07Jy866GcIOuEpOu5hOqyjOydtOyFmOuQmOyWtOyVvCDtlagnLCAoKSA9PiB7XHJcbiAgICAvLyDsnbjspp3rkJjsp4Ag7JWK7J2AIOyDge2DnOuhnCDrqqjtgrlcclxuICAgICh1c2VTdG9yZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogZmFsc2UgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgcXVlcnlCeVRlc3RJZCB9ID0gcmVuZGVyKDxBdXRoZW50aWNhdGVkQ29tcG9uZW50IC8+KTtcclxuICAgIFxyXG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0xvZ2luJyk7XHJcbiAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgnYXV0aGVudGljYXRlZC1jb21wb25lbnQnKSkudG9CZU51bGwoKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnSE9D6rCAIGRpc3BsYXlOYW1l7J2EIOyYrOuwlOultOqyjCDshKTsoJXtlbTslbwg7ZWoJywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KEF1dGhlbnRpY2F0ZWRDb21wb25lbnQuZGlzcGxheU5hbWUpLnRvQmUoJ3dpdGhBdXRoKFRlc3RDb21wb25lbnQpJyk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ2lzQXV0aGVudGljYXRlZCDsg4Htg5zqsIAg67OA6rK965CgIOuVjCDsu7Ttj6zrhIztirjqsIAg7KCB7KCI7ZWY6rKMIOumrOugjOuNlOungeuQmOyWtOyVvCDtlagnLCAoKSA9PiB7XHJcbiAgICAvLyDsspjsnYzsl5DripQg7J247Kad65CY7KeAIOyViuydgCDsg4Htg5xcclxuICAgICh1c2VTdG9yZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogZmFsc2UgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgcXVlcnlCeVRlc3RJZCwgcmVyZW5kZXIgfSA9IHJlbmRlcig8QXV0aGVudGljYXRlZENvbXBvbmVudCAvPik7XHJcbiAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgnYXV0aGVudGljYXRlZC1jb21wb25lbnQnKSkudG9CZU51bGwoKTtcclxuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdMb2dpbicpO1xyXG5cclxuICAgIC8vIOyduOymneuQnCDsg4Htg5zroZwg67OA6rK9XHJcbiAgICAodXNlU3RvcmUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBzdGF0ZTogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlcmVuZGVyKDxBdXRoZW50aWNhdGVkQ29tcG9uZW50IC8+KTtcclxuICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCdhdXRoZW50aWNhdGVkLWNvbXBvbmVudCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBUUFBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDBCQUEwQixFQUFFO0VBQUEsT0FBTztJQUMzQ0MsYUFBYSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN6QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hKLFdBQUEsR0FBS0MsSUFBSSxvQkFBb0I7RUFBQSxPQUFPO0lB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