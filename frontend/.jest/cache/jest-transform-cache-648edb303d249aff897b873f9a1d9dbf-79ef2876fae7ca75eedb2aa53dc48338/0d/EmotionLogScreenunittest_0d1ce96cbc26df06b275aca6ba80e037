47146fcfc4d81342ca0947b271c33fc4
_getJestObj().mock('react-native/Libraries/Alert/Alert', function () {
  return {
    alert: jest.fn()
  };
});
_getJestObj().mock('react-native-paper', function () {
  return {
    Text: 'Text',
    Chip: 'Chip',
    Button: 'Button',
    TextInput: 'TextInput',
    ActivityIndicator: 'ActivityIndicator'
  };
});
_getJestObj().mock('react-native-vector-icons/MaterialCommunityIcons', function () {
  return 'MaterialCommunityIcons';
});
_getJestObj().mock("../../../src/services/api/emotionService", function () {
  return {
    getAllEmotions: jest.fn(),
    recordEmotions: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _EmotionLogScreen = _interopRequireDefault(require("../../../src/screens/EmotionLogScreen"));
var _emotionService = _interopRequireDefault(require("../../../src/services/api/emotionService"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('EmotionLogScreen', function () {
  var mockNavigation = {
    goBack: jest.fn()
  };
  var mockEmotions = [{
    emotion_id: 1,
    name: '행복',
    icon: 'happy-icon',
    color: '#FFD700'
  }, {
    emotion_id: 2,
    name: '슬픔',
    icon: 'sad-icon',
    color: '#4682B4'
  }];
  beforeEach(function () {
    jest.clearAllMocks();
    _emotionService.default.getAllEmotions.mockResolvedValue({
      data: {
        status: 'success',
        data: mockEmotions
      }
    });
  });
  it('renders the screen correctly', (0, _asyncToGenerator2.default)(function* () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_EmotionLogScreen.default, {
        navigation: mockNavigation
      })),
      getByTestId = _render.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('emotion-submit-button')).toBeTruthy();
    });
  }));
  it('calls recordEmotions when submit button is pressed', (0, _asyncToGenerator2.default)(function* () {
    _emotionService.default.recordEmotions.mockResolvedValue({
      data: {
        status: 'success'
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_EmotionLogScreen.default, {
        navigation: mockNavigation
      })),
      getByTestId = _render2.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByTestId('emotion-submit-button')).toBeTruthy();
    });
    expect(_emotionService.default.getAllEmotions).toHaveBeenCalled();
  }));
  it('handles API error', (0, _asyncToGenerator2.default)(function* () {
    _emotionService.default.getAllEmotions.mockRejectedValue(new Error('API 에러'));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_EmotionLogScreen.default, {
      navigation: mockNavigation
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(require('react-native/Libraries/Alert/Alert').alert).toHaveBeenCalledWith('오류', '감정 데이터를 불러오는 중 오류가 발생했습니다.');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJhbGVydCIsImplc3QiLCJmbiIsIlRleHQiLCJDaGlwIiwiQnV0dG9uIiwiVGV4dElucHV0IiwiQWN0aXZpdHlJbmRpY2F0b3IiLCJnZXRBbGxFbW90aW9ucyIsInJlY29yZEVtb3Rpb25zIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfRW1vdGlvbkxvZ1NjcmVlbiIsIl9lbW90aW9uU2VydmljZSIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsIm1vY2tOYXZpZ2F0aW9uIiwiZ29CYWNrIiwibW9ja0Vtb3Rpb25zIiwiZW1vdGlvbl9pZCIsIm5hbWUiLCJpY29uIiwiY29sb3IiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImVtb3Rpb25TZXJ2aWNlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwic3RhdHVzIiwiaXQiLCJkZWZhdWx0IiwiX3JlbmRlciIsInJlbmRlciIsImpzeCIsIm5hdmlnYXRpb24iLCJnZXRCeVRlc3RJZCIsIndhaXRGb3IiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjIiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIl0sInNvdXJjZXMiOlsiRW1vdGlvbkxvZ1NjcmVlbi51bml0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEVtb3Rpb25Mb2dTY3JlZW4udW5pdC50ZXN0LnRzeFxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IEVtb3Rpb25Mb2dTY3JlZW4gZnJvbSAnLi4vLi4vLi4vc3JjL3NjcmVlbnMvRW1vdGlvbkxvZ1NjcmVlbic7XHJcbmltcG9ydCBlbW90aW9uU2VydmljZSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMvYXBpL2Vtb3Rpb25TZXJ2aWNlJztcclxuXHJcbi8vIEFsZXJ0IOuqqO2CuSAtIOuzhOuPhCDtjIzsnbwg6rK966Gc66GcIOyngeygkSDrqqjtgrlcclxuamVzdC5tb2NrKCdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL0FsZXJ0L0FsZXJ0JywgKCkgPT4gKHtcclxuICBhbGVydDogamVzdC5mbigpXHJcbn0pKTtcclxuXHJcbi8vIOqwhOuLqO2VnCDrrLjsnpDsl7Qg66qo7YK5IOyCrOyaqVxyXG5qZXN0Lm1vY2soJ3JlYWN0LW5hdGl2ZS1wYXBlcicsICgpID0+ICh7XHJcbiAgVGV4dDogJ1RleHQnLFxyXG4gIENoaXA6ICdDaGlwJyxcclxuICBCdXR0b246ICdCdXR0b24nLFxyXG4gIFRleHRJbnB1dDogJ1RleHRJbnB1dCcsXHJcbiAgQWN0aXZpdHlJbmRpY2F0b3I6ICdBY3Rpdml0eUluZGljYXRvcidcclxufSkpO1xyXG5cclxuLy8gTWF0ZXJpYWxDb21tdW5pdHlJY29ucyDrqqjtgrlcclxuamVzdC5tb2NrKCdyZWFjdC1uYXRpdmUtdmVjdG9yLWljb25zL01hdGVyaWFsQ29tbXVuaXR5SWNvbnMnLCAoKSA9PiAnTWF0ZXJpYWxDb21tdW5pdHlJY29ucycpO1xyXG5cclxuLy8gZW1vdGlvblNlcnZpY2Ug66qo7YK5XHJcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9lbW90aW9uU2VydmljZScsICgpID0+ICh7XHJcbiAgZ2V0QWxsRW1vdGlvbnM6IGplc3QuZm4oKSxcclxuICByZWNvcmRFbW90aW9uczogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG5kZXNjcmliZSgnRW1vdGlvbkxvZ1NjcmVlbicsICgpID0+IHtcclxuICBjb25zdCBtb2NrTmF2aWdhdGlvbiA9IHtcclxuICAgIGdvQmFjazogamVzdC5mbigpLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1vY2tFbW90aW9ucyA9IFtcclxuICAgIHsgXHJcbiAgICAgIGVtb3Rpb25faWQ6IDEsIFxyXG4gICAgICBuYW1lOiAn7ZaJ67O1JywgXHJcbiAgICAgIGljb246ICdoYXBweS1pY29uJywgXHJcbiAgICAgIGNvbG9yOiAnI0ZGRDcwMCcgXHJcbiAgICB9LFxyXG4gICAgeyBcclxuICAgICAgZW1vdGlvbl9pZDogMiwgXHJcbiAgICAgIG5hbWU6ICfsiqztlJQnLCBcclxuICAgICAgaWNvbjogJ3NhZC1pY29uJywgXHJcbiAgICAgIGNvbG9yOiAnIzQ2ODJCNCcgXHJcbiAgICB9XHJcbiAgXTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIFxyXG4gICAgLy8g66qo65OgIO2FjOyKpO2KuOyXkCDrjIDtlZwg6riw67O4IOuqqO2CuSDshKTsoJVcclxuICAgIChlbW90aW9uU2VydmljZS5nZXRBbGxFbW90aW9ucyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgZGF0YTogeyBcclxuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJywgXHJcbiAgICAgICAgZGF0YTogbW9ja0Vtb3Rpb25zIFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3JlbmRlcnMgdGhlIHNjcmVlbiBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgIDxFbW90aW9uTG9nU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSAvPlxyXG4gICAgKTtcclxuXHJcbiAgICAvLyDtmZTrqbTsnbQg66CM642U66eB65CY64qU7KeA66eMIO2ZleyduFxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnZW1vdGlvbi1zdWJtaXQtYnV0dG9uJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnY2FsbHMgcmVjb3JkRW1vdGlvbnMgd2hlbiBzdWJtaXQgYnV0dG9uIGlzIHByZXNzZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyByZWNvcmRFbW90aW9ucyDshLHqs7Ug66qo7YK5XHJcbiAgICAoZW1vdGlvblNlcnZpY2UucmVjb3JkRW1vdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgIGRhdGE6IHsgc3RhdHVzOiAnc3VjY2VzcycgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxyXG4gICAgICA8RW1vdGlvbkxvZ1NjcmVlbiBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz5cclxuICAgICk7XHJcbiAgICBcclxuICAgIC8vIOqwkOyglSDquLDroZ0g67KE7Yq87J20IOugjOuNlOungeuQoCDrlYzquYzsp4Ag64yA6riwXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCdlbW90aW9uLXN1Ym1pdC1idXR0b24nKSkudG9CZVRydXRoeSgpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEFQSSDtmLjstpwg7ZmV7J24XHJcbiAgICBleHBlY3QoZW1vdGlvblNlcnZpY2UuZ2V0QWxsRW1vdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2hhbmRsZXMgQVBJIGVycm9yJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gZ2V0QWxsRW1vdGlvbnMg7Iuk7YyoIOuqqO2CuVxyXG4gICAgKGVtb3Rpb25TZXJ2aWNlLmdldEFsbEVtb3Rpb25zIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdBUEkg7JeQ65+sJykpO1xyXG5cclxuICAgIHJlbmRlcig8RW1vdGlvbkxvZ1NjcmVlbiBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz4pO1xyXG5cclxuICAgIC8vIEFsZXJ0LmFsZXJ06rCAIO2YuOy2nOuQmOyXiOuKlOyngCDtmZXsnbhcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QocmVxdWlyZSgncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9BbGVydC9BbGVydCcpLmFsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAn7Jik66WYJywgXHJcbiAgICAgICAgJ+qwkOyglSDrjbDsnbTthLDrpbwg67aI65+s7Jik64qUIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLidcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiJBQU9BQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxvQ0FBb0MsRUFBRTtFQUFBLE9BQU87SUFDckRDLEtBQUssRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDakIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdISixXQUFBLEdBQUtDLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtFQUFBLE9BQU87SUFDckNJLElBQUksRUFBRSxNQUFNO0lBQ1pDLElBQUksRUFBRSxNQUFNO0lBQ1pDLE1BQU0sRUFBRSxRQUFRO0lBQ2hCQyxTQUFTLEVBQUUsV0FBVztJQUN0QkMsaUJBQWlCLEVBQUU7RUFDckIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdIVCxXQUFBLEdBQUtDLElBQUksQ0FBQyxrREFBa0QsRUFBRTtFQUFBLE9BQU0sd0JBQXdCO0FBQUEsRUFBQztBQUc3RkQsV0FBQSxHQUFLQyxJQUFJLDZDQUE2QztFQUFBLE9BQU87SUFDM0RTLGNBQWMsRUFBRVAsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUN6Qk8sY0FBYyxFQUFFUixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUMxQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQVEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFD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