{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativeReanimated","_interopRequireWildcard","_NotificationContext","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","NotificationBadge","_ref","style","_ref$showZero","showZero","_ref$maxCount","maxCount","_useNotification","useNotification","unreadCount","scaleAnim","useSharedValue","displayCount","toString","animatedStyle","useAnimatedStyle","transform","scale","value","React","useEffect","withSequence","withTiming","duration","jsx","View","styles","badge","wideBadge","extraWideBadge","children","Text","count","StyleSheet","create","minWidth","height","borderRadius","backgroundColor","justifyContent","alignItems","paddingHorizontal","color","fontSize","fontWeight","textAlign","_default","exports"],"sources":["NotificationBadge.tsx"],"sourcesContent":["import React from 'react';\r\nimport { View, Text, StyleSheet } from 'react-native';\r\nimport Animated, { \r\n  useSharedValue, \r\n  withTiming, \r\n  useAnimatedStyle, \r\n  withSequence \r\n} from 'react-native-reanimated';\r\nimport { useNotification } from '../contexts/NotificationContext';\r\n\r\ninterface NotificationBadgeProps {\r\n  style?: object;\r\n  showZero?: boolean;\r\n  maxCount?: number;\r\n}\r\n\r\nconst NotificationBadge: React.FC<NotificationBadgeProps> = ({ \r\n  style,\r\n  showZero = false,\r\n  maxCount = 99\r\n}) => {\r\n  const { unreadCount } = useNotification();\r\n  const scaleAnim = useSharedValue(0);\r\n  \r\n  // 표시할 카운트 계산 (maxCount 초과 시 \"+\")\r\n  const displayCount = unreadCount > maxCount ? `${maxCount}+` : unreadCount.toString();\r\n  \r\n  // 애니메이션 스타일\r\n // 애니메이션 스타일 - 의존성 배열 추가\r\nconst animatedStyle = useAnimatedStyle(() => {\r\n  return {\r\n    transform: [{ scale: scaleAnim.value }]\r\n  };\r\n}, [scaleAnim.value]); // 의존성 배열 추가\r\n  // 카운트가 변경될 때 애니메이션 효과\r\n  React.useEffect(() => {\r\n    if (unreadCount > 0 || showZero) {\r\n      scaleAnim.value = withSequence(\r\n        withTiming(1.2, { duration: 200 }),\r\n        withTiming(1, { duration: 100 })\r\n      );\r\n    } else {\r\n      scaleAnim.value = 0;\r\n    }\r\n  }, [unreadCount, showZero]);\r\n  \r\n  // 카운트가 0이고 showZero가 false이면 렌더링하지 않음\r\n  if (unreadCount === 0 && !showZero) {\r\n    return null;\r\n  }\r\n  \r\n  return (\r\n    <Animated.View \r\n      style={[\r\n        styles.badge,\r\n        style,\r\n        animatedStyle,\r\n        unreadCount > 9 && styles.wideBadge,\r\n        unreadCount > 99 && styles.extraWideBadge\r\n      ]}\r\n    >\r\n      <Text style={styles.count}>{displayCount}</Text>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  badge: {\r\n    minWidth: 18,\r\n    height: 18,\r\n    borderRadius: 9,\r\n    backgroundColor: '#FF3B30',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 4\r\n  },\r\n  wideBadge: {\r\n    minWidth: 22,\r\n    borderRadius: 11\r\n  },\r\n  extraWideBadge: {\r\n    minWidth: 28\r\n  },\r\n  count: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center'\r\n  }\r\n});\r\n\r\nexport default NotificationBadge;"],"mappings":"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","ignoreList":[]}