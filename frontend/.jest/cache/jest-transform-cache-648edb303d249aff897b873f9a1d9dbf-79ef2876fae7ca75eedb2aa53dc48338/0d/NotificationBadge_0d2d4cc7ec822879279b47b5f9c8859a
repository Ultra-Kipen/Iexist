0b41213a53816d466bbf85ddca77dcbd
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("react-native");
var _reactNativeReanimated = _interopRequireWildcard(require("react-native-reanimated"));
var _NotificationContext = require("../contexts/NotificationContext");
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
var NotificationBadge = function NotificationBadge(_ref) {
  var style = _ref.style,
    _ref$showZero = _ref.showZero,
    showZero = _ref$showZero === void 0 ? false : _ref$showZero,
    _ref$maxCount = _ref.maxCount,
    maxCount = _ref$maxCount === void 0 ? 99 : _ref$maxCount;
  var _useNotification = (0, _NotificationContext.useNotification)(),
    unreadCount = _useNotification.unreadCount;
  var scaleAnim = (0, _reactNativeReanimated.useSharedValue)(0);
  var displayCount = unreadCount > maxCount ? `${maxCount}+` : unreadCount.toString();
  var animatedStyle = (0, _reactNativeReanimated.useAnimatedStyle)(function () {
    return {
      transform: [{
        scale: scaleAnim.value
      }]
    };
  }, [scaleAnim.value]);
  _react.default.useEffect(function () {
    if (unreadCount > 0 || showZero) {
      scaleAnim.value = (0, _reactNativeReanimated.withSequence)((0, _reactNativeReanimated.withTiming)(1.2, {
        duration: 200
      }), (0, _reactNativeReanimated.withTiming)(1, {
        duration: 100
      }));
    } else {
      scaleAnim.value = 0;
    }
  }, [unreadCount, showZero]);
  if (unreadCount === 0 && !showZero) {
    return null;
  }
  return (0, _jsxRuntime.jsx)(_reactNativeReanimated.default.View, {
    style: [styles.badge, style, animatedStyle, unreadCount > 9 && styles.wideBadge, unreadCount > 99 && styles.extraWideBadge],
    children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
      style: styles.count,
      children: displayCount
    })
  });
};
var styles = _reactNative.StyleSheet.create({
  badge: {
    minWidth: 18,
    height: 18,
    borderRadius: 9,
    backgroundColor: '#FF3B30',
    justifyContent: 'center',
    alignItems: 'center',
    paddingHorizontal: 4
  },
  wideBadge: {
    minWidth: 22,
    borderRadius: 11
  },
  extraWideBadge: {
    minWidth: 28
  },
  count: {
    color: 'white',
    fontSize: 12,
    fontWeight: 'bold',
    textAlign: 'center'
  }
});
var _default = exports.default = NotificationBadge;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZVJlYW5pbWF0ZWQiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9Ob3RpZmljYXRpb25Db250ZXh0IiwiX2pzeFJ1bnRpbWUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJOb3RpZmljYXRpb25CYWRnZSIsIl9yZWYiLCJzdHlsZSIsIl9yZWYkc2hvd1plcm8iLCJzaG93WmVybyIsIl9yZWYkbWF4Q291bnQiLCJtYXhDb3VudCIsIl91c2VOb3RpZmljYXRpb24iLCJ1c2VOb3RpZmljYXRpb24iLCJ1bnJlYWRDb3VudCIsInNjYWxlQW5pbSIsInVzZVNoYXJlZFZhbHVlIiwiZGlzcGxheUNvdW50IiwidG9TdHJpbmciLCJhbmltYXRlZFN0eWxlIiwidXNlQW5pbWF0ZWRTdHlsZSIsInRyYW5zZm9ybSIsInNjYWxlIiwidmFsdWUiLCJSZWFjdCIsInVzZUVmZmVjdCIsIndpdGhTZXF1ZW5jZSIsIndpdGhUaW1pbmciLCJkdXJhdGlvbiIsImpzeCIsIlZpZXciLCJzdHlsZXMiLCJiYWRnZSIsIndpZGVCYWRnZSIsImV4dHJhV2lkZUJhZGdlIiwiY2hpbGRyZW4iLCJUZXh0IiwiY291bnQiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwibWluV2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJwYWRkaW5nSG9yaXpvbnRhbCIsImNvbG9yIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dEFsaWduIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiTm90aWZpY2F0aW9uQmFkZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFZpZXcsIFRleHQsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgQW5pbWF0ZWQsIHsgXHJcbiAgdXNlU2hhcmVkVmFsdWUsIFxyXG4gIHdpdGhUaW1pbmcsIFxyXG4gIHVzZUFuaW1hdGVkU3R5bGUsIFxyXG4gIHdpdGhTZXF1ZW5jZSBcclxufSBmcm9tICdyZWFjdC1uYXRpdmUtcmVhbmltYXRlZCc7XHJcbmltcG9ydCB7IHVzZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL2NvbnRleHRzL05vdGlmaWNhdGlvbkNvbnRleHQnO1xyXG5cclxuaW50ZXJmYWNlIE5vdGlmaWNhdGlvbkJhZGdlUHJvcHMge1xyXG4gIHN0eWxlPzogb2JqZWN0O1xyXG4gIHNob3daZXJvPzogYm9vbGVhbjtcclxuICBtYXhDb3VudD86IG51bWJlcjtcclxufVxyXG5cclxuY29uc3QgTm90aWZpY2F0aW9uQmFkZ2U6IFJlYWN0LkZDPE5vdGlmaWNhdGlvbkJhZGdlUHJvcHM+ID0gKHsgXHJcbiAgc3R5bGUsXHJcbiAgc2hvd1plcm8gPSBmYWxzZSxcclxuICBtYXhDb3VudCA9IDk5XHJcbn0pID0+IHtcclxuICBjb25zdCB7IHVucmVhZENvdW50IH0gPSB1c2VOb3RpZmljYXRpb24oKTtcclxuICBjb25zdCBzY2FsZUFuaW0gPSB1c2VTaGFyZWRWYWx1ZSgwKTtcclxuICBcclxuICAvLyDtkZzsi5ztlaAg7Lm07Jq07Yq4IOqzhOyCsCAobWF4Q291bnQg7LSI6rO8IOyLnCBcIitcIilcclxuICBjb25zdCBkaXNwbGF5Q291bnQgPSB1bnJlYWRDb3VudCA+IG1heENvdW50ID8gYCR7bWF4Q291bnR9K2AgOiB1bnJlYWRDb3VudC50b1N0cmluZygpO1xyXG4gIFxyXG4gIC8vIOyVoOuLiOuplOydtOyFmCDsiqTtg4DsnbxcclxuIC8vIOyVoOuLiOuplOydtOyFmCDsiqTtg4DsnbwgLSDsnZjsobTshLEg67Cw7Je0IOy2lOqwgFxyXG5jb25zdCBhbmltYXRlZFN0eWxlID0gdXNlQW5pbWF0ZWRTdHlsZSgoKSA9PiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHRyYW5zZm9ybTogW3sgc2NhbGU6IHNjYWxlQW5pbS52YWx1ZSB9XVxyXG4gIH07XHJcbn0sIFtzY2FsZUFuaW0udmFsdWVdKTsgLy8g7J2Y7KG07ISxIOuwsOyXtCDstpTqsIBcclxuICAvLyDsubTsmrTtirjqsIAg67OA6rK965CgIOuVjCDslaDri4jrqZTsnbTshZgg7Zqo6rO8XHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh1bnJlYWRDb3VudCA+IDAgfHwgc2hvd1plcm8pIHtcclxuICAgICAgc2NhbGVBbmltLnZhbHVlID0gd2l0aFNlcXVlbmNlKFxyXG4gICAgICAgIHdpdGhUaW1pbmcoMS4yLCB7IGR1cmF0aW9uOiAyMDAgfSksXHJcbiAgICAgICAgd2l0aFRpbWluZygxLCB7IGR1cmF0aW9uOiAxMDAgfSlcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNjYWxlQW5pbS52YWx1ZSA9IDA7XHJcbiAgICB9XHJcbiAgfSwgW3VucmVhZENvdW50LCBzaG93WmVyb10pO1xyXG4gIFxyXG4gIC8vIOy5tOyatO2KuOqwgCAw7J206rOgIHNob3daZXJv6rCAIGZhbHNl7J2066m0IOugjOuNlOunge2VmOyngCDslYrsnYxcclxuICBpZiAodW5yZWFkQ291bnQgPT09IDAgJiYgIXNob3daZXJvKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIChcclxuICAgIDxBbmltYXRlZC5WaWV3IFxyXG4gICAgICBzdHlsZT17W1xyXG4gICAgICAgIHN0eWxlcy5iYWRnZSxcclxuICAgICAgICBzdHlsZSxcclxuICAgICAgICBhbmltYXRlZFN0eWxlLFxyXG4gICAgICAgIHVucmVhZENvdW50ID4gOSAmJiBzdHlsZXMud2lkZUJhZGdlLFxyXG4gICAgICAgIHVucmVhZENvdW50ID4gOTkgJiYgc3R5bGVzLmV4dHJhV2lkZUJhZGdlXHJcbiAgICAgIF19XHJcbiAgICA+XHJcbiAgICAgIDxUZXh0IHN0eWxlPXtzdHlsZXMuY291bnR9PntkaXNwbGF5Q291bnR9PC9UZXh0PlxyXG4gICAgPC9BbmltYXRlZC5WaWV3PlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XHJcbiAgYmFkZ2U6IHtcclxuICAgIG1pbldpZHRoOiAxOCxcclxuICAgIGhlaWdodDogMTgsXHJcbiAgICBib3JkZXJSYWRpdXM6IDksXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjRkYzQjMwJyxcclxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgcGFkZGluZ0hvcml6b250YWw6IDRcclxuICB9LFxyXG4gIHdpZGVCYWRnZToge1xyXG4gICAgbWluV2lkdGg6IDIyLFxyXG4gICAgYm9yZGVyUmFkaXVzOiAxMVxyXG4gIH0sXHJcbiAgZXh0cmFXaWRlQmFkZ2U6IHtcclxuICAgIG1pbldpZHRoOiAyOFxyXG4gIH0sXHJcbiAgY291bnQ6IHtcclxuICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgZm9udFNpemU6IDEyLFxyXG4gICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgdGV4dEFsaWduOiAnY2VudGVyJ1xyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb25CYWRnZTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsc0JBQUEsR0FBQUMsdUJB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QUMsQ0FBQyxFQUFFO1FBQUVDLFFBQVEsRUFBRTtNQUFJLENBQUMsQ0FDakMsQ0FBQztJQUNILENBQUMsTUFBTTtNQUNMYixTQUFTLENBQUNRLEtBQUssR0FBRyxDQUFDO0lBQ3JCO0VBQ0YsQ0FBQyxFQUFFLENBQUNULFdBQVcsRUFBRUwsUUFBUSxDQUFDLENBQUM7RUFHM0IsSUFBSUssV0FBVyxLQUFLLENBQUMsSUFBSSxDQUFDTCxRQUFRLEVBQUU7SUFDbEMsT0FBTyxJQUFJO0VBQ2I7RUFFQSxPQUNFLElBQUF6QixXQUFBLENBQUE2QyxHQUFBLEVBQUNoRCxzQkFBQSxDQUFBVSxPQUFRLENBQUN1QyxJQUFJO0lBQ1p2QixLQUFLLEVBQUUsQ0FDTHdCLE1BQU0sQ0FBQ0MsS0FBSyxFQUNaekIsS0FBSyxFQUNMWSxhQUFhLEVBQ2JMLFdBQVcsR0FBRyxDQUFDLElBQUlpQixNQUFNLENBQUNFLFNBQVMsRUFDbkNuQixXQUFXLEdBQUcsRUFBRSxJQUFJaUIsTUFBTSxDQUFDRyxjQUFjLENBQ3pDO0lBQUFDLFFBQUEsRUFFRixJQUFBbkQsV0FBQSxDQUFBNkMsR0FBQSxFQUFDakQsWUFBQSxDQUFBd0QsSUFBSTtNQUFDN0IsS0FBSyxFQUFFd0IsTUFBTSxDQUFDTSxLQUFNO01BQUFGLFFBQUEsRUFBRWxCO0lBQVksQ0FBTztFQUFDLENBQ25DLENBQUM7QUFFcEIsQ0FBQztBQUVELElBQU1jLE1BQU0sR0FBR08sdUJBQVUsQ0FBQ0MsTUFBTSxDQUFDO0VBQy9CUCxLQUFLLEVBQUU7SUFDTFEsUUFBUSxFQUFFLEVBQUU7SUFDWkMsTUFBTSxFQUFFLEVBQUU7SUFDVkMsWUFBWSxFQUFFLENBQUM7SUFDZkMsZUFBZSxFQUFFLFNBQVM7SUFDMUJDLGNBQWMsRUFBRSxRQUFRO0lBQ3hCQyxVQUFVLEVBQUUsUUFBUTtJQUNwQkMsaUJBQWlCLEVBQUU7RUFDckIsQ0FBQztFQUNEYixTQUFTLEVBQUU7SUFDVE8sUUFBUSxFQUFFLEVBQUU7SUFDWkUsWUFBWSxFQUFFO0VBQ2hCLENBQUM7RUFDRFIsY0FBYyxFQUFFO0lBQ2RNLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREgsS0FBSyxFQUFFO0lBQ0xVLEtBQUssRUFBRSxPQUFPO0lBQ2RDLFFBQVEsRUFBRSxFQUFFO0lBQ1pDLFVBQVUsRUFBRSxNQUFNO0lBQ2xCQyxTQUFTLEVBQUU7RUFDYjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0QsT0FBQSxHQUVZYyxpQkFBaUIiLCJpZ25vcmVMaXN0IjpbXX0=