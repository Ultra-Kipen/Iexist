9509ce9a77ea6bc8c4353c71823e42df
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useAnimatedProps;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _NativeAnimatedHelper = _interopRequireDefault(require("../../src/private/animated/NativeAnimatedHelper"));
var _useAnimatedPropsMemo = require("../../src/private/animated/useAnimatedPropsMemo");
var ReactNativeFeatureFlags = _interopRequireWildcard(require("../../src/private/featureflags/ReactNativeFeatureFlags"));
var _ReactFabricPublicInstanceUtils = require("../ReactNative/ReactFabricPublicInstance/ReactFabricPublicInstanceUtils");
var _useRefEffect = _interopRequireDefault(require("../Utilities/useRefEffect"));
var _AnimatedEvent = require("./AnimatedEvent");
var _AnimatedProps = _interopRequireDefault(require("./nodes/AnimatedProps"));
var _react = require("react");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
var useMemoOrAnimatedPropsMemo = ReactNativeFeatureFlags.enableAnimatedPropsMemo() ? _useAnimatedPropsMemo.useAnimatedPropsMemo : _react.useMemo;
function useAnimatedProps(props, allowlist) {
  var _useReducer = (0, _react.useReducer)(function (count) {
      return count + 1;
    }, 0),
    _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),
    scheduleUpdate = _useReducer2[1];
  var onUpdateRef = (0, _react.useRef)(null);
  var timerRef = (0, _react.useRef)(null);
  var allowlistIfEnabled = ReactNativeFeatureFlags.enableAnimatedAllowlist() ? allowlist : null;
  var node = useMemoOrAnimatedPropsMemo(function () {
    return new _AnimatedProps.default(props, function () {
      return onUpdateRef.current == null ? void 0 : onUpdateRef.current();
    }, allowlistIfEnabled);
  }, [allowlistIfEnabled, props]);
  var useNativePropsInFabric = ReactNativeFeatureFlags.shouldUseSetNativePropsInFabric();
  var useAnimatedPropsLifecycle = ReactNativeFeatureFlags.useInsertionEffectsForAnimations() ? useAnimatedPropsLifecycle_insertionEffects : useAnimatedPropsLifecycle_layoutEffects;
  useAnimatedPropsLifecycle(node);
  var refEffect = (0, _react.useCallback)(function (instance) {
    node.setNativeView(instance);
    onUpdateRef.current = function () {
      if (process.env.NODE_ENV === 'test') {
        return scheduleUpdate();
      }
      var isFabricNode = isFabricInstance(instance);
      if (node.__isNative) {
        if (isFabricNode) {
          scheduleUpdate();
        }
        return;
      }
      if (typeof instance !== 'object' || typeof (instance == null ? void 0 : instance.setNativeProps) !== 'function') {
        return scheduleUpdate();
      }
      if (!isFabricNode) {
        return instance.setNativeProps(node.__getAnimatedValue());
      }
      if (!useNativePropsInFabric) {
        return scheduleUpdate();
      }
      instance.setNativeProps(node.__getAnimatedValue());
      if (timerRef.current != null) {
        clearTimeout(timerRef.current);
      }
      timerRef.current = setTimeout(function () {
        timerRef.current = null;
        scheduleUpdate();
      }, 48);
    };
    var target = getEventTarget(instance);
    var events = [];
    for (var propName in props) {
      var propValue = props[propName];
      if (propValue instanceof _AnimatedEvent.AnimatedEvent && propValue.__isNative) {
        propValue.__attach(target, propName);
        events.push([propName, propValue]);
      }
    }
    return function () {
      onUpdateRef.current = null;
      for (var _ref of events) {
        var _ref2 = (0, _slicedToArray2.default)(_ref, 2);
        var _propName = _ref2[0];
        var _propValue = _ref2[1];
        _propValue.__detach(target, _propName);
      }
    };
  }, [node, useNativePropsInFabric, props]);
  var callbackRef = (0, _useRefEffect.default)(refEffect);
  return [reduceAnimatedProps(node, props), callbackRef];
}
function reduceAnimatedProps(node, props) {
  return Object.assign({}, ReactNativeFeatureFlags.enableAnimatedPropsMemo() ? node.__getValueWithStaticProps(props) : node.__getValue(), {
    collapsable: false
  });
}
function useAnimatedPropsLifecycle_layoutEffects(node) {
  var prevNodeRef = (0, _react.useRef)(null);
  var isUnmountingRef = (0, _react.useRef)(false);
  (0, _react.useEffect)(function () {
    _NativeAnimatedHelper.default.API.flushQueue();
    var drivenAnimationEndedListener = null;
    if (node.__isNative) {
      drivenAnimationEndedListener = _NativeAnimatedHelper.default.nativeEventEmitter.addListener('onUserDrivenAnimationEnded', function (data) {
        node.update();
      });
    }
    return function () {
      var _drivenAnimationEnded;
      (_drivenAnimationEnded = drivenAnimationEndedListener) == null || _drivenAnimationEnded.remove();
    };
  });
  (0, _react.useLayoutEffect)(function () {
    isUnmountingRef.current = false;
    return function () {
      isUnmountingRef.current = true;
    };
  }, []);
  (0, _react.useLayoutEffect)(function () {
    node.__attach();
    if (prevNodeRef.current != null) {
      var prevNode = prevNodeRef.current;
      prevNode.__restoreDefaultValues();
      prevNode.__detach();
      prevNodeRef.current = null;
    }
    return function () {
      if (isUnmountingRef.current) {
        node.__detach();
      } else {
        prevNodeRef.current = node;
      }
    };
  }, [node]);
}
function useAnimatedPropsLifecycle_insertionEffects(node) {
  var prevNodeRef = (0, _react.useRef)(null);
  var isUnmountingRef = (0, _react.useRef)(false);
  (0, _react.useEffect)(function () {
    _NativeAnimatedHelper.default.API.flushQueue();
    var drivenAnimationEndedListener = null;
    if (node.__isNative) {
      drivenAnimationEndedListener = _NativeAnimatedHelper.default.nativeEventEmitter.addListener('onUserDrivenAnimationEnded', function (data) {
        node.update();
      });
    }
    return function () {
      var _drivenAnimationEnded2;
      (_drivenAnimationEnded2 = drivenAnimationEndedListener) == null || _drivenAnimationEnded2.remove();
    };
  });
  (0, _react.useInsertionEffect)(function () {
    isUnmountingRef.current = false;
    return function () {
      isUnmountingRef.current = true;
    };
  }, []);
  (0, _react.useInsertionEffect)(function () {
    node.__attach();
    if (prevNodeRef.current != null) {
      var prevNode = prevNodeRef.current;
      prevNode.__restoreDefaultValues();
      prevNode.__detach();
      prevNodeRef.current = null;
    }
    return function () {
      if (isUnmountingRef.current) {
        node.__detach();
      } else {
        prevNodeRef.current = node;
      }
    };
  }, [node]);
}
function getEventTarget(instance) {
  return typeof instance === 'object' && typeof (instance == null ? void 0 : instance.getScrollableNode) === 'function' ? instance.getScrollableNode() : instance;
}
function isFabricInstance(instance) {
  var _instance$getScrollRe;
  return (0, _ReactFabricPublicInstanceUtils.isPublicInstance)(instance) || (0, _ReactFabricPublicInstanceUtils.isPublicInstance)(instance == null || instance.getNativeScrollRef == null ? void 0 : instance.getNativeScrollRef()) || (0, _ReactFabricPublicInstanceUtils.isPublicInstance)(instance == null || instance.getScrollResponder == null || (_instance$getScrollRe = instance.getScrollResponder()) == null || _instance$getScrollRe.getNativeScrollRef == null ? void 0 : _instance$getScrollRe.getNativeScrollRef());
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTmF0aXZlQW5pbWF0ZWRIZWxwZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl91c2VBbmltYXRlZFByb3BzTWVtbyIsIlJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfUmVhY3RGYWJyaWNQdWJsaWNJbnN0YW5jZVV0aWxzIiwiX3VzZVJlZkVmZmVjdCIsIl9BbmltYXRlZEV2ZW50IiwiX0FuaW1hdGVkUHJvcHMiLCJfcmVhY3QiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJ1c2VNZW1vT3JBbmltYXRlZFByb3BzTWVtbyIsImVuYWJsZUFuaW1hdGVkUHJvcHNNZW1vIiwidXNlQW5pbWF0ZWRQcm9wc01lbW8iLCJ1c2VNZW1vIiwidXNlQW5pbWF0ZWRQcm9wcyIsInByb3BzIiwiYWxsb3dsaXN0IiwiX3VzZVJlZHVjZXIiLCJ1c2VSZWR1Y2VyIiwiY291bnQiLCJfdXNlUmVkdWNlcjIiLCJfc2xpY2VkVG9BcnJheTIiLCJzY2hlZHVsZVVwZGF0ZSIsIm9uVXBkYXRlUmVmIiwidXNlUmVmIiwidGltZXJSZWYiLCJhbGxvd2xpc3RJZkVuYWJsZWQiLCJlbmFibGVBbmltYXRlZEFsbG93bGlzdCIsIm5vZGUiLCJBbmltYXRlZFByb3BzIiwiY3VycmVudCIsInVzZU5hdGl2ZVByb3BzSW5GYWJyaWMiLCJzaG91bGRVc2VTZXROYXRpdmVQcm9wc0luRmFicmljIiwidXNlQW5pbWF0ZWRQcm9wc0xpZmVjeWNsZSIsInVzZUluc2VydGlvbkVmZmVjdHNGb3JBbmltYXRpb25zIiwidXNlQW5pbWF0ZWRQcm9wc0xpZmVjeWNsZV9pbnNlcnRpb25FZmZlY3RzIiwidXNlQW5pbWF0ZWRQcm9wc0xpZmVjeWNsZV9sYXlvdXRFZmZlY3RzIiwicmVmRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJpbnN0YW5jZSIsInNldE5hdGl2ZVZpZXciLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJpc0ZhYnJpY05vZGUiLCJpc0ZhYnJpY0luc3RhbmNlIiwiX19pc05hdGl2ZSIsInNldE5hdGl2ZVByb3BzIiwiX19nZXRBbmltYXRlZFZhbHVlIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInRhcmdldCIsImdldEV2ZW50VGFyZ2V0IiwiZXZlbnRzIiwicHJvcE5hbWUiLCJwcm9wVmFsdWUiLCJBbmltYXRlZEV2ZW50IiwiX19hdHRhY2giLCJwdXNoIiwiX3JlZiIsIl9yZWYyIiwiX19kZXRhY2giLCJjYWxsYmFja1JlZiIsInVzZVJlZkVmZmVjdCIsInJlZHVjZUFuaW1hdGVkUHJvcHMiLCJhc3NpZ24iLCJfX2dldFZhbHVlV2l0aFN0YXRpY1Byb3BzIiwiX19nZXRWYWx1ZSIsImNvbGxhcHNhYmxlIiwicHJldk5vZGVSZWYiLCJpc1VubW91bnRpbmdSZWYiLCJ1c2VFZmZlY3QiLCJOYXRpdmVBbmltYXRlZEhlbHBlciIsIkFQSSIsImZsdXNoUXVldWUiLCJkcml2ZW5BbmltYXRpb25FbmRlZExpc3RlbmVyIiwibmF0aXZlRXZlbnRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJkYXRhIiwidXBkYXRlIiwiX2RyaXZlbkFuaW1hdGlvbkVuZGVkIiwicmVtb3ZlIiwidXNlTGF5b3V0RWZmZWN0IiwicHJldk5vZGUiLCJfX3Jlc3RvcmVEZWZhdWx0VmFsdWVzIiwiX2RyaXZlbkFuaW1hdGlvbkVuZGVkMiIsInVzZUluc2VydGlvbkVmZmVjdCIsImdldFNjcm9sbGFibGVOb2RlIiwiX2luc3RhbmNlJGdldFNjcm9sbFJlIiwiaXNGYWJyaWNQdWJsaWNJbnN0YW5jZSIsImdldE5hdGl2ZVNjcm9sbFJlZiIsImdldFNjcm9sbFJlc3BvbmRlciJdLCJzb3VyY2VzIjpbInVzZUFuaW1hdGVkUHJvcHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtFdmVudFN1YnNjcmlwdGlvbn0gZnJvbSAnLi4vRXZlbnRFbWl0dGVyL05hdGl2ZUV2ZW50RW1pdHRlcic7XG5pbXBvcnQgdHlwZSB7QW5pbWF0ZWRQcm9wc0FsbG93bGlzdH0gZnJvbSAnLi9ub2Rlcy9BbmltYXRlZFByb3BzJztcblxuaW1wb3J0IE5hdGl2ZUFuaW1hdGVkSGVscGVyIGZyb20gJy4uLy4uL3NyYy9wcml2YXRlL2FuaW1hdGVkL05hdGl2ZUFuaW1hdGVkSGVscGVyJztcbmltcG9ydCB7dXNlQW5pbWF0ZWRQcm9wc01lbW99IGZyb20gJy4uLy4uL3NyYy9wcml2YXRlL2FuaW1hdGVkL3VzZUFuaW1hdGVkUHJvcHNNZW1vJztcbmltcG9ydCAqIGFzIFJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzIGZyb20gJy4uLy4uL3NyYy9wcml2YXRlL2ZlYXR1cmVmbGFncy9SZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyc7XG5pbXBvcnQge2lzUHVibGljSW5zdGFuY2UgYXMgaXNGYWJyaWNQdWJsaWNJbnN0YW5jZX0gZnJvbSAnLi4vUmVhY3ROYXRpdmUvUmVhY3RGYWJyaWNQdWJsaWNJbnN0YW5jZS9SZWFjdEZhYnJpY1B1YmxpY0luc3RhbmNlVXRpbHMnO1xuaW1wb3J0IHVzZVJlZkVmZmVjdCBmcm9tICcuLi9VdGlsaXRpZXMvdXNlUmVmRWZmZWN0JztcbmltcG9ydCB7QW5pbWF0ZWRFdmVudH0gZnJvbSAnLi9BbmltYXRlZEV2ZW50JztcbmltcG9ydCBBbmltYXRlZFByb3BzIGZyb20gJy4vbm9kZXMvQW5pbWF0ZWRQcm9wcyc7XG5pbXBvcnQge1xuICB1c2VDYWxsYmFjayxcbiAgdXNlRWZmZWN0LFxuICB1c2VJbnNlcnRpb25FZmZlY3QsXG4gIHVzZUxheW91dEVmZmVjdCxcbiAgdXNlTWVtbyxcbiAgdXNlUmVkdWNlcixcbiAgdXNlUmVmLFxufSBmcm9tICdyZWFjdCc7XG5cbnR5cGUgUmVkdWNlZFByb3BzPFRQcm9wcz4gPSB7XG4gIC4uLlRQcm9wcyxcbiAgY29sbGFwc2FibGU6IGJvb2xlYW4sXG4gIC4uLlxufTtcbnR5cGUgQ2FsbGJhY2tSZWY8VD4gPSBUID0+IG1peGVkO1xuXG50eXBlIFVwZGF0ZUNhbGxiYWNrID0gKCkgPT4gdm9pZDtcblxuY29uc3QgdXNlTWVtb09yQW5pbWF0ZWRQcm9wc01lbW8gPVxuICBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncy5lbmFibGVBbmltYXRlZFByb3BzTWVtbygpXG4gICAgPyB1c2VBbmltYXRlZFByb3BzTWVtb1xuICAgIDogdXNlTWVtbztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlQW5pbWF0ZWRQcm9wczxUUHJvcHM6IHsuLi59LCBUSW5zdGFuY2U+KFxuICBwcm9wczogVFByb3BzLFxuICBhbGxvd2xpc3Q/OiA/QW5pbWF0ZWRQcm9wc0FsbG93bGlzdCxcbik6IFtSZWR1Y2VkUHJvcHM8VFByb3BzPiwgQ2FsbGJhY2tSZWY8VEluc3RhbmNlIHwgbnVsbD5dIHtcbiAgY29uc3QgWywgc2NoZWR1bGVVcGRhdGVdID0gdXNlUmVkdWNlcjxudW1iZXIsIHZvaWQ+KGNvdW50ID0+IGNvdW50ICsgMSwgMCk7XG4gIGNvbnN0IG9uVXBkYXRlUmVmID0gdXNlUmVmPFVwZGF0ZUNhbGxiYWNrIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHRpbWVyUmVmID0gdXNlUmVmPFRpbWVvdXRJRCB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGFsbG93bGlzdElmRW5hYmxlZCA9IFJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzLmVuYWJsZUFuaW1hdGVkQWxsb3dsaXN0KClcbiAgICA/IGFsbG93bGlzdFxuICAgIDogbnVsbDtcblxuICBjb25zdCBub2RlID0gdXNlTWVtb09yQW5pbWF0ZWRQcm9wc01lbW8oXG4gICAgKCkgPT5cbiAgICAgIG5ldyBBbmltYXRlZFByb3BzKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgKCkgPT4gb25VcGRhdGVSZWYuY3VycmVudD8uKCksXG4gICAgICAgIGFsbG93bGlzdElmRW5hYmxlZCxcbiAgICAgICksXG4gICAgW2FsbG93bGlzdElmRW5hYmxlZCwgcHJvcHNdLFxuICApO1xuXG4gIGNvbnN0IHVzZU5hdGl2ZVByb3BzSW5GYWJyaWMgPVxuICAgIFJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzLnNob3VsZFVzZVNldE5hdGl2ZVByb3BzSW5GYWJyaWMoKTtcblxuICBjb25zdCB1c2VBbmltYXRlZFByb3BzTGlmZWN5Y2xlID1cbiAgICBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncy51c2VJbnNlcnRpb25FZmZlY3RzRm9yQW5pbWF0aW9ucygpXG4gICAgICA/IHVzZUFuaW1hdGVkUHJvcHNMaWZlY3ljbGVfaW5zZXJ0aW9uRWZmZWN0c1xuICAgICAgOiB1c2VBbmltYXRlZFByb3BzTGlmZWN5Y2xlX2xheW91dEVmZmVjdHM7XG5cbiAgdXNlQW5pbWF0ZWRQcm9wc0xpZmVjeWNsZShub2RlKTtcblxuICAvLyBUT0RPOiBUaGlzIFwiZWZmZWN0XCIgZG9lcyB0aHJlZSB0aGluZ3M6XG4gIC8vXG4gIC8vICAgMSkgQ2FsbCBgc2V0TmF0aXZlVmlld2AuXG4gIC8vICAgMikgVXBkYXRlIGBvblVwZGF0ZVJlZmAuXG4gIC8vICAgMykgVXBkYXRlIGxpc3RlbmVycyBmb3IgYEFuaW1hdGVkRXZlbnRgIHByb3BzLlxuICAvL1xuICAvLyBJZGVhbGx5LCBlYWNoIG9mIHRoZXNlIHdvdWxkIGJlIHNlcGFyYXRlIFwiZWZmZWN0c1wiIHNvIHRoYXQgdGhleSBhcmUgbm90XG4gIC8vIHVubmVjZXNzYXJpbHkgcmUtcnVuIHdoZW4gaXJyZWxldmFudCBkZXBlbmRlbmNpZXMgY2hhbmdlLiBGb3IgZXhhbXBsZSwgd2VcbiAgLy8gc2hvdWxkIGJlIGFibGUgdG8gaG9pc3QgYWxsIGBBbmltYXRlZEV2ZW50YCBwcm9wcyBhbmQgb25seSBkbyAjMyBpZiBlaXRoZXJcbiAgLy8gdGhlIGBBbmltYXRlZEV2ZW50YCBwcm9wcyBjaGFuZ2Ugb3IgYGluc3RhbmNlYCBjaGFuZ2VzLlxuICAvL1xuICAvLyBCdXQgdGhlcmUgaXMgbm8gd2F5IHRvIHRyYW5zcGFyZW50bHkgY29tcG9zZSB0aHJlZSBzZXBhcmF0ZSBjYWxsYmFjayByZWZzLFxuICAvLyBzbyB3ZSBqdXN0IGNvbWJpbmUgdGhlbSBhbGwgaW50byBvbmUgZm9yIG5vdy5cbiAgY29uc3QgcmVmRWZmZWN0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGluc3RhbmNlOiBUSW5zdGFuY2UpID0+IHtcbiAgICAgIC8vIE5PVEU6IFRoaXMgbWF5IGJlIGNhbGxlZCBtb3JlIG9mdGVuIHRoYW4gbmVjZXNzYXJ5IChlLmcuIHdoZW4gYHByb3BzYFxuICAgICAgLy8gY2hhbmdlcyksIGJ1dCBgc2V0TmF0aXZlVmlld2AgYWxyZWFkeSBvcHRpbWl6ZXMgZm9yIHRoYXQuXG4gICAgICBub2RlLnNldE5hdGl2ZVZpZXcoaW5zdGFuY2UpO1xuXG4gICAgICAvLyBOT1RFOiBXaGVuIHVzaW5nIHRoZSBKUyBhbmltYXRpb24gZHJpdmVyLCB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBvblxuICAgICAgLy8gZXZlcnkgYW5pbWF0aW9uIGZyYW1lLiBXaGVuIHVzaW5nIHRoZSBuYXRpdmUgZHJpdmVyLCB0aGlzIGNhbGxiYWNrIGlzXG4gICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGNvbXBsZXRlcy5cbiAgICAgIG9uVXBkYXRlUmVmLmN1cnJlbnQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgMTogdGhpcyBpcyBhIHRlc3QuXG4gICAgICAgICAgLy8gY2FsbCBgc2NoZWR1bGVVcGRhdGVgIHRvIGJ5cGFzcyB1c2Ugb2Ygc2V0TmF0aXZlUHJvcHMuXG4gICAgICAgICAgcmV0dXJuIHNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc0ZhYnJpY05vZGUgPSBpc0ZhYnJpY0luc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgaWYgKG5vZGUuX19pc05hdGl2ZSkge1xuICAgICAgICAgIC8vIENoZWNrIDI6IHRoaXMgaXMgYW4gYW5pbWF0aW9uIGRyaXZlbiBieSBuYXRpdmUuXG4gICAgICAgICAgLy8gSW4gbmF0aXZlIGRyaXZlbiBhbmltYXRpb25zLCB0aGlzIGNhbGxiYWNrIGlzIG9ubHkgY2FsbGVkIG9uY2UgdGhlIGFuaW1hdGlvbiBjb21wbGV0ZXMuXG4gICAgICAgICAgaWYgKGlzRmFicmljTm9kZSkge1xuICAgICAgICAgICAgLy8gQ2FsbCBgc2NoZWR1bGVVcGRhdGVgIHRvIHN5bmNocm9uaXNlIEZpYmVyIGFuZCBTaGFkb3cgdHJlZS5cbiAgICAgICAgICAgIC8vIE11c3Qgbm90IGJlIGNhbGxlZCBpbiBQYXBlci5cbiAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgaW5zdGFuY2UgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgdHlwZW9mIGluc3RhbmNlPy5zZXROYXRpdmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJ1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBDaGVjayAzOiB0aGUgaW5zdGFuY2UgZG9lcyBub3Qgc3VwcG9ydCBzZXROYXRpdmVQcm9wcy4gQ2FsbCBgc2NoZWR1bGVVcGRhdGVgLlxuICAgICAgICAgIHJldHVybiBzY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0ZhYnJpY05vZGUpIHtcbiAgICAgICAgICAvLyBDaGVjayA0OiB0aGlzIGlzIGEgcGFwZXIgaW5zdGFuY2UsIGNhbGwgc2V0TmF0aXZlUHJvcHMuXG4gICAgICAgICAgLy8gJEZsb3dJZ25vcmVbbm90LWEtZnVuY3Rpb25dIC0gQXNzdW1lIGl0J3Mgc3RpbGwgYSBmdW5jdGlvbi5cbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlLnNldE5hdGl2ZVByb3BzKG5vZGUuX19nZXRBbmltYXRlZFZhbHVlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1c2VOYXRpdmVQcm9wc0luRmFicmljKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgNTogc2V0TmF0aXZlUHJvcHMgYXJlIGRpc2FibGVkLlxuICAgICAgICAgIHJldHVybiBzY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhpcyBpcyBhIEZhYnJpYyBpbnN0YW5jZSBhbmQgc2V0TmF0aXZlUHJvcHMgaXMgc3VwcG9ydGVkLlxuXG4gICAgICAgIC8vICRGbG93SWdub3JlW25vdC1hLWZ1bmN0aW9uXSAtIEFzc3VtZSBpdCdzIHN0aWxsIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgaW5zdGFuY2Uuc2V0TmF0aXZlUHJvcHMobm9kZS5fX2dldEFuaW1hdGVkVmFsdWUoKSk7XG5cbiAgICAgICAgLy8gS2VlcGluZyBzdGF0ZSBvZiBGaWJlciB0cmVlIGFuZCBTaGFkb3cgdHJlZSBpbiBzeW5jLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyBgc2NoZWR1bGVVcGRhdGVgIHdoaWNoIHdpbGwgdHJpZ2dlciBhIGNvbW1pdC5cbiAgICAgICAgLy8gSG93ZXZlciwgUmVhY3QgY29tbWl0IGlzIG5vdCBmYXN0IGVub3VnaCB0byBkcml2ZSBhbmltYXRpb25zLlxuICAgICAgICAvLyBUaGlzIGlzIHdoZXJlIHNldE5hdGl2ZVByb3BzIGNvbWVzIGluIGhhbmR5IGJ1dCB0aGUgc3RhdGUgYmV0d2VlblxuICAgICAgICAvLyBGaWJlciB0cmVlIGFuZCBTaGFkb3cgdHJlZSBuZWVkcyB0byBiZSBrZXB0IGluIHN5bmMuXG4gICAgICAgIC8vIFRoZSBnb2FsIGlzIHRvIGNhbGwgYHNjaGVkdWxlVXBkYXRlYCBhcyBsaXR0bGUgYXMgcG9zc2libGUgdG8gbWFpbnRhaW5cbiAgICAgICAgLy8gcGVyZm9ybWFuY2UgYnV0IGZyZXF1ZW50bHkgZW5vdWdoIHRvIGtlZXAgc3RhdGUgaW4gc3luYy5cbiAgICAgICAgLy8gRGVib3VuY2UgaXMgc2V0IHRvIDQ4bXMsIHdoaWNoIGlzIDMgKiB0aGUgZHVyYXRpb24gb2YgYSBmcmFtZS5cbiAgICAgICAgLy8gMyBmcmFtZXMgd2FzIHRoZSBoaWdoZXN0IHZhbHVlIHdoZXJlIGZsaWNrZXJpbmcgc3RhdGUgd2FzIG5vdCBvYnNlcnZlZC5cbiAgICAgICAgaWYgKHRpbWVyUmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgICAgfSwgNDgpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQoaW5zdGFuY2UpO1xuICAgICAgY29uc3QgZXZlbnRzID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gcHJvcHMpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbnZhbGlkLWNvbXB1dGVkLXByb3BdXG4gICAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkRXZlbnQgJiYgcHJvcFZhbHVlLl9faXNOYXRpdmUpIHtcbiAgICAgICAgICBwcm9wVmFsdWUuX19hdHRhY2godGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgICAgICAgZXZlbnRzLnB1c2goW3Byb3BOYW1lLCBwcm9wVmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvblVwZGF0ZVJlZi5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICBmb3IgKGNvbnN0IFtwcm9wTmFtZSwgcHJvcFZhbHVlXSBvZiBldmVudHMpIHtcbiAgICAgICAgICBwcm9wVmFsdWUuX19kZXRhY2godGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBbbm9kZSwgdXNlTmF0aXZlUHJvcHNJbkZhYnJpYywgcHJvcHNdLFxuICApO1xuICBjb25zdCBjYWxsYmFja1JlZiA9IHVzZVJlZkVmZmVjdDxUSW5zdGFuY2U+KHJlZkVmZmVjdCk7XG5cbiAgcmV0dXJuIFtyZWR1Y2VBbmltYXRlZFByb3BzPFRQcm9wcz4obm9kZSwgcHJvcHMpLCBjYWxsYmFja1JlZl07XG59XG5cbmZ1bmN0aW9uIHJlZHVjZUFuaW1hdGVkUHJvcHM8VFByb3BzPihcbiAgbm9kZTogQW5pbWF0ZWRQcm9wcyxcbiAgcHJvcHM6IFRQcm9wcyxcbik6IFJlZHVjZWRQcm9wczxUUHJvcHM+IHtcbiAgLy8gRm9yY2UgYGNvbGxhcHNhYmxlYCB0byBiZSBmYWxzZSBzbyB0aGF0IHRoZSBuYXRpdmUgdmlldyBpcyBub3QgZmxhdHRlbmVkLlxuICAvLyBGbGF0dGVuZWQgdmlld3MgY2Fubm90IGJlIGFjY3VyYXRlbHkgcmVmZXJlbmNlZCBieSB0aGUgbmF0aXZlIGRyaXZlci5cbiAgcmV0dXJuIHtcbiAgICAuLi4oUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MuZW5hYmxlQW5pbWF0ZWRQcm9wc01lbW8oKVxuICAgICAgPyBub2RlLl9fZ2V0VmFsdWVXaXRoU3RhdGljUHJvcHMocHJvcHMpXG4gICAgICA6IG5vZGUuX19nZXRWYWx1ZSgpKSxcbiAgICBjb2xsYXBzYWJsZTogZmFsc2UsXG4gIH07XG59XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgbGlmZWN5Y2xlIG9mIHRoZSBzdXBwbGllZCBgQW5pbWF0ZWRQcm9wc2AgYnkgaW52b2tpbmcgYF9fYXR0YWNoYFxuICogYW5kIGBfX2RldGFjaGAuIEhvd2V2ZXIsIHRoaXMgaXMgbW9yZSBjb21wbGljYXRlZCBiZWNhdXNlIGBBbmltYXRlZFByb3BzYFxuICogdXNlcyByZWZlcmVuY2UgY291bnRpbmcgdG8gZGV0ZXJtaW5lIHdoZW4gdG8gcmVjdXJzaXZlbHkgZGV0YWNoIGl0cyBjaGlsZHJlblxuICogbm9kZXMuIFNvIGluIG9yZGVyIHRvIG9wdGltaXplIHRoaXMsIHdlIGF2b2lkIGRldGFjaGluZyB1bnRpbCB0aGUgbmV4dCBhdHRhY2hcbiAqIHVubGVzcyB3ZSBhcmUgdW5tb3VudGluZy5cbiAqL1xuZnVuY3Rpb24gdXNlQW5pbWF0ZWRQcm9wc0xpZmVjeWNsZV9sYXlvdXRFZmZlY3RzKG5vZGU6IEFuaW1hdGVkUHJvcHMpOiB2b2lkIHtcbiAgY29uc3QgcHJldk5vZGVSZWYgPSB1c2VSZWY8P0FuaW1hdGVkUHJvcHM+KG51bGwpO1xuICBjb25zdCBpc1VubW91bnRpbmdSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSXQgaXMgb2sgZm9yIG11bHRpcGxlIGNvbXBvbmVudHMgdG8gY2FsbCBgZmx1c2hRdWV1ZWAgYmVjYXVzZSBpdCBub29wc1xuICAgIC8vIGlmIHRoZSBxdWV1ZSBpcyBlbXB0eS4gV2hlbiBtdWx0aXBsZSBhbmltYXRlZCBjb21wb25lbnRzIGFyZSBtb3VudGVkIGF0XG4gICAgLy8gdGhlIHNhbWUgdGltZS4gT25seSBmaXJzdCBjb21wb25lbnQgZmx1c2hlcyB0aGUgcXVldWUgYW5kIHRoZSBvdGhlcnMgd2lsbCBub29wLlxuICAgIE5hdGl2ZUFuaW1hdGVkSGVscGVyLkFQSS5mbHVzaFF1ZXVlKCk7XG4gICAgbGV0IGRyaXZlbkFuaW1hdGlvbkVuZGVkTGlzdGVuZXI6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgaWYgKG5vZGUuX19pc05hdGl2ZSkge1xuICAgICAgZHJpdmVuQW5pbWF0aW9uRW5kZWRMaXN0ZW5lciA9XG4gICAgICAgIE5hdGl2ZUFuaW1hdGVkSGVscGVyLm5hdGl2ZUV2ZW50RW1pdHRlci5hZGRMaXN0ZW5lcihcbiAgICAgICAgICAnb25Vc2VyRHJpdmVuQW5pbWF0aW9uRW5kZWQnLFxuICAgICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgICAgbm9kZS51cGRhdGUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkcml2ZW5BbmltYXRpb25FbmRlZExpc3RlbmVyPy5yZW1vdmUoKTtcbiAgICB9O1xuICB9KTtcblxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlzVW5tb3VudGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzVW5tb3VudGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBub2RlLl9fYXR0YWNoKCk7XG4gICAgaWYgKHByZXZOb2RlUmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldk5vZGUgPSBwcmV2Tm9kZVJlZi5jdXJyZW50O1xuICAgICAgLy8gVE9ETzogU3RvcCByZXN0b3JpbmcgZGVmYXVsdCB2YWx1ZXMgKHVubGVzcyBgcmVzZXRgIGlzIGNhbGxlZCkuXG4gICAgICBwcmV2Tm9kZS5fX3Jlc3RvcmVEZWZhdWx0VmFsdWVzKCk7XG4gICAgICBwcmV2Tm9kZS5fX2RldGFjaCgpO1xuICAgICAgcHJldk5vZGVSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaXNVbm1vdW50aW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gTk9URTogRG8gbm90IHJlc3RvcmUgZGVmYXVsdCB2YWx1ZXMgb24gdW5tb3VudCwgc2VlIEQxODE5NzczNS5cbiAgICAgICAgbm9kZS5fX2RldGFjaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldk5vZGVSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW25vZGVdKTtcbn1cblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBsaWZlY3ljbGUgb2YgdGhlIHN1cHBsaWVkIGBBbmltYXRlZFByb3BzYCBieSBpbnZva2luZyBgX19hdHRhY2hgXG4gKiBhbmQgYF9fZGV0YWNoYC4gSG93ZXZlciwgdGhpcyBpcyBtb3JlIGNvbXBsaWNhdGVkIGJlY2F1c2UgYEFuaW1hdGVkUHJvcHNgXG4gKiB1c2VzIHJlZmVyZW5jZSBjb3VudGluZyB0byBkZXRlcm1pbmUgd2hlbiB0byByZWN1cnNpdmVseSBkZXRhY2ggaXRzIGNoaWxkcmVuXG4gKiBub2Rlcy4gU28gaW4gb3JkZXIgdG8gb3B0aW1pemUgdGhpcywgd2UgYXZvaWQgZGV0YWNoaW5nIHVudGlsIHRoZSBuZXh0IGF0dGFjaFxuICogdW5sZXNzIHdlIGFyZSB1bm1vdW50aW5nLlxuICovXG5mdW5jdGlvbiB1c2VBbmltYXRlZFByb3BzTGlmZWN5Y2xlX2luc2VydGlvbkVmZmVjdHMobm9kZTogQW5pbWF0ZWRQcm9wcyk6IHZvaWQge1xuICBjb25zdCBwcmV2Tm9kZVJlZiA9IHVzZVJlZjw/QW5pbWF0ZWRQcm9wcz4obnVsbCk7XG4gIGNvbnN0IGlzVW5tb3VudGluZ1JlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJdCBpcyBvayBmb3IgbXVsdGlwbGUgY29tcG9uZW50cyB0byBjYWxsIGBmbHVzaFF1ZXVlYCBiZWNhdXNlIGl0IG5vb3BzXG4gICAgLy8gaWYgdGhlIHF1ZXVlIGlzIGVtcHR5LiBXaGVuIG11bHRpcGxlIGFuaW1hdGVkIGNvbXBvbmVudHMgYXJlIG1vdW50ZWQgYXRcbiAgICAvLyB0aGUgc2FtZSB0aW1lLiBPbmx5IGZpcnN0IGNvbXBvbmVudCBmbHVzaGVzIHRoZSBxdWV1ZSBhbmQgdGhlIG90aGVycyB3aWxsIG5vb3AuXG4gICAgTmF0aXZlQW5pbWF0ZWRIZWxwZXIuQVBJLmZsdXNoUXVldWUoKTtcbiAgICBsZXQgZHJpdmVuQW5pbWF0aW9uRW5kZWRMaXN0ZW5lcjogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICBpZiAobm9kZS5fX2lzTmF0aXZlKSB7XG4gICAgICBkcml2ZW5BbmltYXRpb25FbmRlZExpc3RlbmVyID1cbiAgICAgICAgTmF0aXZlQW5pbWF0ZWRIZWxwZXIubmF0aXZlRXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKFxuICAgICAgICAgICdvblVzZXJEcml2ZW5BbmltYXRpb25FbmRlZCcsXG4gICAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgICBub2RlLnVwZGF0ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRyaXZlbkFuaW1hdGlvbkVuZGVkTGlzdGVuZXI/LnJlbW92ZSgpO1xuICAgIH07XG4gIH0pO1xuXG4gIHVzZUluc2VydGlvbkVmZmVjdCgoKSA9PiB7XG4gICAgaXNVbm1vdW50aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNVbm1vdW50aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgIG5vZGUuX19hdHRhY2goKTtcbiAgICBpZiAocHJldk5vZGVSZWYuY3VycmVudCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBwcmV2Tm9kZSA9IHByZXZOb2RlUmVmLmN1cnJlbnQ7XG4gICAgICAvLyBUT0RPOiBTdG9wIHJlc3RvcmluZyBkZWZhdWx0IHZhbHVlcyAodW5sZXNzIGByZXNldGAgaXMgY2FsbGVkKS5cbiAgICAgIHByZXZOb2RlLl9fcmVzdG9yZURlZmF1bHRWYWx1ZXMoKTtcbiAgICAgIHByZXZOb2RlLl9fZGV0YWNoKCk7XG4gICAgICBwcmV2Tm9kZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpc1VubW91bnRpbmdSZWYuY3VycmVudCkge1xuICAgICAgICAvLyBOT1RFOiBEbyBub3QgcmVzdG9yZSBkZWZhdWx0IHZhbHVlcyBvbiB1bm1vdW50LCBzZWUgRDE4MTk3NzM1LlxuICAgICAgICBub2RlLl9fZGV0YWNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2Tm9kZVJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbbm9kZV0pO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudFRhcmdldDxUSW5zdGFuY2U+KGluc3RhbmNlOiBUSW5zdGFuY2UpOiBUSW5zdGFuY2Uge1xuICByZXR1cm4gdHlwZW9mIGluc3RhbmNlID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBpbnN0YW5jZT8uZ2V0U2Nyb2xsYWJsZU5vZGUgPT09ICdmdW5jdGlvbidcbiAgICA/IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV0gLSBMZWdhY3kgaW5zdGFuY2UgYXNzdW1wdGlvbnMuXG4gICAgICBpbnN0YW5jZS5nZXRTY3JvbGxhYmxlTm9kZSgpXG4gICAgOiBpbnN0YW5jZTtcbn1cblxuLy8gJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdIC0gTGVnYWN5IGluc3RhbmNlIGFzc3VtcHRpb25zLlxuZnVuY3Rpb24gaXNGYWJyaWNJbnN0YW5jZShpbnN0YW5jZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgaXNGYWJyaWNQdWJsaWNJbnN0YW5jZShpbnN0YW5jZSkgfHxcbiAgICAvLyBTb21lIGNvbXBvbmVudHMgaGF2ZSBhIHNldE5hdGl2ZVByb3BzIGZ1bmN0aW9uIGJ1dCBhcmVuJ3QgYSBob3N0IGNvbXBvbmVudFxuICAgIC8vIHN1Y2ggYXMgbGlzdHMgbGlrZSBGbGF0TGlzdCBhbmQgU2VjdGlvbkxpc3QuIFRoZXNlIHNob3VsZCBhbHNvIHVzZVxuICAgIC8vIGZvcmNlVXBkYXRlIGluIEZhYnJpYyBzaW5jZSBzZXROYXRpdmVQcm9wcyBkb2Vzbid0IGV4aXN0IG9uIHRoZSB1bmRlcmx5aW5nXG4gICAgLy8gaG9zdCBjb21wb25lbnQuIFRoaXMgY3JhenkgaGFjayBpcyBlc3NlbnRpYWxseSBzcGVjaWFsIGNhc2luZyB0aG9zZSBsaXN0cyBhbmRcbiAgICAvLyBTY3JvbGxWaWV3IGl0c2VsZiB0byB1c2UgZm9yY2VVcGRhdGUgaW4gRmFicmljLlxuICAgIC8vIElmIHRoZXNlIGNvbXBvbmVudHMgZW5kIHVwIHVzaW5nIGZvcndhcmRSZWYgdGhlbiB0aGVzZSBoYWNrcyBjYW4gZ28gYXdheVxuICAgIC8vIGFzIGluc3RhbmNlIHdvdWxkIGFjdHVhbGx5IGJlIHRoZSB1bmRlcmx5aW5nIGhvc3QgY29tcG9uZW50IGFuZCB0aGUgYWJvdmUgY2hlY2tcbiAgICAvLyB3b3VsZCBiZSBzdWZmaWNpZW50LlxuICAgIGlzRmFicmljUHVibGljSW5zdGFuY2UoaW5zdGFuY2U/LmdldE5hdGl2ZVNjcm9sbFJlZj8uKCkpIHx8XG4gICAgaXNGYWJyaWNQdWJsaWNJbnN0YW5jZShcbiAgICAgIGluc3RhbmNlPy5nZXRTY3JvbGxSZXNwb25kZXI/LigpPy5nZXROYXRpdmVTY3JvbGxSZWY/LigpLFxuICAgIClcbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6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