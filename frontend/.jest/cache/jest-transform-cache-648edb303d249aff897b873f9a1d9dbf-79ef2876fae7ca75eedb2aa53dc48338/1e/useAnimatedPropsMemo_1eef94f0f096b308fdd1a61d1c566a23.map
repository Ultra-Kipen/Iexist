{"version":3,"names":["_AnimatedEvent","require","_AnimatedNode","_interopRequireDefault","_AnimatedObject","_flattenStyle","_nullthrows","_react","_Object$hasOwn","useAnimatedPropsMemo","create","_ref","_ref2","_slicedToArray2","default","allowlist","props","compositeKey","useMemo","createCompositeKeyForProps","_useState","useState","value","_useState2","state","setState","areCompositeKeysEqual","keys","Object","ii","length","key","hasOwn","compositeKeyComponent","flatStyle","flattenStyle","createCompositeKeyForObject","style","AnimatedNode","AnimatedEvent","Array","isArray","createCompositeKeyForArray","isPlainObject","array","fill","object","maybePrev","maybeNext","prev","next","prevComponent","nextComponent","areCompositeKeyComponentsEqual","nullthrows","_hasOwnProp","prototype","hasOwnProperty","obj","prop","call"],"sources":["useAnimatedPropsMemo.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n * @oncall react_native\n */\n\nimport type AnimatedProps from '../../../Libraries/Animated/nodes/AnimatedProps';\nimport type {AnimatedPropsAllowlist} from '../../../Libraries/Animated/nodes/AnimatedProps';\nimport type {AnimatedStyleAllowlist} from '../../../Libraries/Animated/nodes/AnimatedStyle';\n\nimport {AnimatedEvent} from '../../../Libraries/Animated/AnimatedEvent';\nimport AnimatedNode from '../../../Libraries/Animated/nodes/AnimatedNode';\nimport {isPlainObject} from '../../../Libraries/Animated/nodes/AnimatedObject';\nimport flattenStyle from '../../../Libraries/StyleSheet/flattenStyle';\nimport nullthrows from 'nullthrows';\nimport {useMemo, useState} from 'react';\n\ntype CompositeKey = {\n  style?: {[string]: CompositeKeyComponent},\n  [string]:\n    | CompositeKeyComponent\n    | AnimatedEvent\n    | $ReadOnlyArray<mixed>\n    | $ReadOnly<{[string]: mixed}>,\n};\n\ntype CompositeKeyComponent =\n  | AnimatedNode\n  | Array<CompositeKeyComponent | null>\n  | {[string]: CompositeKeyComponent};\n\ntype $ReadOnlyCompositeKey = $ReadOnly<{\n  style?: $ReadOnly<{[string]: CompositeKeyComponent}>,\n  [string]:\n    | $ReadOnlyCompositeKeyComponent\n    | AnimatedEvent\n    | $ReadOnlyArray<mixed>\n    | $ReadOnly<{[string]: mixed}>,\n}>;\n\ntype $ReadOnlyCompositeKeyComponent =\n  | AnimatedNode\n  | $ReadOnlyArray<$ReadOnlyCompositeKeyComponent | null>\n  | $ReadOnly<{[string]: $ReadOnlyCompositeKeyComponent}>;\n\n/**\n * A hook that returns an `AnimatedProps` object that is memoized based on the\n * subset of `props` that are instances of `AnimatedNode` or `AnimatedEvent`.\n */\nexport function useAnimatedPropsMemo(\n  create: () => AnimatedProps,\n  // TODO: Make this two separate arguments after the experiment is over. This\n  // is only an array-like structure to make it easier to experiment with this\n  // and `useMemo`.\n  [allowlist, props]: [?AnimatedPropsAllowlist, {[string]: mixed}],\n): AnimatedProps {\n  const compositeKey = useMemo(\n    () => createCompositeKeyForProps(props, allowlist),\n    [allowlist, props],\n  );\n\n  const [state, setState] = useState<{\n    allowlist: ?AnimatedPropsAllowlist,\n    compositeKey: $ReadOnlyCompositeKey | null,\n    value: AnimatedProps,\n  }>(() => ({\n    allowlist,\n    compositeKey,\n    value: create(),\n  }));\n\n  if (\n    state.allowlist !== allowlist ||\n    !areCompositeKeysEqual(state.compositeKey, compositeKey)\n  ) {\n    setState({\n      allowlist,\n      compositeKey,\n      value: create(),\n    });\n  }\n  return state.value;\n}\n\n/**\n * Creates a new composite key for a `props` object that can be used to detect\n * whether a new `AnimatedProps` instance must be created.\n *\n * - With an allowlist, those props are searched for `AnimatedNode` instances.\n * - Without an allowlist, `style` is searched for `AnimatedNode` instances,\n *   but all other objects and arrays are included (not searched). We do not\n *   search objects and arrays without an allowlist in case they are very large\n *   data structures. We safely traverse `style` becuase it is bounded.\n *\n * Any `AnimatedEvent` instances at the first depth are always included.\n *\n * If `props` contains no `AnimatedNode` or `AnimatedEvent` instances, this\n * returns null.\n */\nexport function createCompositeKeyForProps(\n  props: $ReadOnly<{[string]: mixed}>,\n  allowlist: ?AnimatedPropsAllowlist,\n): $ReadOnlyCompositeKey | null {\n  let compositeKey: CompositeKey | null = null;\n\n  const keys = Object.keys(props);\n  for (let ii = 0, length = keys.length; ii < length; ii++) {\n    const key = keys[ii];\n    const value = props[key];\n\n    if (allowlist == null || hasOwn(allowlist, key)) {\n      let compositeKeyComponent;\n      if (key === 'style') {\n        // $FlowFixMe[incompatible-call] - `style` is a valid argument.\n        // $FlowFixMe[incompatible-type] - `flattenStyle` returns an object.\n        const flatStyle: ?{[string]: mixed} = flattenStyle(value);\n        if (flatStyle != null) {\n          compositeKeyComponent = createCompositeKeyForObject(\n            flatStyle,\n            allowlist?.style,\n          );\n        }\n      } else if (\n        value instanceof AnimatedNode ||\n        value instanceof AnimatedEvent\n      ) {\n        compositeKeyComponent = value;\n      } else if (Array.isArray(value)) {\n        compositeKeyComponent =\n          allowlist == null ? value : createCompositeKeyForArray(value);\n      } else if (isPlainObject(value)) {\n        compositeKeyComponent =\n          allowlist == null ? value : createCompositeKeyForObject(value);\n      }\n      if (compositeKeyComponent != null) {\n        if (compositeKey == null) {\n          compositeKey = {} as CompositeKey;\n        }\n        compositeKey[key] = compositeKeyComponent;\n      }\n    }\n  }\n\n  return compositeKey;\n}\n\n/**\n * Creates a new composite key for an array that retains all values that are or\n * contain `AnimatedNode` instances, and `null` for the rest.\n *\n * If `array` contains no `AnimatedNode` instances, this returns null.\n */\nfunction createCompositeKeyForArray(\n  array: $ReadOnlyArray<mixed>,\n): $ReadOnlyArray<$ReadOnlyCompositeKeyComponent | null> | null {\n  let compositeKey: Array<$ReadOnlyCompositeKeyComponent | null> | null = null;\n\n  for (let ii = 0, length = array.length; ii < length; ii++) {\n    const value = array[ii];\n\n    let compositeKeyComponent;\n    if (value instanceof AnimatedNode) {\n      compositeKeyComponent = value;\n    } else if (Array.isArray(value)) {\n      compositeKeyComponent = createCompositeKeyForArray(value);\n    } else if (isPlainObject(value)) {\n      compositeKeyComponent = createCompositeKeyForObject(value);\n    }\n    if (compositeKeyComponent != null) {\n      if (compositeKey == null) {\n        compositeKey = new Array<$ReadOnlyCompositeKeyComponent | null>(\n          array.length,\n        ).fill(null);\n      }\n      compositeKey[ii] = compositeKeyComponent;\n    }\n  }\n\n  return compositeKey;\n}\n\n/**\n * Creates a new composite key for an object that retains only properties that\n * are or contain `AnimatedNode` instances.\n *\n * When used to create composite keys for `style` props:\n *\n * - With an allowlist, those properties are searched.\n * - Without an allowlist, every property is searched.\n *\n * If `object` contains no `AnimatedNode` instances, this returns null.\n */\nfunction createCompositeKeyForObject(\n  object: $ReadOnly<{[string]: mixed}>,\n  allowlist?: ?AnimatedStyleAllowlist,\n): $ReadOnly<{[string]: $ReadOnlyCompositeKeyComponent}> | null {\n  let compositeKey: {[string]: $ReadOnlyCompositeKeyComponent} | null = null;\n\n  const keys = Object.keys(object);\n  for (let ii = 0, length = keys.length; ii < length; ii++) {\n    const key = keys[ii];\n\n    if (allowlist == null || hasOwn(allowlist, key)) {\n      const value = object[key];\n\n      let compositeKeyComponent;\n      if (value instanceof AnimatedNode) {\n        compositeKeyComponent = value;\n      } else if (Array.isArray(value)) {\n        compositeKeyComponent = createCompositeKeyForArray(value);\n      } else if (isPlainObject(value)) {\n        compositeKeyComponent = createCompositeKeyForObject(value);\n      }\n      if (compositeKeyComponent != null) {\n        if (compositeKey == null) {\n          compositeKey = {} as {[string]: $ReadOnlyCompositeKeyComponent};\n        }\n        compositeKey[key] = compositeKeyComponent;\n      }\n    }\n  }\n\n  return compositeKey;\n}\n\nexport function areCompositeKeysEqual(\n  maybePrev: $ReadOnlyCompositeKey | null,\n  maybeNext: $ReadOnlyCompositeKey | null,\n  allowlist: ?AnimatedPropsAllowlist,\n): boolean {\n  if (maybePrev === maybeNext) {\n    return true;\n  }\n  if (maybePrev === null || maybeNext === null) {\n    return false;\n  }\n  // Help Flow retain the type refinements of these.\n  const prev = maybePrev;\n  const next = maybeNext;\n\n  const keys = Object.keys(prev);\n  const length = keys.length;\n  if (length !== Object.keys(next).length) {\n    return false;\n  }\n  for (let ii = 0; ii < length; ii++) {\n    const key = keys[ii];\n    if (!hasOwn(next, key)) {\n      return false;\n    }\n    const prevComponent = prev[key];\n    const nextComponent = next[key];\n\n    if (key === 'style') {\n      // We know style components are objects with non-mixed values.\n      if (\n        !areCompositeKeyComponentsEqual(\n          // $FlowIgnore[incompatible-cast]\n          prevComponent as $ReadOnlyCompositeKeyComponent,\n          // $FlowIgnore[incompatible-cast]\n          nextComponent as $ReadOnlyCompositeKeyComponent,\n        )\n      ) {\n        return false;\n      }\n    } else if (\n      prevComponent instanceof AnimatedNode ||\n      prevComponent instanceof AnimatedEvent\n    ) {\n      if (prevComponent !== nextComponent) {\n        return false;\n      }\n    } else {\n      // When `allowlist` is null, the components must be the same. Otherwise,\n      // we created the components using deep traversal, so deep compare them.\n      if (allowlist == null) {\n        if (prevComponent !== nextComponent) {\n          return false;\n        }\n      } else {\n        if (\n          !areCompositeKeyComponentsEqual(\n            // $FlowIgnore[incompatible-cast]\n            prevComponent as $ReadOnlyCompositeKeyComponent,\n            // $FlowIgnore[incompatible-cast]\n            nextComponent as $ReadOnlyCompositeKeyComponent,\n          )\n        ) {\n          return false;\n        }\n      }\n    }\n  }\n  return true;\n}\n\nfunction areCompositeKeyComponentsEqual(\n  prev: $ReadOnlyCompositeKeyComponent | null,\n  next: $ReadOnlyCompositeKeyComponent | null,\n): boolean {\n  if (prev === next) {\n    return true;\n  }\n  if (prev instanceof AnimatedNode) {\n    return prev === next;\n  }\n  if (Array.isArray(prev)) {\n    if (!Array.isArray(next)) {\n      return false;\n    }\n    const length = prev.length;\n    if (length !== next.length) {\n      return false;\n    }\n    for (let ii = 0; ii < length; ii++) {\n      if (!areCompositeKeyComponentsEqual(prev[ii], next[ii])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (isPlainObject(prev)) {\n    if (!isPlainObject(next)) {\n      return false;\n    }\n    const keys = Object.keys(prev);\n    const length = keys.length;\n    if (length !== Object.keys(next).length) {\n      return false;\n    }\n    for (let ii = 0; ii < length; ii++) {\n      const key = keys[ii];\n      if (\n        !hasOwn(nullthrows(next), key) ||\n        !areCompositeKeyComponentsEqual(prev[key], next[key])\n      ) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\n// Supported versions of JSC do not implement the newer Object.hasOwn. Remove\n// this shim when they do.\n// $FlowIgnore[method-unbinding]\nconst _hasOwnProp = Object.prototype.hasOwnProperty;\nconst hasOwn: (obj: $ReadOnly<{...}>, prop: string) => boolean =\n  // $FlowIgnore[method-unbinding]\n  Object.hasOwn ?? ((obj, prop) => _hasOwnProp.call(obj, prop));\n"],"mappings":"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","ignoreList":[]}