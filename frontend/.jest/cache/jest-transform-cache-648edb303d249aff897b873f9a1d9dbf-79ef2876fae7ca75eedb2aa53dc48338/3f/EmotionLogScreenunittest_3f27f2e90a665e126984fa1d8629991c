468ef83da1b477e5864415b35017506d
_getJestObj().mock("../../../src/services/api/emotionService", function () {
  return {
    getAllEmotions: jest.fn(),
    recordEmotions: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _EmotionLogScreen = _interopRequireDefault(require("../../../src/screens/EmotionLogScreen"));
var _emotionService = _interopRequireDefault(require("../../../src/services/api/emotionService"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockEmotions = {
  status: 'success',
  data: [{
    emotion_id: 1,
    name: '행복',
    icon: 'emoticon-happy-outline',
    color: '#FFD700'
  }, {
    emotion_id: 2,
    name: '감사',
    icon: 'hand-heart',
    color: '#FF69B4'
  }, {
    emotion_id: 3,
    name: '위로',
    icon: 'hand-peace',
    color: '#87CEEB'
  }]
};
var mockAlert = jest.fn();
_reactNative2.Alert.alert = mockAlert;
var mockNavigation = {
  goBack: jest.fn()
};
describe('EmotionLogScreen 단위 테스트', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _emotionService.default.getAllEmotions.mockResolvedValue({
      data: mockEmotions
    });
    _emotionService.default.recordEmotions.mockResolvedValue({
      status: 200
    });
  });
  var setupRenderAndWaitForEmotions = function () {
    var _ref = (0, _asyncToGenerator2.default)(function* () {
      var renderResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_EmotionLogScreen.default, {
        navigation: mockNavigation
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(renderResult.getByText('행복')).toBeTruthy();
      }, {
        timeout: 10000
      });
      return renderResult;
    });
    return function setupRenderAndWaitForEmotions() {
      return _ref.apply(this, arguments);
    };
  }();
  test('감정 데이터를 성공적으로 로드함', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd.getByText,
      queryByText = _yield$setupRenderAnd.queryByText;
    expect(_emotionService.default.getAllEmotions).toHaveBeenCalledTimes(1);
    expect(queryByText('감정 데이터를 불러오는 중...')).toBeNull();
    expect(getByText('오늘의 감정')).toBeTruthy();
    expect(getByText('현재 어떤 감정을 느끼고 계신가요?')).toBeTruthy();
    expect(getByText('행복')).toBeTruthy();
    expect(getByText('감사')).toBeTruthy();
    expect(getByText('위로')).toBeTruthy();
  }), 15000);
  test('감정 데이터 로드 실패 시 알림 표시', (0, _asyncToGenerator2.default)(function* () {
    _emotionService.default.getAllEmotions.mockRejectedValue(new Error('네트워크 오류'));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_EmotionLogScreen.default, {
      navigation: mockNavigation
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockAlert).toHaveBeenCalledWith('오류', '감정 데이터를 불러오는 중 오류가 발생했습니다.');
    }, {
      timeout: 10000
    });
  }), 15000);
  test('감정 선택/해제 기능이 정상 작동함', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd2 = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd2.getByText;
    _reactNative.fireEvent.press(getByText('행복'));
    _reactNative.fireEvent.press(getByText('행복'));
    _reactNative.fireEvent.press(getByText('감사'));
  }), 15000);
  test('메모 입력이 정상 작동함', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd3 = yield setupRenderAndWaitForEmotions(),
      getByTestId = _yield$setupRenderAnd3.getByTestId;
    var noteInput = getByTestId('emotion-note-input');
    _reactNative.fireEvent.changeText(noteInput, '오늘은 좋은 날이었습니다.');
    expect(noteInput.props.value).toBe('오늘은 좋은 날이었습니다.');
  }), 15000);
  test('감정 선택 없을 때 제출 버튼이 비활성화됨', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd4 = yield setupRenderAndWaitForEmotions(),
      getByTestId = _yield$setupRenderAnd4.getByTestId;
    var submitButton = getByTestId('emotion-submit-button');
    expect(submitButton.props.accessibilityState.disabled).toBeTruthy();
  }), 15000);
  test('감정 로그 제출 성공 시 알림 및 화면 이동', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd5 = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd5.getByText,
      getByTestId = _yield$setupRenderAnd5.getByTestId;
    _reactNative.fireEvent.press(getByText('행복'));
    var submitButton = getByTestId('emotion-submit-button');
    _reactNative.fireEvent.press(submitButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(_emotionService.default.recordEmotions).toHaveBeenCalledWith({
        emotion_ids: [1],
        note: undefined
      });
      expect(mockAlert).toHaveBeenCalledWith('감정 기록 완료', '오늘의 감정이 성공적으로 기록되었습니다.', [{
        text: '확인',
        onPress: expect.any(Function)
      }]);
    }, {
      timeout: 10000
    });
    var alertButtons = mockAlert.mock.calls[0][2];
    alertButtons[0].onPress();
    expect(mockNavigation.goBack).toHaveBeenCalled();
  }), 15000);
  test('감정 로그 제출 실패 시 에러 알림', (0, _asyncToGenerator2.default)(function* () {
    _emotionService.default.recordEmotions.mockRejectedValue({
      response: {
        data: {
          message: '서버 오류가 발생했습니다.'
        }
      }
    });
    var _yield$setupRenderAnd6 = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd6.getByText,
      getByTestId = _yield$setupRenderAnd6.getByTestId;
    _reactNative.fireEvent.press(getByText('행복'));
    var submitButton = getByTestId('emotion-submit-button');
    _reactNative.fireEvent.press(submitButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockAlert).toHaveBeenCalledWith('오류', '서버 오류가 발생했습니다.');
    }, {
      timeout: 10000
    });
  }), 15000);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRBbGxFbW90aW9ucyIsImplc3QiLCJmbiIsInJlY29yZEVtb3Rpb25zIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmUyIiwiX0Vtb3Rpb25Mb2dTY3JlZW4iLCJfZW1vdGlvblNlcnZpY2UiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwibW9ja0Vtb3Rpb25zIiwic3RhdHVzIiwiZGF0YSIsImVtb3Rpb25faWQiLCJuYW1lIiwiaWNvbiIsImNvbG9yIiwibW9ja0FsZXJ0IiwiQWxlcnQiLCJhbGVydCIsIm1vY2tOYXZpZ2F0aW9uIiwiZ29CYWNrIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImVtb3Rpb25TZXJ2aWNlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucyIsIl9yZWYiLCJkZWZhdWx0IiwicmVuZGVyUmVzdWx0IiwicmVuZGVyIiwianN4IiwibmF2aWdhdGlvbiIsIndhaXRGb3IiLCJleHBlY3QiLCJnZXRCeVRleHQiLCJ0b0JlVHJ1dGh5IiwidGltZW91dCIsImFwcGx5IiwiYXJndW1lbnRzIiwidGVzdCIsIl95aWVsZCRzZXR1cFJlbmRlckFuZCIsInF1ZXJ5QnlUZXh0IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9CZU51bGwiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQyIiwiZmlyZUV2ZW50IiwicHJlc3MiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQzIiwiZ2V0QnlUZXN0SWQiLCJub3RlSW5wdXQiLCJjaGFuZ2VUZXh0IiwicHJvcHMiLCJ2YWx1ZSIsInRvQmUiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQ0Iiwic3VibWl0QnV0dG9uIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwiZGlzYWJsZWQiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQ1IiwiZW1vdGlvbl9pZHMiLCJub3RlIiwidW5kZWZpbmVkIiwidGV4dCIsIm9uUHJlc3MiLCJhbnkiLCJGdW5jdGlvbiIsImFsZXJ0QnV0dG9ucyIsImNhbGxzIiwidG9IYXZlQmVlbkNhbGxlZCIsInJlc3BvbnNlIiwibWVzc2FnZSIsIl95aWVsZCRzZXR1cFJlbmRlckFuZDYiXSwic291cmNlcyI6WyJFbW90aW9uTG9nU2NyZWVuLnVuaXQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGVzdHMvdW5pdC9FbW90aW9uTG9nU2NyZWVuLnVuaXQudGVzdC50c3hcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCB7IEFsZXJ0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IEVtb3Rpb25Mb2dTY3JlZW4gZnJvbSAnLi4vLi4vLi4vc3JjL3NjcmVlbnMvRW1vdGlvbkxvZ1NjcmVlbic7XHJcbmltcG9ydCBlbW90aW9uU2VydmljZSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMvYXBpL2Vtb3Rpb25TZXJ2aWNlJztcclxuXHJcbi8vIOuqqSDrjbDsnbTthLBcclxuY29uc3QgbW9ja0Vtb3Rpb25zID0ge1xyXG4gIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gIGRhdGE6IFtcclxuICAgIHsgZW1vdGlvbl9pZDogMSwgbmFtZTogJ+2WieuztScsIGljb246ICdlbW90aWNvbi1oYXBweS1vdXRsaW5lJywgY29sb3I6ICcjRkZENzAwJyB9LFxyXG4gICAgeyBlbW90aW9uX2lkOiAyLCBuYW1lOiAn6rCQ7IKsJywgaWNvbjogJ2hhbmQtaGVhcnQnLCBjb2xvcjogJyNGRjY5QjQnIH0sXHJcbiAgICB7IGVtb3Rpb25faWQ6IDMsIG5hbWU6ICfsnITroZwnLCBpY29uOiAnaGFuZC1wZWFjZScsIGNvbG9yOiAnIzg3Q0VFQicgfVxyXG4gIF1cclxufTtcclxuXHJcbi8vIOuqqO2CuSDshKTsoJVcclxuamVzdC5tb2NrKCcuLi8uLi8uLi9zcmMvc2VydmljZXMvYXBpL2Vtb3Rpb25TZXJ2aWNlJywgKCkgPT4gKHtcclxuICBnZXRBbGxFbW90aW9uczogamVzdC5mbigpLFxyXG4gIHJlY29yZEVtb3Rpb25zOiBqZXN0LmZuKClcclxufSkpO1xyXG5cclxuLy8gQWxlcnQg66qo7YK5XHJcbmNvbnN0IG1vY2tBbGVydCA9IGplc3QuZm4oKTtcclxuQWxlcnQuYWxlcnQgPSBtb2NrQWxlcnQ7XHJcblxyXG4vLyDrhKTruYTqsozsnbTshZgg66qo7YK5XHJcbmNvbnN0IG1vY2tOYXZpZ2F0aW9uID0geyBnb0JhY2s6IGplc3QuZm4oKSB9O1xyXG5cclxuZGVzY3JpYmUoJ0Vtb3Rpb25Mb2dTY3JlZW4g64uo7JyEIO2FjOyKpO2KuCcsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICAgKGVtb3Rpb25TZXJ2aWNlLmdldEFsbEVtb3Rpb25zIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrRW1vdGlvbnMgfSk7XHJcbiAgICAoZW1vdGlvblNlcnZpY2UucmVjb3JkRW1vdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN0YXR1czogMjAwIH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucyA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlbmRlclJlc3VsdCA9IHJlbmRlcig8RW1vdGlvbkxvZ1NjcmVlbiBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz4pO1xyXG4gICAgXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHJlbmRlclJlc3VsdC5nZXRCeVRleHQoJ+2WieuztScpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9LCB7IHRpbWVvdXQ6IDEwMDAwIH0pO1xyXG5cclxuICAgIHJldHVybiByZW5kZXJSZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgdGVzdCgn6rCQ7KCVIOuNsOydtO2EsOulvCDshLHqs7XsoIHsnLzroZwg66Gc65Oc7ZWoJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIHF1ZXJ5QnlUZXh0IH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoZW1vdGlvblNlcnZpY2UuZ2V0QWxsRW1vdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dCgn6rCQ7KCVIOuNsOydtO2EsOulvCDrtojrn6zsmKTripQg7KSRLi4uJykpLnRvQmVOdWxsKCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfsmKTripjsnZgg6rCQ7KCVJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+2YhOyerCDslrTrlqQg6rCQ7KCV7J2EIOuKkOuBvOqzoCDqs4Tsi6DqsIDsmpQ/JykpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+2WieuztScpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfqsJDsgqwnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgn7JyE66GcJykpLnRvQmVUcnV0aHkoKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+qwkOyglSDrjbDsnbTthLAg66Gc65OcIOyLpO2MqCDsi5wg7JWM66a8IO2RnOyLnCcsIGFzeW5jICgpID0+IHtcclxuICAgIChlbW90aW9uU2VydmljZS5nZXRBbGxFbW90aW9ucyBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcign64Sk7Yq47JuM7YGsIOyYpOulmCcpKTtcclxuICAgIFxyXG4gICAgcmVuZGVyKDxFbW90aW9uTG9nU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja0FsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAn7Jik66WYJywgXHJcbiAgICAgICAgJ+qwkOyglSDrjbDsnbTthLDrpbwg67aI65+s7Jik64qUIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLidcclxuICAgICAgKTtcclxuICAgIH0sIHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgfSwgMTUwMDApO1xyXG5cclxuICB0ZXN0KCfqsJDsoJUg7ISg7YOdL+2VtOygnCDquLDriqXsnbQg7KCV7IOBIOyekeuPme2VqCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICAvLyDqsJDsoJUg7ISg7YOdXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCftlonrs7UnKSk7XHJcbiAgICBcclxuICAgIC8vIOqwkOyglSDtlbTsoJxcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ+2WieuztScpKTtcclxuICAgIFxyXG4gICAgLy8g64uk66W4IOqwkOyglSDshKDtg51cclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ+qwkOyCrCcpKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+uplOuqqCDsnoXroKXsnbQg7KCV7IOBIOyekeuPme2VqCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IGF3YWl0IHNldHVwUmVuZGVyQW5kV2FpdEZvckVtb3Rpb25zKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IG5vdGVJbnB1dCA9IGdldEJ5VGVzdElkKCdlbW90aW9uLW5vdGUtaW5wdXQnKTtcclxuICAgIGZpcmVFdmVudC5jaGFuZ2VUZXh0KG5vdGVJbnB1dCwgJ+yYpOuKmOydgCDsoovsnYAg64Kg7J207JeI7Iq164uI64ukLicpO1xyXG4gICAgXHJcbiAgICBleHBlY3Qobm90ZUlucHV0LnByb3BzLnZhbHVlKS50b0JlKCfsmKTripjsnYAg7KKL7J2AIOuCoOydtOyXiOyKteuLiOuLpC4nKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+qwkOyglSDshKDtg50g7JeG7J2EIOuVjCDsoJzstpwg67KE7Yq87J20IOu5hO2ZnOyEse2ZlOuQqCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IGF3YWl0IHNldHVwUmVuZGVyQW5kV2FpdEZvckVtb3Rpb25zKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGdldEJ5VGVzdElkKCdlbW90aW9uLXN1Ym1pdC1idXR0b24nKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHN1Ym1pdEJ1dHRvbi5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGUuZGlzYWJsZWQpLnRvQmVUcnV0aHkoKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+qwkOyglSDroZzqt7gg7KCc7LacIOyEseqztSDsi5wg7JWM66a8IOuwjyDtmZTrqbQg7J2064+ZJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGdldEJ5VGVzdElkIH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICAvLyDqsJDsoJUg7ISg7YOdXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCftlonrs7UnKSk7XHJcbiAgICBcclxuICAgIC8vIOygnOy2nFxyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZ2V0QnlUZXN0SWQoJ2Vtb3Rpb24tc3VibWl0LWJ1dHRvbicpO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKHN1Ym1pdEJ1dHRvbik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZW1vdGlvblNlcnZpY2UucmVjb3JkRW1vdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICBlbW90aW9uX2lkczogWzFdLFxyXG4gICAgICAgIG5vdGU6IHVuZGVmaW5lZFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIOyEseqztSDslYzrprwg7ZmV7J24XHJcbiAgICAgIGV4cGVjdChtb2NrQWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICfqsJDsoJUg6riw66GdIOyZhOujjCcsXHJcbiAgICAgICAgJ+yYpOuKmOydmCDqsJDsoJXsnbQg7ISx6rO17KCB7Jy866GcIOq4sOuhneuQmOyXiOyKteuLiOuLpC4nLFxyXG4gICAgICAgIFt7IHRleHQ6ICftmZXsnbgnLCBvblByZXNzOiBleHBlY3QuYW55KEZ1bmN0aW9uKSB9XVxyXG4gICAgICApO1xyXG4gICAgfSwgeyB0aW1lb3V0OiAxMDAwMCB9KTtcclxuICAgIFxyXG4gICAgLy8g7JWM66a87J2YIO2ZleyduCDrsoTtirwg7YG066atIOyLnOuurOugiOydtOyFmFxyXG4gICAgY29uc3QgYWxlcnRCdXR0b25zID0gbW9ja0FsZXJ0Lm1vY2suY2FsbHNbMF1bMl07XHJcbiAgICBhbGVydEJ1dHRvbnNbMF0ub25QcmVzcygpO1xyXG4gICAgXHJcbiAgICBleHBlY3QobW9ja05hdmlnYXRpb24uZ29CYWNrKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSwgMTUwMDApO1xyXG5cclxuICB0ZXN0KCfqsJDsoJUg66Gc6re4IOygnOy2nCDsi6TtjKgg7IucIOyXkOufrCDslYzrprwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAoZW1vdGlvblNlcnZpY2UucmVjb3JkRW1vdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZSh7XHJcbiAgICAgIHJlc3BvbnNlOiB7IGRhdGE6IHsgbWVzc2FnZTogJ+yEnOuyhCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicgfSB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGdldEJ5VGVzdElkIH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICAvLyDqsJDsoJUg7ISg7YOdXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCftlonrs7UnKSk7XHJcbiAgICBcclxuICAgIC8vIOygnOy2nFxyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZ2V0QnlUZXN0SWQoJ2Vtb3Rpb24tc3VibWl0LWJ1dHRvbicpO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKHN1Ym1pdEJ1dHRvbik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja0FsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAn7Jik66WYJywgXHJcbiAgICAgICAgJ+yEnOuyhCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLidcclxuICAgICAgKTtcclxuICAgIH0sIHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgfSwgMTUwMDApO1xyXG59KTsiXSwibWFwcGluZ3MiOiJBQWtCQUEsV0FBQSxHQUFLQyxJQUFJLDZDQUE2QztFQUFBLE9BQU87SUFDM0RDLGNBQWMsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUN6QkMsY0FBYyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUMxQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUUsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFwQkosSUFBQUUsTUFBQSxHQUFB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