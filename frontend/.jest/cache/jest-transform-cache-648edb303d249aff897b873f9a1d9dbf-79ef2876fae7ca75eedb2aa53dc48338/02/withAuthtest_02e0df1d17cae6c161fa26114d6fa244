53a8518f9592c64d1897708c469f22a1
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn()
  };
});
_getJestObj().mock("../../src/store", function () {
  return {
    useStore: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _withAuth = require("../../src/hoc/withAuth");
var _native = require("@react-navigation/native");
var _store = require("../../src/store");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var MockText = function MockText(_ref) {
  var children = _ref.children;
  return (0, _jsxRuntime.jsx)("div", {
    children: children
  });
};
describe('withAuth HOC', function () {
  var TestComponent = function TestComponent() {
    return (0, _jsxRuntime.jsx)(MockText, {
      children: "\uC778\uC99D\uB41C \uCEF4\uD3EC\uB10C\uD2B8"
    });
  };
  var AuthenticatedComponent = (0, _withAuth.withAuth)(TestComponent);
  var mockNavigate = jest.fn();
  beforeEach(function () {
    jest.clearAllMocks();
    _native.useNavigation.mockReturnValue({
      navigate: mockNavigate
    });
  });
  test('인증된 경우 컴포넌트가 렌더링되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: true
      }
    });
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      getByText = _render.getByText;
    expect(getByText('인증된 컴포넌트')).toBeTruthy();
    expect(mockNavigate).not.toHaveBeenCalled();
  });
  test('인증되지 않은 경우 로그인 화면으로 네비게이션되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: false
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      queryByText = _render2.queryByText;
    expect(mockNavigate).toHaveBeenCalledWith('Login');
    expect(queryByText('인증된 컴포넌트')).toBeNull();
  });
  test('HOC가 displayName을 올바르게 설정해야 함', function () {
    expect(AuthenticatedComponent.displayName).toBe('withAuth(TestComponent)');
  });
  test('isAuthenticated 상태가 변경될 때 컴포넌트가 적절하게 리렌더링되어야 함', function () {
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: false
      }
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(AuthenticatedComponent, {})),
      queryByText = _render3.queryByText,
      rerender = _render3.rerender;
    expect(queryByText('인증된 컴포넌트')).toBeNull();
    expect(mockNavigate).toHaveBeenCalledWith('Login');
    _store.useStore.mockReturnValue({
      state: {
        isAuthenticated: true
      }
    });
    rerender((0, _jsxRuntime.jsx)(AuthenticatedComponent, {}));
    expect(queryByText('인증된 컴포넌트')).toBeTruthy();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwiamVzdCIsImZuIiwidXNlU3RvcmUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl93aXRoQXV0aCIsIl9uYXRpdmUiLCJfc3RvcmUiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiTW9ja1RleHQiLCJfcmVmIiwiY2hpbGRyZW4iLCJqc3giLCJkZXNjcmliZSIsIlRlc3RDb21wb25lbnQiLCJBdXRoZW50aWNhdGVkQ29tcG9uZW50Iiwid2l0aEF1dGgiLCJtb2NrTmF2aWdhdGUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsIm5hdmlnYXRlIiwidGVzdCIsInN0YXRlIiwiaXNBdXRoZW50aWNhdGVkIiwiX3JlbmRlciIsInJlbmRlciIsImdldEJ5VGV4dCIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJub3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiX3JlbmRlcjIiLCJxdWVyeUJ5VGV4dCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidG9CZU51bGwiLCJkaXNwbGF5TmFtZSIsInRvQmUiLCJfcmVuZGVyMyIsInJlcmVuZGVyIl0sInNvdXJjZXMiOlsid2l0aEF1dGgudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyB3aXRoQXV0aCB9IGZyb20gJy4uLy4uL3NyYy9ob2Mvd2l0aEF1dGgnO1xyXG5pbXBvcnQgeyB1c2VOYXZpZ2F0aW9uIH0gZnJvbSAnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJztcclxuaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICcuLi8uLi9zcmMvc3RvcmUnO1xyXG5cclxuLy8gdXNlTmF2aWdhdGlvbiDrqqjtgrlcclxuamVzdC5tb2NrKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnLCAoKSA9PiAoe1xyXG4gIHVzZU5hdmlnYXRpb246IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuLy8gdXNlU3RvcmUg66qo7YK5XHJcbmplc3QubW9jaygnLi4vLi4vc3JjL3N0b3JlJywgKCkgPT4gKHtcclxuICB1c2VTdG9yZTogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG4vLyDqsITri6jtlZwg7YWM7Iqk7Yq4IOy7tO2PrOuEjO2KuCDsg53shLEgKFRleHQg7Lu07Y+s64SM7Yq4IOuqqO2CuSDrjIDsi6ApXHJcbmNvbnN0IE1vY2tUZXh0ID0gKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+IChcclxuICA8ZGl2PntjaGlsZHJlbn08L2Rpdj5cclxuKTtcclxuXHJcbmRlc2NyaWJlKCd3aXRoQXV0aCBIT0MnLCAoKSA9PiB7XHJcbiAgLy8g7YWM7Iqk7Yq4IOy7tO2PrOuEjO2KuFxyXG4gIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiA8TW9ja1RleHQ+7J247Kad65CcIOy7tO2PrOuEjO2KuDwvTW9ja1RleHQ+O1xyXG4gIGNvbnN0IEF1dGhlbnRpY2F0ZWRDb21wb25lbnQgPSB3aXRoQXV0aChUZXN0Q29tcG9uZW50KTtcclxuICBcclxuICBjb25zdCBtb2NrTmF2aWdhdGUgPSBqZXN0LmZuKCk7XHJcbiAgXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgICh1c2VOYXZpZ2F0aW9uIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgbmF2aWdhdGU6IG1vY2tOYXZpZ2F0ZSxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCfsnbjspp3rkJwg6rK97JqwIOy7tO2PrOuEjO2KuOqwgCDroIzrjZTrp4HrkJjslrTslbwg7ZWoJywgKCkgPT4ge1xyXG4gICAgLy8g7J247Kad65CcIOyDge2DnOuhnCDrqqjtgrlcclxuICAgICh1c2VTdG9yZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcig8QXV0aGVudGljYXRlZENvbXBvbmVudCAvPik7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfsnbjspp3rkJwg7Lu07Y+s64SM7Yq4JykpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ+yduOymneuQmOyngCDslYrsnYAg6rK97JqwIOuhnOq3uOyduCDtmZTrqbTsnLzroZwg64Sk67mE6rKM7J207IWY65CY7Ja07JW8IO2VqCcsICgpID0+IHtcclxuICAgIC8vIOyduOymneuQmOyngCDslYrsnYAg7IOB7YOc66GcIOuqqO2CuVxyXG4gICAgKHVzZVN0b3JlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgc3RhdGU6IHsgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyKDxBdXRoZW50aWNhdGVkQ29tcG9uZW50IC8+KTtcclxuICAgIFxyXG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0xvZ2luJyk7XHJcbiAgICBleHBlY3QocXVlcnlCeVRleHQoJ+yduOymneuQnCDsu7Ttj6zrhIztirgnKSkudG9CZU51bGwoKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnSE9D6rCAIGRpc3BsYXlOYW1l7J2EIOyYrOuwlOultOqyjCDshKTsoJXtlbTslbwg7ZWoJywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KEF1dGhlbnRpY2F0ZWRDb21wb25lbnQuZGlzcGxheU5hbWUpLnRvQmUoJ3dpdGhBdXRoKFRlc3RDb21wb25lbnQpJyk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ2lzQXV0aGVudGljYXRlZCDsg4Htg5zqsIAg67OA6rK965CgIOuVjCDsu7Ttj6zrhIztirjqsIAg7KCB7KCI7ZWY6rKMIOumrOugjOuNlOungeuQmOyWtOyVvCDtlagnLCAoKSA9PiB7XHJcbiAgICAvLyDsspjsnYzsl5DripQg7J247Kad65CY7KeAIOyViuydgCDsg4Htg5xcclxuICAgICh1c2VTdG9yZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHN0YXRlOiB7IGlzQXV0aGVudGljYXRlZDogZmFsc2UgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgcXVlcnlCeVRleHQsIHJlcmVuZGVyIH0gPSByZW5kZXIoPEF1dGhlbnRpY2F0ZWRDb21wb25lbnQgLz4pO1xyXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KCfsnbjspp3rkJwg7Lu07Y+s64SM7Yq4JykpLnRvQmVOdWxsKCk7XHJcbiAgICBleHBlY3QobW9ja05hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnTG9naW4nKTtcclxuXHJcbiAgICAvLyDsnbjspp3rkJwg7IOB7YOc66GcIOuzgOqyvVxyXG4gICAgKHVzZVN0b3JlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgc3RhdGU6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXJlbmRlcig8QXV0aGVudGljYXRlZENvbXBvbmVudCAvPik7XHJcbiAgICBleHBlY3QocXVlcnlCeVRleHQoJ+yduOymneuQnCDsu7Ttj6zrhIztirgnKSkudG9CZVRydXRoeSgpO1xyXG4gIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiJBQU9BQSxXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsRUFBRTtFQUFBLE9BQU87SUFDM0NDLGFBQWEsRUFBRUMsSUFB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