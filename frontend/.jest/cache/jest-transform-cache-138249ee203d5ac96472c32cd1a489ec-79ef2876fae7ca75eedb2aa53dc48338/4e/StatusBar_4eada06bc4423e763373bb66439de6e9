d631eba2d60d7467afebbd0ef7e39490
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _processColor = _interopRequireDefault(require("../../StyleSheet/processColor"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _NativeStatusBarManagerAndroid = _interopRequireDefault(require("./NativeStatusBarManagerAndroid"));
var _NativeStatusBarManagerIOS = _interopRequireDefault(require("./NativeStatusBarManagerIOS"));
var _invariant = _interopRequireDefault(require("invariant"));
var React = _interopRequireWildcard(require("react"));
var _StatusBar, _NativeStatusBarManag;
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function mergePropsStack(propsStack, defaultValues) {
  return propsStack.reduce(function (prev, cur) {
    for (var prop in cur) {
      if (cur[prop] != null) {
        prev[prop] = cur[prop];
      }
    }
    return prev;
  }, Object.assign({}, defaultValues));
}
function createStackEntry(props) {
  var _props$animated, _props$showHideTransi;
  var animated = (_props$animated = props.animated) != null ? _props$animated : false;
  var showHideTransition = (_props$showHideTransi = props.showHideTransition) != null ? _props$showHideTransi : 'fade';
  return {
    backgroundColor: props.backgroundColor != null ? {
      value: props.backgroundColor,
      animated: animated
    } : null,
    barStyle: props.barStyle != null ? {
      value: props.barStyle,
      animated: animated
    } : null,
    translucent: props.translucent,
    hidden: props.hidden != null ? {
      value: props.hidden,
      animated: animated,
      transition: showHideTransition
    } : null,
    networkActivityIndicatorVisible: props.networkActivityIndicatorVisible
  };
}
var StatusBar = function (_React$Component) {
  function StatusBar() {
    var _this;
    (0, _classCallCheck2.default)(this, StatusBar);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _callSuper(this, StatusBar, [].concat(args));
    _this._stackEntry = null;
    return _this;
  }
  (0, _inherits2.default)(StatusBar, _React$Component);
  return (0, _createClass2.default)(StatusBar, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this._stackEntry = StatusBar.pushStackEntry(this.props);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      StatusBar.popStackEntry(this._stackEntry);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._stackEntry = StatusBar.replaceStackEntry(this._stackEntry, this.props);
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }], [{
    key: "setHidden",
    value: function setHidden(hidden, animation) {
      animation = animation || 'none';
      StatusBar._defaultProps.hidden.value = hidden;
      if (_Platform.default.OS === 'ios') {
        _NativeStatusBarManagerIOS.default.setHidden(hidden, animation);
      } else if (_Platform.default.OS === 'android') {
        _NativeStatusBarManagerAndroid.default.setHidden(hidden);
      }
    }
  }, {
    key: "setBarStyle",
    value: function setBarStyle(style, animated) {
      animated = animated || false;
      StatusBar._defaultProps.barStyle.value = style;
      if (_Platform.default.OS === 'ios') {
        _NativeStatusBarManagerIOS.default.setStyle(style, animated);
      } else if (_Platform.default.OS === 'android') {
        _NativeStatusBarManagerAndroid.default.setStyle(style);
      }
    }
  }, {
    key: "setNetworkActivityIndicatorVisible",
    value: function setNetworkActivityIndicatorVisible(visible) {
      if (_Platform.default.OS !== 'ios') {
        console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS');
        return;
      }
      StatusBar._defaultProps.networkActivityIndicatorVisible = visible;
      _NativeStatusBarManagerIOS.default.setNetworkActivityIndicatorVisible(visible);
    }
  }, {
    key: "setBackgroundColor",
    value: function setBackgroundColor(color, animated) {
      if (_Platform.default.OS !== 'android') {
        console.warn('`setBackgroundColor` is only available on Android');
        return;
      }
      animated = animated || false;
      StatusBar._defaultProps.backgroundColor.value = color;
      var processedColor = (0, _processColor.default)(color);
      if (processedColor == null) {
        console.warn(`\`StatusBar.setBackgroundColor\`: Color ${color} parsed to null or undefined`);
        return;
      }
      (0, _invariant.default)(typeof processedColor === 'number', 'Unexpected color given for StatusBar.setBackgroundColor');
      _NativeStatusBarManagerAndroid.default.setColor(processedColor, animated);
    }
  }, {
    key: "setTranslucent",
    value: function setTranslucent(translucent) {
      if (_Platform.default.OS !== 'android') {
        console.warn('`setTranslucent` is only available on Android');
        return;
      }
      StatusBar._defaultProps.translucent = translucent;
      _NativeStatusBarManagerAndroid.default.setTranslucent(translucent);
    }
  }, {
    key: "pushStackEntry",
    value: function pushStackEntry(props) {
      var entry = createStackEntry(props);
      StatusBar._propsStack.push(entry);
      StatusBar._updatePropsStack();
      return entry;
    }
  }, {
    key: "popStackEntry",
    value: function popStackEntry(entry) {
      var index = StatusBar._propsStack.indexOf(entry);
      if (index !== -1) {
        StatusBar._propsStack.splice(index, 1);
      }
      StatusBar._updatePropsStack();
    }
  }, {
    key: "replaceStackEntry",
    value: function replaceStackEntry(entry, props) {
      var newEntry = createStackEntry(props);
      var index = StatusBar._propsStack.indexOf(entry);
      if (index !== -1) {
        StatusBar._propsStack[index] = newEntry;
      }
      StatusBar._updatePropsStack();
      return newEntry;
    }
  }]);
}(React.Component);
_StatusBar = StatusBar;
StatusBar._propsStack = [];
StatusBar._defaultProps = createStackEntry({
  backgroundColor: _Platform.default.OS === 'android' ? (_NativeStatusBarManag = _NativeStatusBarManagerAndroid.default.getConstants().DEFAULT_BACKGROUND_COLOR) != null ? _NativeStatusBarManag : 'black' : 'black',
  barStyle: 'default',
  translucent: false,
  hidden: false,
  networkActivityIndicatorVisible: false
});
StatusBar._updateImmediate = null;
StatusBar._currentValues = null;
StatusBar.currentHeight = _Platform.default.OS === 'android' ? _NativeStatusBarManagerAndroid.default.getConstants().HEIGHT : null;
StatusBar._updatePropsStack = function () {
  clearImmediate(_StatusBar._updateImmediate);
  _StatusBar._updateImmediate = setImmediate(function () {
    var oldProps = _StatusBar._currentValues;
    var mergedProps = mergePropsStack(_StatusBar._propsStack, _StatusBar._defaultProps);
    if (_Platform.default.OS === 'ios') {
      if (!oldProps || oldProps.barStyle.value !== mergedProps.barStyle.value) {
        _NativeStatusBarManagerIOS.default.setStyle(mergedProps.barStyle.value, mergedProps.barStyle.animated || false);
      }
      if (!oldProps || oldProps.hidden.value !== mergedProps.hidden.value) {
        _NativeStatusBarManagerIOS.default.setHidden(mergedProps.hidden.value, mergedProps.hidden.animated ? mergedProps.hidden.transition : 'none');
      }
      if (!oldProps || oldProps.networkActivityIndicatorVisible !== mergedProps.networkActivityIndicatorVisible) {
        _NativeStatusBarManagerIOS.default.setNetworkActivityIndicatorVisible(mergedProps.networkActivityIndicatorVisible);
      }
    } else if (_Platform.default.OS === 'android') {
      _NativeStatusBarManagerAndroid.default.setStyle(mergedProps.barStyle.value);
      var processedColor = (0, _processColor.default)(mergedProps.backgroundColor.value);
      if (processedColor == null) {
        console.warn(`\`StatusBar._updatePropsStack\`: Color ${mergedProps.backgroundColor.value} parsed to null or undefined`);
      } else {
        (0, _invariant.default)(typeof processedColor === 'number', 'Unexpected color given in StatusBar._updatePropsStack');
        _NativeStatusBarManagerAndroid.default.setColor(processedColor, mergedProps.backgroundColor.animated);
      }
      if (!oldProps || oldProps.hidden.value !== mergedProps.hidden.value) {
        _NativeStatusBarManagerAndroid.default.setHidden(mergedProps.hidden.value);
      }
      if (!oldProps || oldProps.translucent !== mergedProps.translucent || mergedProps.translucent) {
        _NativeStatusBarManagerAndroid.default.setTranslucent(mergedProps.translucent);
      }
    }
    _StatusBar._currentValues = mergedProps;
  });
};
module.exports = StatusBar;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvY2Vzc0NvbG9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfUGxhdGZvcm0iLCJfTmF0aXZlU3RhdHVzQmFyTWFuYWdlckFuZHJvaWQiLCJfTmF0aXZlU3RhdHVzQmFyTWFuYWdlcklPUyIsIl9pbnZhcmlhbnQiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1N0YXR1c0JhciIsIl9OYXRpdmVTdGF0dXNCYXJNYW5hZyIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIl9jYWxsU3VwZXIiLCJvIiwiX2dldFByb3RvdHlwZU9mMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJhcHBseSIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJ2YWx1ZU9mIiwibWVyZ2VQcm9wc1N0YWNrIiwicHJvcHNTdGFjayIsImRlZmF1bHRWYWx1ZXMiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyIiwicHJvcCIsImFzc2lnbiIsImNyZWF0ZVN0YWNrRW50cnkiLCJwcm9wcyIsIl9wcm9wcyRhbmltYXRlZCIsIl9wcm9wcyRzaG93SGlkZVRyYW5zaSIsImFuaW1hdGVkIiwic2hvd0hpZGVUcmFuc2l0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwidmFsdWUiLCJiYXJTdHlsZSIsInRyYW5zbHVjZW50IiwiaGlkZGVuIiwidHJhbnNpdGlvbiIsIm5ldHdvcmtBY3Rpdml0eUluZGljYXRvclZpc2libGUiLCJTdGF0dXNCYXIiLCJfUmVhY3QkQ29tcG9uZW50IiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjb25jYXQiLCJfc3RhY2tFbnRyeSIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwiY29tcG9uZW50RGlkTW91bnQiLCJwdXNoU3RhY2tFbnRyeSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicG9wU3RhY2tFbnRyeSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInJlcGxhY2VTdGFja0VudHJ5IiwicmVuZGVyIiwic2V0SGlkZGVuIiwiYW5pbWF0aW9uIiwiX2RlZmF1bHRQcm9wcyIsIlBsYXRmb3JtIiwiT1MiLCJOYXRpdmVTdGF0dXNCYXJNYW5hZ2VySU9TIiwiTmF0aXZlU3RhdHVzQmFyTWFuYWdlckFuZHJvaWQiLCJzZXRCYXJTdHlsZSIsInN0eWxlIiwic2V0U3R5bGUiLCJzZXROZXR3b3JrQWN0aXZpdHlJbmRpY2F0b3JWaXNpYmxlIiwidmlzaWJsZSIsImNvbnNvbGUiLCJ3YXJuIiwic2V0QmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJwcm9jZXNzZWRDb2xvciIsInByb2Nlc3NDb2xvciIsImludmFyaWFudCIsInNldENvbG9yIiwic2V0VHJhbnNsdWNlbnQiLCJlbnRyeSIsIl9wcm9wc1N0YWNrIiwicHVzaCIsIl91cGRhdGVQcm9wc1N0YWNrIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwibmV3RW50cnkiLCJDb21wb25lbnQiLCJnZXRDb25zdGFudHMiLCJERUZBVUxUX0JBQ0tHUk9VTkRfQ09MT1IiLCJfdXBkYXRlSW1tZWRpYXRlIiwiX2N1cnJlbnRWYWx1ZXMiLCJjdXJyZW50SGVpZ2h0IiwiSEVJR0hUIiwiY2xlYXJJbW1lZGlhdGUiLCJzZXRJbW1lZGlhdGUiLCJvbGRQcm9wcyIsIm1lcmdlZFByb3BzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlN0YXR1c0Jhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG5pbXBvcnQgdHlwZSB7Q29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcblxuaW1wb3J0IHByb2Nlc3NDb2xvciBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L3Byb2Nlc3NDb2xvcic7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSAnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJztcbmltcG9ydCBOYXRpdmVTdGF0dXNCYXJNYW5hZ2VyQW5kcm9pZCBmcm9tICcuL05hdGl2ZVN0YXR1c0Jhck1hbmFnZXJBbmRyb2lkJztcbmltcG9ydCBOYXRpdmVTdGF0dXNCYXJNYW5hZ2VySU9TIGZyb20gJy4vTmF0aXZlU3RhdHVzQmFyTWFuYWdlcklPUyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogU3RhdHVzIGJhciBzdHlsZVxuICovXG5leHBvcnQgdHlwZSBTdGF0dXNCYXJTdHlsZSA9ICRLZXlzPHtcbiAgLyoqXG4gICAqIERlZmF1bHQgc3RhdHVzIGJhciBzdHlsZSAoZGFyayBmb3IgaU9TLCBsaWdodCBmb3IgQW5kcm9pZClcbiAgICovXG4gIGRlZmF1bHQ6IHN0cmluZyxcbiAgLyoqXG4gICAqIERhcmsgYmFja2dyb3VuZCwgd2hpdGUgdGV4dHMgYW5kIGljb25zXG4gICAqL1xuICAnbGlnaHQtY29udGVudCc6IHN0cmluZyxcbiAgLyoqXG4gICAqIExpZ2h0IGJhY2tncm91bmQsIGRhcmsgdGV4dHMgYW5kIGljb25zXG4gICAqL1xuICAnZGFyay1jb250ZW50Jzogc3RyaW5nLFxuICAuLi5cbn0+O1xuXG4vKipcbiAqIFN0YXR1cyBiYXIgYW5pbWF0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIFN0YXR1c0JhckFuaW1hdGlvbiA9ICRLZXlzPHtcbiAgLyoqXG4gICAqIE5vIGFuaW1hdGlvblxuICAgKi9cbiAgbm9uZTogc3RyaW5nLFxuICAvKipcbiAgICogRmFkZSBhbmltYXRpb25cbiAgICovXG4gIGZhZGU6IHN0cmluZyxcbiAgLyoqXG4gICAqIFNsaWRlIGFuaW1hdGlvblxuICAgKi9cbiAgc2xpZGU6IHN0cmluZyxcbiAgLi4uXG59PjtcblxudHlwZSBBbmRyb2lkUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSBzdGF0dXMgYmFyLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgYmFja2dyb3VuZENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBJZiB0aGUgc3RhdHVzIGJhciBpcyB0cmFuc2x1Y2VudC5cbiAgICogV2hlbiB0cmFuc2x1Y2VudCBpcyBzZXQgdG8gdHJ1ZSwgdGhlIGFwcCB3aWxsIGRyYXcgdW5kZXIgdGhlIHN0YXR1cyBiYXIuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgYSBzZW1pIHRyYW5zcGFyZW50IHN0YXR1cyBiYXIgY29sb3IuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICB0cmFuc2x1Y2VudD86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIElPU1Byb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBJZiB0aGUgbmV0d29yayBhY3Rpdml0eSBpbmRpY2F0b3Igc2hvdWxkIGJlIHZpc2libGUuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG5ldHdvcmtBY3Rpdml0eUluZGljYXRvclZpc2libGU/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSB0cmFuc2l0aW9uIGVmZmVjdCB3aGVuIHNob3dpbmcgYW5kIGhpZGluZyB0aGUgc3RhdHVzIGJhciB1c2luZyB0aGUgYGhpZGRlbmBcbiAgICogcHJvcC4gRGVmYXVsdHMgdG8gJ2ZhZGUnLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzaG93SGlkZVRyYW5zaXRpb24/OiA/KCdmYWRlJyB8ICdzbGlkZScgfCAnbm9uZScpLFxufH0+O1xuXG50eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLkFuZHJvaWRQcm9wcyxcbiAgLi4uSU9TUHJvcHMsXG4gIC8qKlxuICAgKiBJZiB0aGUgc3RhdHVzIGJhciBpcyBoaWRkZW4uXG4gICAqL1xuICBoaWRkZW4/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIElmIHRoZSB0cmFuc2l0aW9uIGJldHdlZW4gc3RhdHVzIGJhciBwcm9wZXJ0eSBjaGFuZ2VzIHNob3VsZCBiZSBhbmltYXRlZC5cbiAgICogU3VwcG9ydGVkIGZvciBiYWNrZ3JvdW5kQ29sb3IsIGJhclN0eWxlIGFuZCBoaWRkZW4uXG4gICAqL1xuICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogU2V0cyB0aGUgY29sb3Igb2YgdGhlIHN0YXR1cyBiYXIgdGV4dC5cbiAgICovXG4gIGJhclN0eWxlPzogPygnZGVmYXVsdCcgfCAnbGlnaHQtY29udGVudCcgfCAnZGFyay1jb250ZW50JyksXG58fT47XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBwcm9wIHN0YWNrIHdpdGggdGhlIGRlZmF1bHQgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBtZXJnZVByb3BzU3RhY2soXG4gIHByb3BzU3RhY2s6IEFycmF5PE9iamVjdD4sXG4gIGRlZmF1bHRWYWx1ZXM6IE9iamVjdCxcbik6IE9iamVjdCB7XG4gIHJldHVybiBwcm9wc1N0YWNrLnJlZHVjZShcbiAgICAocHJldiwgY3VyKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gY3VyKSB7XG4gICAgICAgIGlmIChjdXJbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgIHByZXZbcHJvcF0gPSBjdXJbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sXG4gICAgey4uLmRlZmF1bHRWYWx1ZXN9LFxuICApO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRvIGluc2VydCBpbiB0aGUgcHJvcHMgc3RhY2sgZnJvbSB0aGUgcHJvcHNcbiAqIGFuZCB0aGUgdHJhbnNpdGlvbi9hbmltYXRpb24gaW5mby5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RhY2tFbnRyeShwcm9wczogYW55KTogYW55IHtcbiAgY29uc3QgYW5pbWF0ZWQgPSBwcm9wcy5hbmltYXRlZCA/PyBmYWxzZTtcbiAgY29uc3Qgc2hvd0hpZGVUcmFuc2l0aW9uID0gcHJvcHMuc2hvd0hpZGVUcmFuc2l0aW9uID8/ICdmYWRlJztcbiAgcmV0dXJuIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6XG4gICAgICBwcm9wcy5iYWNrZ3JvdW5kQ29sb3IgIT0gbnVsbFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHZhbHVlOiBwcm9wcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBhbmltYXRlZCxcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbCxcbiAgICBiYXJTdHlsZTpcbiAgICAgIHByb3BzLmJhclN0eWxlICE9IG51bGxcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB2YWx1ZTogcHJvcHMuYmFyU3R5bGUsXG4gICAgICAgICAgICBhbmltYXRlZCxcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbCxcbiAgICB0cmFuc2x1Y2VudDogcHJvcHMudHJhbnNsdWNlbnQsXG4gICAgaGlkZGVuOlxuICAgICAgcHJvcHMuaGlkZGVuICE9IG51bGxcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB2YWx1ZTogcHJvcHMuaGlkZGVuLFxuICAgICAgICAgICAgYW5pbWF0ZWQsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBzaG93SGlkZVRyYW5zaXRpb24sXG4gICAgICAgICAgfVxuICAgICAgICA6IG51bGwsXG4gICAgbmV0d29ya0FjdGl2aXR5SW5kaWNhdG9yVmlzaWJsZTogcHJvcHMubmV0d29ya0FjdGl2aXR5SW5kaWNhdG9yVmlzaWJsZSxcbiAgfTtcbn1cblxuLyoqXG4gKiBDb21wb25lbnQgdG8gY29udHJvbCB0aGUgYXBwIHN0YXR1cyBiYXIuXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gaGF2ZSBtdWx0aXBsZSBgU3RhdHVzQmFyYCBjb21wb25lbnRzIG1vdW50ZWQgYXQgdGhlIHNhbWVcbiAqIHRpbWUuIFRoZSBwcm9wcyB3aWxsIGJlIG1lcmdlZCBpbiB0aGUgb3JkZXIgdGhlIGBTdGF0dXNCYXJgIGNvbXBvbmVudHMgd2VyZVxuICogbW91bnRlZC5cbiAqXG4gKiAjIyMgSW1wZXJhdGl2ZSBBUElcbiAqXG4gKiBGb3IgY2FzZXMgd2hlcmUgdXNpbmcgYSBjb21wb25lbnQgaXMgbm90IGlkZWFsLCB0aGVyZSBhcmUgc3RhdGljIG1ldGhvZHNcbiAqIHRvIG1hbmlwdWxhdGUgdGhlIGBTdGF0dXNCYXJgIGRpc3BsYXkgc3RhY2suIFRoZXNlIG1ldGhvZHMgaGF2ZSB0aGUgc2FtZVxuICogYmVoYXZpb3IgYXMgbW91bnRpbmcgYW5kIHVubW91bnRpbmcgYSBgU3RhdHVzQmFyYCBjb21wb25lbnQuXG4gKlxuICogRm9yIGV4YW1wbGUsIHlvdSBjYW4gY2FsbCBgU3RhdHVzQmFyLnB1c2hTdGFja0VudHJ5YCB0byB1cGRhdGUgdGhlIHN0YXR1cyBiYXJcbiAqIGJlZm9yZSBsYXVuY2hpbmcgYSB0aGlyZC1wYXJ0eSBuYXRpdmUgVUkgY29tcG9uZW50LCBhbmQgdGhlbiBjYWxsXG4gKiBgU3RhdHVzQmFyLnBvcFN0YWNrRW50cnlgIHdoZW4gY29tcGxldGVkLlxuICpcbiAqIGBgYFxuICogY29uc3Qgb3BlblRoaXJkUGFydHlCdWdSZXBvcnRlciA9IGFzeW5jICgpID0+IHtcbiAqICAgLy8gVGhlIGJ1ZyByZXBvcnRlciBoYXMgYSBkYXJrIGJhY2tncm91bmQsIHNvIHdlIHB1c2ggYSBuZXcgc3RhdHVzIGJhciBzdHlsZS5cbiAqICAgY29uc3Qgc3RhY2tFbnRyeSA9IFN0YXR1c0Jhci5wdXNoU3RhY2tFbnRyeSh7YmFyU3R5bGU6ICdsaWdodC1jb250ZW50J30pO1xuICpcbiAqICAgLy8gYG9wZW5gIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgVUkgaXMgZGlzbWlzc2VkLlxuICogICBhd2FpdCBCdWdSZXBvcnRlci5vcGVuKCk7XG4gKlxuICogICAvLyBEb24ndCBmb3JnZXQgdG8gY2FsbCBgcG9wU3RhY2tFbnRyeWAgd2hlbiB5b3UncmUgZG9uZS5cbiAqICAgU3RhdHVzQmFyLnBvcFN0YWNrRW50cnkoc3RhY2tFbnRyeSk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogVGhlcmUgaXMgYSBsZWdhY3kgaW1wZXJhdGl2ZSBBUEkgdGhhdCBlbmFibGVzIHlvdSB0byBtYW51YWxseSB1cGRhdGUgdGhlXG4gKiBzdGF0dXMgYmFyIHN0eWxlcy4gSG93ZXZlciwgdGhlIGxlZ2FjeSBBUEkgZG9lcyBub3QgdXBkYXRlIHRoZSBpbnRlcm5hbFxuICogYFN0YXR1c0JhcmAgZGlzcGxheSBzdGFjaywgd2hpY2ggbWVhbnMgdGhhdCBhbnkgY2hhbmdlcyB3aWxsIGJlIG92ZXJyaWRkZW5cbiAqIHdoZW5ldmVyIGEgYFN0YXR1c0JhcmAgY29tcG9uZW50IGlzIG1vdW50ZWQgb3IgdW5tb3VudGVkLlxuICpcbiAqIEl0IGlzIHN0cm9uZ2x5IGFkdmlzZWQgdGhhdCB5b3UgdXNlIGBwdXNoU3RhY2tFbnRyeWAsIGBwb3BTdGFja0VudHJ5YCwgb3JcbiAqIGByZXBsYWNlU3RhY2tFbnRyeWAgaW5zdGVhZCBvZiB0aGUgc3RhdGljIG1ldGhvZHMgYmVnaW5uaW5nIHdpdGggYHNldGAuXG4gKlxuICogIyMjIENvbnN0YW50c1xuICpcbiAqIGBjdXJyZW50SGVpZ2h0YCAoQW5kcm9pZCBvbmx5KSBUaGUgaGVpZ2h0IG9mIHRoZSBzdGF0dXMgYmFyLlxuICovXG5jbGFzcyBTdGF0dXNCYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHM+IHtcbiAgc3RhdGljIF9wcm9wc1N0YWNrOiBBcnJheTxhbnk+ID0gW107XG5cbiAgc3RhdGljIF9kZWZhdWx0UHJvcHM6IGFueSA9IGNyZWF0ZVN0YWNrRW50cnkoe1xuICAgIGJhY2tncm91bmRDb2xvcjpcbiAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICAgICAgPyBOYXRpdmVTdGF0dXNCYXJNYW5hZ2VyQW5kcm9pZC5nZXRDb25zdGFudHMoKVxuICAgICAgICAgICAgLkRFRkFVTFRfQkFDS0dST1VORF9DT0xPUiA/PyAnYmxhY2snXG4gICAgICAgIDogJ2JsYWNrJyxcbiAgICBiYXJTdHlsZTogJ2RlZmF1bHQnLFxuICAgIHRyYW5zbHVjZW50OiBmYWxzZSxcbiAgICBoaWRkZW46IGZhbHNlLFxuICAgIG5ldHdvcmtBY3Rpdml0eUluZGljYXRvclZpc2libGU6IGZhbHNlLFxuICB9KTtcblxuICAvLyBUaW1lciBmb3IgdXBkYXRpbmcgdGhlIG5hdGl2ZSBtb2R1bGUgdmFsdWVzIGF0IHRoZSBlbmQgb2YgdGhlIGZyYW1lLlxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIHN0YXRpYyBfdXBkYXRlSW1tZWRpYXRlID0gbnVsbDtcblxuICAvLyBUaGUgY3VycmVudCBtZXJnZWQgdmFsdWVzIGZyb20gdGhlIHByb3BzIHN0YWNrLlxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIHN0YXRpYyBfY3VycmVudFZhbHVlcyA9IG51bGw7XG5cbiAgLy8gVE9ETyhqYW5pYyk6IFByb3ZpZGUgYSByZWFsIEFQSSB0byBkZWFsIHdpdGggc3RhdHVzIGJhciBoZWlnaHQuIFNlZSB0aGVcbiAgLy8gZGlzY3Vzc2lvbiBpbiAjNjE5NS5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IGhlaWdodCBvZiB0aGUgc3RhdHVzIGJhciBvbiB0aGUgZGV2aWNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc3RhdGljIGN1cnJlbnRIZWlnaHQ6ID9udW1iZXIgPVxuICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICAgID8gTmF0aXZlU3RhdHVzQmFyTWFuYWdlckFuZHJvaWQuZ2V0Q29uc3RhbnRzKCkuSEVJR0hUXG4gICAgICA6IG51bGw7XG5cbiAgLy8gUHJvdmlkZSBhbiBpbXBlcmF0aXZlIEFQSSBhcyBzdGF0aWMgZnVuY3Rpb25zIG9mIHRoZSBjb21wb25lbnQuXG4gIC8vIFNlZSB0aGUgY29ycmVzcG9uZGluZyBwcm9wIGZvciBtb3JlIGRldGFpbC5cblxuICAvKipcbiAgICogU2hvdyBvciBoaWRlIHRoZSBzdGF0dXMgYmFyXG4gICAqIEBwYXJhbSBoaWRkZW4gSGlkZSB0aGUgc3RhdHVzIGJhci5cbiAgICogQHBhcmFtIGFuaW1hdGlvbiBPcHRpb25hbCBhbmltYXRpb24gd2hlblxuICAgKiAgICBjaGFuZ2luZyB0aGUgc3RhdHVzIGJhciBoaWRkZW4gcHJvcGVydHkuXG4gICAqL1xuICBzdGF0aWMgc2V0SGlkZGVuKGhpZGRlbjogYm9vbGVhbiwgYW5pbWF0aW9uPzogU3RhdHVzQmFyQW5pbWF0aW9uKSB7XG4gICAgYW5pbWF0aW9uID0gYW5pbWF0aW9uIHx8ICdub25lJztcbiAgICBTdGF0dXNCYXIuX2RlZmF1bHRQcm9wcy5oaWRkZW4udmFsdWUgPSBoaWRkZW47XG4gICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgTmF0aXZlU3RhdHVzQmFyTWFuYWdlcklPUy5zZXRIaWRkZW4oaGlkZGVuLCBhbmltYXRpb24pO1xuICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgTmF0aXZlU3RhdHVzQmFyTWFuYWdlckFuZHJvaWQuc2V0SGlkZGVuKGhpZGRlbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RhdHVzIGJhciBzdHlsZVxuICAgKiBAcGFyYW0gc3R5bGUgU3RhdHVzIGJhciBzdHlsZSB0byBzZXRcbiAgICogQHBhcmFtIGFuaW1hdGVkIEFuaW1hdGUgdGhlIHN0eWxlIGNoYW5nZS5cbiAgICovXG4gIHN0YXRpYyBzZXRCYXJTdHlsZShzdHlsZTogU3RhdHVzQmFyU3R5bGUsIGFuaW1hdGVkPzogYm9vbGVhbikge1xuICAgIGFuaW1hdGVkID0gYW5pbWF0ZWQgfHwgZmFsc2U7XG4gICAgU3RhdHVzQmFyLl9kZWZhdWx0UHJvcHMuYmFyU3R5bGUudmFsdWUgPSBzdHlsZTtcbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICBOYXRpdmVTdGF0dXNCYXJNYW5hZ2VySU9TLnNldFN0eWxlKHN0eWxlLCBhbmltYXRlZCk7XG4gICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBOYXRpdmVTdGF0dXNCYXJNYW5hZ2VyQW5kcm9pZC5zZXRTdHlsZShzdHlsZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERFUFJFQ0FURUQgLSBUaGUgc3RhdHVzIGJhciBuZXR3b3JrIGFjdGl2aXR5IGluZGljYXRvciBpcyBub3Qgc3VwcG9ydGVkIGluIGlPUyAxMyBhbmQgbGF0ZXIuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UuXG4gICAqIEBwYXJhbSB2aXNpYmxlIFNob3cgdGhlIGluZGljYXRvci5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIHN0YXRpYyBzZXROZXR3b3JrQWN0aXZpdHlJbmRpY2F0b3JWaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pIHtcbiAgICBpZiAoUGxhdGZvcm0uT1MgIT09ICdpb3MnKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2V0TmV0d29ya0FjdGl2aXR5SW5kaWNhdG9yVmlzaWJsZWAgaXMgb25seSBhdmFpbGFibGUgb24gaU9TJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFN0YXR1c0Jhci5fZGVmYXVsdFByb3BzLm5ldHdvcmtBY3Rpdml0eUluZGljYXRvclZpc2libGUgPSB2aXNpYmxlO1xuICAgIE5hdGl2ZVN0YXR1c0Jhck1hbmFnZXJJT1Muc2V0TmV0d29ya0FjdGl2aXR5SW5kaWNhdG9yVmlzaWJsZSh2aXNpYmxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBzdGF0dXMgYmFyXG4gICAqIEBwYXJhbSBjb2xvciBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgKiBAcGFyYW0gYW5pbWF0ZWQgQW5pbWF0ZSB0aGUgc3R5bGUgY2hhbmdlLlxuICAgKi9cbiAgc3RhdGljIHNldEJhY2tncm91bmRDb2xvcihjb2xvcjogc3RyaW5nLCBhbmltYXRlZD86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoUGxhdGZvcm0uT1MgIT09ICdhbmRyb2lkJykge1xuICAgICAgY29uc29sZS53YXJuKCdgc2V0QmFja2dyb3VuZENvbG9yYCBpcyBvbmx5IGF2YWlsYWJsZSBvbiBBbmRyb2lkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFuaW1hdGVkID0gYW5pbWF0ZWQgfHwgZmFsc2U7XG4gICAgU3RhdHVzQmFyLl9kZWZhdWx0UHJvcHMuYmFja2dyb3VuZENvbG9yLnZhbHVlID0gY29sb3I7XG5cbiAgICBjb25zdCBwcm9jZXNzZWRDb2xvciA9IHByb2Nlc3NDb2xvcihjb2xvcik7XG4gICAgaWYgKHByb2Nlc3NlZENvbG9yID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFxcYFN0YXR1c0Jhci5zZXRCYWNrZ3JvdW5kQ29sb3JcXGA6IENvbG9yICR7Y29sb3J9IHBhcnNlZCB0byBudWxsIG9yIHVuZGVmaW5lZGAsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2YgcHJvY2Vzc2VkQ29sb3IgPT09ICdudW1iZXInLFxuICAgICAgJ1VuZXhwZWN0ZWQgY29sb3IgZ2l2ZW4gZm9yIFN0YXR1c0Jhci5zZXRCYWNrZ3JvdW5kQ29sb3InLFxuICAgICk7XG5cbiAgICBOYXRpdmVTdGF0dXNCYXJNYW5hZ2VyQW5kcm9pZC5zZXRDb2xvcihwcm9jZXNzZWRDb2xvciwgYW5pbWF0ZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2wgdGhlIHRyYW5zbHVjZW5jeSBvZiB0aGUgc3RhdHVzIGJhclxuICAgKiBAcGFyYW0gdHJhbnNsdWNlbnQgU2V0IGFzIHRyYW5zbHVjZW50LlxuICAgKi9cbiAgc3RhdGljIHNldFRyYW5zbHVjZW50KHRyYW5zbHVjZW50OiBib29sZWFuKSB7XG4gICAgaWYgKFBsYXRmb3JtLk9TICE9PSAnYW5kcm9pZCcpIHtcbiAgICAgIGNvbnNvbGUud2FybignYHNldFRyYW5zbHVjZW50YCBpcyBvbmx5IGF2YWlsYWJsZSBvbiBBbmRyb2lkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFN0YXR1c0Jhci5fZGVmYXVsdFByb3BzLnRyYW5zbHVjZW50ID0gdHJhbnNsdWNlbnQ7XG4gICAgTmF0aXZlU3RhdHVzQmFyTWFuYWdlckFuZHJvaWQuc2V0VHJhbnNsdWNlbnQodHJhbnNsdWNlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1c2ggYSBTdGF0dXNCYXIgZW50cnkgb250byB0aGUgc3RhY2suXG4gICAqIFRoZSByZXR1cm4gdmFsdWUgc2hvdWxkIGJlIHBhc3NlZCB0byBgcG9wU3RhY2tFbnRyeWAgd2hlbiBjb21wbGV0ZS5cbiAgICpcbiAgICogQHBhcmFtIHByb3BzIE9iamVjdCBjb250YWluaW5nIHRoZSBTdGF0dXNCYXIgcHJvcHMgdG8gdXNlIGluIHRoZSBzdGFjayBlbnRyeS5cbiAgICovXG4gIHN0YXRpYyBwdXNoU3RhY2tFbnRyeShwcm9wczogYW55KTogYW55IHtcbiAgICBjb25zdCBlbnRyeSA9IGNyZWF0ZVN0YWNrRW50cnkocHJvcHMpO1xuICAgIFN0YXR1c0Jhci5fcHJvcHNTdGFjay5wdXNoKGVudHJ5KTtcbiAgICBTdGF0dXNCYXIuX3VwZGF0ZVByb3BzU3RhY2soKTtcbiAgICByZXR1cm4gZW50cnk7XG4gIH1cblxuICAvKipcbiAgICogUG9wIGEgU3RhdHVzQmFyIGVudHJ5IGZyb20gdGhlIHN0YWNrLlxuICAgKlxuICAgKiBAcGFyYW0gZW50cnkgRW50cnkgcmV0dXJuZWQgZnJvbSBgcHVzaFN0YWNrRW50cnlgLlxuICAgKi9cbiAgc3RhdGljIHBvcFN0YWNrRW50cnkoZW50cnk6IGFueSkge1xuICAgIGNvbnN0IGluZGV4ID0gU3RhdHVzQmFyLl9wcm9wc1N0YWNrLmluZGV4T2YoZW50cnkpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIFN0YXR1c0Jhci5fcHJvcHNTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICBTdGF0dXNCYXIuX3VwZGF0ZVByb3BzU3RhY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlIGFuIGV4aXN0aW5nIFN0YXR1c0JhciBzdGFjayBlbnRyeSB3aXRoIG5ldyBwcm9wcy5cbiAgICpcbiAgICogQHBhcmFtIGVudHJ5IEVudHJ5IHJldHVybmVkIGZyb20gYHB1c2hTdGFja0VudHJ5YCB0byByZXBsYWNlLlxuICAgKiBAcGFyYW0gcHJvcHMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIFN0YXR1c0JhciBwcm9wcyB0byB1c2UgaW4gdGhlIHJlcGxhY2VtZW50IHN0YWNrIGVudHJ5LlxuICAgKi9cbiAgc3RhdGljIHJlcGxhY2VTdGFja0VudHJ5KGVudHJ5OiBhbnksIHByb3BzOiBhbnkpOiBhbnkge1xuICAgIGNvbnN0IG5ld0VudHJ5ID0gY3JlYXRlU3RhY2tFbnRyeShwcm9wcyk7XG4gICAgY29uc3QgaW5kZXggPSBTdGF0dXNCYXIuX3Byb3BzU3RhY2suaW5kZXhPZihlbnRyeSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgU3RhdHVzQmFyLl9wcm9wc1N0YWNrW2luZGV4XSA9IG5ld0VudHJ5O1xuICAgIH1cbiAgICBTdGF0dXNCYXIuX3VwZGF0ZVByb3BzU3RhY2soKTtcbiAgICByZXR1cm4gbmV3RW50cnk7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9zdGFja0VudHJ5ID0gbnVsbDtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyBFdmVyeSB0aW1lIGEgU3RhdHVzQmFyIGNvbXBvbmVudCBpcyBtb3VudGVkLCB3ZSBwdXNoIGl0J3MgcHJvcCB0byBhIHN0YWNrXG4gICAgLy8gYW5kIGFsd2F5cyB1cGRhdGUgdGhlIG5hdGl2ZSBzdGF0dXMgYmFyIHdpdGggdGhlIHByb3BzIGZyb20gdGhlIHRvcCBvZiB0aGVuXG4gICAgLy8gc3RhY2suIFRoaXMgYWxsb3dzIGhhdmluZyBtdWx0aXBsZSBTdGF0dXNCYXIgY29tcG9uZW50cyBhbmQgdGhlIG9uZSB0aGF0IGlzXG4gICAgLy8gYWRkZWQgbGFzdCBvciBpcyBkZWVwZXIgaW4gdGhlIHZpZXcgaGllcmFyY2h5IHdpbGwgaGF2ZSBwcmlvcml0eS5cbiAgICB0aGlzLl9zdGFja0VudHJ5ID0gU3RhdHVzQmFyLnB1c2hTdGFja0VudHJ5KHRoaXMucHJvcHMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgLy8gV2hlbiBhIFN0YXR1c0JhciBpcyB1bm1vdW50ZWQsIHJlbW92ZSBpdHNlbGYgZnJvbSB0aGUgc3RhY2sgYW5kIHVwZGF0ZVxuICAgIC8vIHRoZSBuYXRpdmUgYmFyIHdpdGggdGhlIG5leHQgcHJvcHMuXG4gICAgU3RhdHVzQmFyLnBvcFN0YWNrRW50cnkodGhpcy5fc3RhY2tFbnRyeSk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5fc3RhY2tFbnRyeSA9IFN0YXR1c0Jhci5yZXBsYWNlU3RhY2tFbnRyeShcbiAgICAgIHRoaXMuX3N0YWNrRW50cnksXG4gICAgICB0aGlzLnByb3BzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgbmF0aXZlIHN0YXR1cyBiYXIgd2l0aCB0aGUgcHJvcHMgZnJvbSB0aGUgc3RhY2suXG4gICAqL1xuICBzdGF0aWMgX3VwZGF0ZVByb3BzU3RhY2sgPSAoKSA9PiB7XG4gICAgLy8gU2VuZCB0aGUgdXBkYXRlIHRvIHRoZSBuYXRpdmUgbW9kdWxlIG9ubHkgb25jZSBhdCB0aGUgZW5kIG9mIHRoZSBmcmFtZS5cbiAgICBjbGVhckltbWVkaWF0ZShTdGF0dXNCYXIuX3VwZGF0ZUltbWVkaWF0ZSk7XG4gICAgU3RhdHVzQmFyLl91cGRhdGVJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgY29uc3Qgb2xkUHJvcHMgPSBTdGF0dXNCYXIuX2N1cnJlbnRWYWx1ZXM7XG4gICAgICBjb25zdCBtZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHNTdGFjayhcbiAgICAgICAgU3RhdHVzQmFyLl9wcm9wc1N0YWNrLFxuICAgICAgICBTdGF0dXNCYXIuX2RlZmF1bHRQcm9wcyxcbiAgICAgICk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvcHMgdGhhdCBoYXZlIGNoYW5nZWQgdXNpbmcgdGhlIG1lcmdlZCB2YWx1ZXMgZnJvbSB0aGUgcHJvcHMgc3RhY2suXG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhb2xkUHJvcHMgfHxcbiAgICAgICAgICBvbGRQcm9wcy5iYXJTdHlsZS52YWx1ZSAhPT0gbWVyZ2VkUHJvcHMuYmFyU3R5bGUudmFsdWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgTmF0aXZlU3RhdHVzQmFyTWFuYWdlcklPUy5zZXRTdHlsZShcbiAgICAgICAgICAgIG1lcmdlZFByb3BzLmJhclN0eWxlLnZhbHVlLFxuICAgICAgICAgICAgbWVyZ2VkUHJvcHMuYmFyU3R5bGUuYW5pbWF0ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9sZFByb3BzIHx8IG9sZFByb3BzLmhpZGRlbi52YWx1ZSAhPT0gbWVyZ2VkUHJvcHMuaGlkZGVuLnZhbHVlKSB7XG4gICAgICAgICAgTmF0aXZlU3RhdHVzQmFyTWFuYWdlcklPUy5zZXRIaWRkZW4oXG4gICAgICAgICAgICBtZXJnZWRQcm9wcy5oaWRkZW4udmFsdWUsXG4gICAgICAgICAgICBtZXJnZWRQcm9wcy5oaWRkZW4uYW5pbWF0ZWRcbiAgICAgICAgICAgICAgPyBtZXJnZWRQcm9wcy5oaWRkZW4udHJhbnNpdGlvblxuICAgICAgICAgICAgICA6ICdub25lJyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICFvbGRQcm9wcyB8fFxuICAgICAgICAgIG9sZFByb3BzLm5ldHdvcmtBY3Rpdml0eUluZGljYXRvclZpc2libGUgIT09XG4gICAgICAgICAgICBtZXJnZWRQcm9wcy5uZXR3b3JrQWN0aXZpdHlJbmRpY2F0b3JWaXNpYmxlXG4gICAgICAgICkge1xuICAgICAgICAgIE5hdGl2ZVN0YXR1c0Jhck1hbmFnZXJJT1Muc2V0TmV0d29ya0FjdGl2aXR5SW5kaWNhdG9yVmlzaWJsZShcbiAgICAgICAgICAgIG1lcmdlZFByb3BzLm5ldHdvcmtBY3Rpdml0eUluZGljYXRvclZpc2libGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgIC8vdG9kbyhUNjA2ODQ3ODcpOiBBZGQgYmFjayBvcHRpbWl6YXRpb24gdG8gb25seSB1cGRhdGUgYmFyIHN0eWxlIGFuZFxuICAgICAgICAvL2JhY2tncm91bmQgY29sb3IgaWYgdGhlIG5ldyB2YWx1ZSBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgb2xkIHZhbHVlLlxuICAgICAgICBOYXRpdmVTdGF0dXNCYXJNYW5hZ2VyQW5kcm9pZC5zZXRTdHlsZShtZXJnZWRQcm9wcy5iYXJTdHlsZS52YWx1ZSk7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZENvbG9yID0gcHJvY2Vzc0NvbG9yKG1lcmdlZFByb3BzLmJhY2tncm91bmRDb2xvci52YWx1ZSk7XG4gICAgICAgIGlmIChwcm9jZXNzZWRDb2xvciA9PSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgYFxcYFN0YXR1c0Jhci5fdXBkYXRlUHJvcHNTdGFja1xcYDogQ29sb3IgJHttZXJnZWRQcm9wcy5iYWNrZ3JvdW5kQ29sb3IudmFsdWV9IHBhcnNlZCB0byBudWxsIG9yIHVuZGVmaW5lZGAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgICB0eXBlb2YgcHJvY2Vzc2VkQ29sb3IgPT09ICdudW1iZXInLFxuICAgICAgICAgICAgJ1VuZXhwZWN0ZWQgY29sb3IgZ2l2ZW4gaW4gU3RhdHVzQmFyLl91cGRhdGVQcm9wc1N0YWNrJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIE5hdGl2ZVN0YXR1c0Jhck1hbmFnZXJBbmRyb2lkLnNldENvbG9yKFxuICAgICAgICAgICAgcHJvY2Vzc2VkQ29sb3IsXG4gICAgICAgICAgICBtZXJnZWRQcm9wcy5iYWNrZ3JvdW5kQ29sb3IuYW5pbWF0ZWQsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9sZFByb3BzIHx8IG9sZFByb3BzLmhpZGRlbi52YWx1ZSAhPT0gbWVyZ2VkUHJvcHMuaGlkZGVuLnZhbHVlKSB7XG4gICAgICAgICAgTmF0aXZlU3RhdHVzQmFyTWFuYWdlckFuZHJvaWQuc2V0SGlkZGVuKG1lcmdlZFByb3BzLmhpZGRlbi52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWN0aXZpdGllcyBhcmUgbm90IHRyYW5zbHVjZW50IGJ5IGRlZmF1bHQsIHNvIGFsd2F5cyBzZXQgaWYgdHJ1ZS5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICFvbGRQcm9wcyB8fFxuICAgICAgICAgIG9sZFByb3BzLnRyYW5zbHVjZW50ICE9PSBtZXJnZWRQcm9wcy50cmFuc2x1Y2VudCB8fFxuICAgICAgICAgIG1lcmdlZFByb3BzLnRyYW5zbHVjZW50XG4gICAgICAgICkge1xuICAgICAgICAgIE5hdGl2ZVN0YXR1c0Jhck1hbmFnZXJBbmRyb2lkLnNldFRyYW5zbHVjZW50KG1lcmdlZFByb3BzLnRyYW5zbHVjZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVXBkYXRlIHRoZSBjdXJyZW50IHByb3AgdmFsdWVzLlxuICAgICAgU3RhdHVzQmFyLl9jdXJyZW50VmFsdWVzID0gbWVyZ2VkUHJvcHM7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3RhdHVzQmFyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFZQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSw4QkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsMEJBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQU4sT0FBQTtBQUErQixJQUFBTyxVQUFBLEVBQUFDLHFCQUFBO0FBQUEsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFE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