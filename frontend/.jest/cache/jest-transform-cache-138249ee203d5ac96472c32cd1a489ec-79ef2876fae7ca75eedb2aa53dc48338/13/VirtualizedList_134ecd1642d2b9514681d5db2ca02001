62c0bfe4ca60ed4a80c4cd357c82a278
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _Batchinator = _interopRequireDefault(require("../Interaction/Batchinator"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _ListMetricsAggregator = _interopRequireDefault(require("./ListMetricsAggregator"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizedListProps = require("./VirtualizedListProps");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["onContentSizeChange"];
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
var VirtualizedList = function (_StateSafePureCompone) {
  function VirtualizedList(_props) {
    var _this$props$updateCel, _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _callSuper(this, VirtualizedList, [_props]);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _this;
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._cellRefs = {};
    _this._listMetrics = new _ListMetricsAggregator.default();
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._pendingViewabilityUpdate = false;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        var onContentSizeChange = props.onContentSizeChange,
          otherProps = (0, _objectWithoutProperties2.default)(props, _excluded);
        return (0, _jsxRuntime.jsx)(_reactNative.View, Object.assign({}, otherProps));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, cellIndex) {
      var layoutHasChanged = _this._listMetrics.notifyCellLayout({
        cellIndex: cellIndex,
        cellKey: cellKey,
        layout: e.nativeEvent.layout,
        orientation: _this._orientation()
      });
      if (layoutHasChanged) {
        _this._scheduleCellsToRenderUpdate();
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellFocusCapture = function (cellKey) {
      _this._lastFocusedCellKey = cellKey;
      _this._updateCellsToRender();
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      _this._listMetrics.notifyCellUnmounted(cellKey);
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      _this._listMetrics.notifyListContentLayout({
        layout: {
          width: width,
          height: height
        },
        orientation: _this._orientation()
      });
      _this._maybeScrollToInitialScrollIndex(width, height);
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._listMetrics.getContentLength();
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._offsetFromScrollEvent(e);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._listMetrics.getContentLength() === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this._listMetrics.getCellMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this._listMetrics.getCellMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._listMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  return (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      this.scrollToOffset({
        animated: animated,
        offset: offset
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._listMetrics.getHighestMeasuredCellIndex()) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._listMetrics.getAverageCellLength(),
          highestMeasuredFrameIndex: this._listMetrics.getHighestMeasuredCellIndex(),
          index: index
        });
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._listMetrics.getCellOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      this.scrollToOffset({
        offset: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var index = 0; index < itemCount; index++) {
        if (getItem(data, index) === item) {
          this.scrollToIndex(Object.assign({}, params, {
            index: index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      var scrollRef = this._scrollRef;
      if (scrollRef == null) {
        return;
      }
      if (scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      var _this$_orientation = this._orientation(),
        horizontal = _this$_orientation.horizontal,
        rtl = _this$_orientation.rtl;
      if (horizontal && rtl && !this._listMetrics.hasContentLength()) {
        console.warn('scrollToOffset may not be called in RTL before content is laid out');
        return;
      }
      scrollRef.scrollTo(Object.assign({
        animated: animated
      }, this._scrollToParamsFromOffset(offset)));
    }
  }, {
    key: "_scrollToParamsFromOffset",
    value: function _scrollToParamsFromOffset(offset) {
      var _this$_orientation2 = this._orientation(),
        horizontal = _this$_orientation2.horizontal,
        rtl = _this$_orientation2.rtl;
      if (horizontal && rtl) {
        var cartOffset = this._listMetrics.cartesianOffset(offset + this._scrollMetrics.visibleLength);
        return horizontal ? {
          x: cartOffset
        } : {
          y: cartOffset
        };
      } else {
        return horizontal ? {
          x: offset
        } : {
          y: offset
        };
      }
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)((0, _VirtualizedListProps.windowSizeOrDefault)(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (__DEV__ && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var contentLength = this._listMetrics.getContentLength();
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch), (0, _VirtualizedListProps.windowSizeOrDefault)(props.windowSize), cellsAroundViewport, this._listMetrics, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      this._updateCellsToRenderBatcher.dispose();
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, Object.assign({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: _this2._onCellFocusCapture,
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal));
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this,
        _this$props$scrollEve;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: React.cloneElement(_element, {
            onLayout: function onLayout(event) {
              _this3._onLayoutEmpty(event);
              if (_element.props.onLayout) {
                _element.props.onLayout(event);
              }
            },
            style: _reactNative.StyleSheet.compose(inversionStyle, _element.props.style)
          })
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastRegion = renderRegions[renderRegions.length - 1];
        var lastSpacer = lastRegion != null && lastRegion.isSpacer ? lastRegion : null;
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._listMetrics.getHighestMeasuredCellIndex()) : section.last;
            var firstMetrics = this._listMetrics.getCellMetricsApprox(section.first, this.props);
            var lastMetrics = this._listMetrics.getCellMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element2
          })
        }, "$footer"));
      }
      var scrollProps = Object.assign({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: (_this$props$scrollEve = this.props.scrollEventThrottle) != null ? _this$props$scrollEve : 0.0001,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? Object.assign({}, this.props.maintainVisibleContentPosition, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !(0, _VirtualizedListProps.horizontalOrDefault)(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null && _this3.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData,
        getItemLayout = _this$props7.getItemLayout;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
      if (getItemLayout != null) {
        this._maybeCallOnEdgeReached();
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._listMetrics.notifyListContentLayout({
            layout: {
              width: width,
              height: height
            },
            orientation: _this4._orientation()
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;
            _this4._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._listMetrics.getContentLength() || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._listMetrics.getCellMetricsApprox(ii, this.props);
        if (frame.isMounted) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !(0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(_ref3) {
      var x = _ref3.x,
        y = _ref3.y;
      return this._orientation().horizontal ? x : y;
    }
  }, {
    key: "_orientation",
    value: function _orientation() {
      return {
        horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
        rtl: _reactNative.I18nManager.isRTL
      };
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (!this._listMetrics.hasContentLength() || this._scrollMetrics.visibleLength === 0) {
        return;
      }
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = this._listMetrics.getContentLength() - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._listMetrics.getContentLength() !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._listMetrics.getContentLength();
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
      if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._listMetrics.getContentLength() !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._listMetrics.getContentLength();
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      }
      if (!isWithinStartThreshold) {
        this._sentStartForContentLength = 0;
      }
      if (!isWithinEndThreshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_maybeScrollToInitialScrollIndex",
    value: function _maybeScrollToInitialScrollIndex(contentWidth, contentHeight) {
      if (contentWidth > 0 && contentHeight > 0 && this.props.initialScrollIndex != null && this.props.initialScrollIndex > 0 && !this._hasTriggeredInitialScrollToIndex) {
        if (this.props.contentOffset == null) {
          if (this.props.initialScrollIndex < this.props.getItemCount(this.props.data)) {
            this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(this.props.initialScrollIndex)
            });
          } else {
            this.scrollToEnd({
              animated: false
            });
          }
        }
        this._hasTriggeredInitialScrollToIndex = true;
      }
    }
  }, {
    key: "unstable_onScroll",
    value: function unstable_onScroll(e) {
      this._onScroll(e);
    }
  }, {
    key: "_offsetFromScrollEvent",
    value: function _offsetFromScrollEvent(e) {
      var _e$nativeEvent = e.nativeEvent,
        contentOffset = _e$nativeEvent.contentOffset,
        contentSize = _e$nativeEvent.contentSize,
        layoutMeasurement = _e$nativeEvent.layoutMeasurement;
      var _this$_orientation3 = this._orientation(),
        horizontal = _this$_orientation3.horizontal,
        rtl = _this$_orientation3.rtl;
      if (horizontal && rtl) {
        return this._selectLength(contentSize) - (this._selectOffset(contentOffset) + this._selectLength(layoutMeasurement));
      } else {
        return this._selectOffset(contentOffset);
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      if ((this._listMetrics.getAverageCellLength() > 0 || this.props.getItemLayout != null) && this._shouldRenderWithPriority() && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose();
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_shouldRenderWithPriority",
    value: function _shouldRenderWithPriority() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = (0, _VirtualizedListProps.onStartReachedThresholdOrDefault)(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this._listMetrics.getCellMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this._listMetrics.getCellMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      return hiPri;
    }
  }, {
    key: "unstable_onScrollBeginDrag",
    value: function unstable_onScrollBeginDrag(e) {
      this._onScrollBeginDrag(e);
    }
  }, {
    key: "unstable_onScrollEndDrag",
    value: function unstable_onScrollEndDrag(e) {
      this._onScrollEndDrag(e);
    }
  }, {
    key: "unstable_onMomentumScrollBegin",
    value: function unstable_onMomentumScrollBegin(e) {
      this._onMomentumScrollBegin(e);
    }
  }, {
    key: "unstable_onMomentumScrollEnd",
    value: function unstable_onMomentumScrollEnd(e) {
      this._onMomentumScrollEnd(e);
    }
  }, {
    key: "__getListMetrics",
    value: function __getListMetrics() {
      return this._listMetrics;
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this5 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._listMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + (0, _VirtualizedListProps.initialNumToRenderOrDefault)(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var lastPossibleCellIndex = itemCount - 1;
      var maxToRenderPerBatch = (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch);
      var maxFirst = Math.max(0, lastPossibleCellIndex - maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, cells.first, maxFirst),
        last: Math.min(lastPossibleCellIndex, cells.last)
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQmF0Y2hpbmF0b3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFtcCIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX1N0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJfVmlld2FiaWxpdHlIZWxwZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyIiwiX1ZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJfVmlydHVhbGl6ZWRMaXN0UHJvcHMiLCJfVmlydHVhbGl6ZVV0aWxzIiwiX2ludmFyaWFudCIsIl9udWxsdGhyb3dzIiwiUmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9yZWFjdE5hdGl2ZSIsIl9qc3hSdW50aW1lIiwiX2V4Y2x1ZGVkIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiX2NhbGxTdXBlciIsIm8iLCJfZ2V0UHJvdG90eXBlT2YyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJPTl9FREdFX1JFQUNIRURfRVBTSUxPTiIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiZ2V0U2Nyb2xsaW5nVGhyZXNob2xkIiwidGhyZXNob2xkIiwidmlzaWJsZUxlbmd0aCIsIlZpcnR1YWxpemVkTGlzdCIsIl9TdGF0ZVNhZmVQdXJlQ29tcG9uZSIsInByb3BzIiwiX3RoaXMkcHJvcHMkdXBkYXRlQ2VsIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WMiIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9nZXRTY3JvbGxNZXRyaWNzIiwiX3Njcm9sbE1ldHJpY3MiLCJfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24iLCJjb250ZXh0IiwiZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJfbmVzdGVkQ2hpbGRMaXN0cyIsImFkZCIsInJlZiIsImNlbGxLZXkiLCJfaGFzSW50ZXJhY3RlZCIsInJlY29yZEludGVyYWN0aW9uIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwicmVtb3ZlIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsImtleXMiLCJuZXdQcm9wcyIsImZvckVhY2giLCJrZXkiLCJfY2VsbFJlZnMiLCJ1cGRhdGVTZXBhcmF0b3JQcm9wcyIsIl9nZXRTcGFjZXJLZXkiLCJpc1ZlcnRpY2FsIiwiX2xpc3RNZXRyaWNzIiwiTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX2Zvb3Rlckxlbmd0aCIsIl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCIsIl9oYXNNb3JlIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2luZGljZXNUb0tleXMiLCJNYXAiLCJfbGFzdEZvY3VzZWRDZWxsS2V5IiwiQ2hpbGRMaXN0Q29sbGVjdGlvbiIsIl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0IiwiX3BlbmRpbmdWaWV3YWJpbGl0eVVwZGF0ZSIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiZE9mZnNldCIsImR0Iiwib2Zmc2V0IiwidGltZXN0YW1wIiwidmVsb2NpdHkiLCJ6b29tU2NhbGUiLCJfc2Nyb2xsUmVmIiwiX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGgiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdmlld2FiaWxpdHlUdXBsZXMiLCJfY2FwdHVyZVNjcm9sbFJlZiIsIl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50Iiwib25SZWZyZXNoIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIm90aGVyUHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwianN4IiwiVmlldyIsImFzc2lnbiIsIl9wcm9wcyRyZWZyZXNoaW5nIiwiaW52YXJpYW50IiwicmVmcmVzaGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJTY3JvbGxWaWV3IiwicmVmcmVzaENvbnRyb2wiLCJSZWZyZXNoQ29udHJvbCIsInByb2dyZXNzVmlld09mZnNldCIsIl9vbkNlbGxMYXlvdXQiLCJjZWxsSW5kZXgiLCJsYXlvdXRIYXNDaGFuZ2VkIiwibm90aWZ5Q2VsbExheW91dCIsImxheW91dCIsIm5hdGl2ZUV2ZW50Iiwib3JpZW50YXRpb24iLCJfb3JpZW50YXRpb24iLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsIiwiX2NvbXB1dGVCbGFua25lc3MiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsInN0YXRlIiwiY2VsbHNBcm91bmRWaWV3cG9ydCIsIl9vbkNlbGxGb2N1c0NhcHR1cmUiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlciIsIl9vbkNlbGxVbm1vdW50Iiwibm90aWZ5Q2VsbFVubW91bnRlZCIsIl9vbkxheW91dCIsIm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QiLCJfc2VsZWN0TGVuZ3RoIiwib25MYXlvdXQiLCJfbWF5YmVDYWxsT25FZGdlUmVhY2hlZCIsIl9vbkxheW91dEVtcHR5IiwiX29uTGF5b3V0Rm9vdGVyIiwiX2dldEZvb3RlckNlbGxLZXkiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0Iiwibm90aWZ5TGlzdENvbnRlbnRMYXlvdXQiLCJfbWF5YmVTY3JvbGxUb0luaXRpYWxTY3JvbGxJbmRleCIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm1ldHJpY3MiLCJjb250ZW50TGVuZ3RoIiwiZ2V0Q29udGVudExlbmd0aCIsIl9vblNjcm9sbCIsIm9uU2Nyb2xsIiwidGltZVN0YW1wIiwibGF5b3V0TWVhc3VyZW1lbnQiLCJjb250ZW50U2l6ZSIsIl9vZmZzZXRGcm9tU2Nyb2xsRXZlbnQiLCJfdGhpcyRfY29udmVydFBhcmVudFMiLCJNYXRoIiwibWF4IiwicGVyZiIsImluZm9Mb2ciLCJwcmV2RHQiLCJwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQiLCJzZXRTdGF0ZSIsIl9maWxsUmF0ZUhlbHBlciIsImFjdGl2YXRlIiwiX29uU2Nyb2xsQmVnaW5EcmFnIiwidHVwbGUiLCJ2aWV3YWJpbGl0eUhlbHBlciIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX29uU2Nyb2xsRW5kRHJhZyIsIl9zZWxlY3RPZmZzZXQiLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQiLCJyZW5kZXJNYXNrIiwiX2NyZWF0ZVJlbmRlck1hc2siLCJfZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zIiwiZmlyc3QiLCJsYXN0IiwiZXF1YWxzIiwiX2NyZWF0ZVZpZXdUb2tlbiIsImluZGV4IiwiaXNWaWV3YWJsZSIsImRhdGEiLCJnZXRJdGVtIiwiaXRlbSIsIl9rZXlFeHRyYWN0b3IiLCJsYXN0Rm9jdXNlZENlbGxSZW5kZXJlciIsImZvY3VzZWRDZWxsSW5kZXgiLCJpdGVtQ291bnQiLCJnZXRJdGVtQ291bnQiLCJfZ2V0SXRlbUtleSIsImhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIiwiZ2V0Q2VsbE1ldHJpY3NBcHByb3giLCJsZW5ndGgiLCJoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkIiwiX2NoZWNrUHJvcHMiLCJGaWxsUmF0ZUhlbHBlciIsIl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciIsIkJhdGNoaW5hdG9yIiwidXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCIsInZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycyIsIm1hcCIsInBhaXIiLCJWaWV3YWJpbGl0eUhlbHBlciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsIl90aGlzJHByb3BzIiwicHVzaCIsImluaXRpYWxSZW5kZXJSZWdpb24iLCJfaW5pdGlhbFJlbmRlclJlZ2lvbiIsIm1pbkluZGV4Rm9yVmlzaWJsZSIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiIsImZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJpbml0aWFsU2Nyb2xsSW5kZXgiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwic2Nyb2xsVG9FbmQiLCJwYXJhbXMiLCJhbmltYXRlZCIsInZlcnlMYXN0IiwiZnJhbWUiLCJzY3JvbGxUb09mZnNldCIsInNjcm9sbFRvSW5kZXgiLCJfdGhpcyRwcm9wczIiLCJnZXRJdGVtTGF5b3V0Iiwib25TY3JvbGxUb0luZGV4RmFpbGVkIiwidmlld09mZnNldCIsInZpZXdQb3NpdGlvbiIsImdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCIsImF2ZXJhZ2VJdGVtTGVuZ3RoIiwiZ2V0QXZlcmFnZUNlbGxMZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiZmxvb3IiLCJnZXRDZWxsT2Zmc2V0QXBwcm94Iiwic2Nyb2xsVG9JdGVtIiwiX3RoaXMkcHJvcHMzIiwic2Nyb2xsUmVmIiwic2Nyb2xsVG8iLCJjb25zb2xlIiwid2FybiIsIl90aGlzJF9vcmllbnRhdGlvbiIsImhvcml6b250YWwiLCJydGwiLCJoYXNDb250ZW50TGVuZ3RoIiwiX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldCIsIl90aGlzJF9vcmllbnRhdGlvbjIiLCJjYXJ0T2Zmc2V0IiwiY2FydGVzaWFuT2Zmc2V0IiwieCIsInkiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0U2Nyb2xsUmVmIiwic2V0TmF0aXZlUHJvcHMiLCJfZ2V0Q2VsbEtleSIsIl90aGlzJGNvbnRleHQiLCJoYXNNb3JlIiwid2luZG93U2l6ZSIsIl9faXNOYXRpdmUiLCJ3aW5kb3dTaXplT3JEZWZhdWx0IiwiX19ERVZfXyIsImZsZXhXcmFwIiwiZmxhdFN0eWxlcyIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwib25FbmRSZWFjaGVkVGhyZXNob2xkIiwib25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0IiwiX3RoaXMkX3Njcm9sbE1ldHJpY3MiLCJkaXN0YW5jZUZyb21FbmQiLCJfY29uc3RyYWluVG9JdGVtQ291bnQiLCJuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0IiwiZGlzYWJsZVZpcnR1YWxpemF0aW9uIiwicmVuZGVyQWhlYWQiLCJtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0IiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsIm1pbiIsImNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyIsInNpemUiLCJjaGlsZElkeCIsIl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlIiwiaWkiLCJjZWxsS2V5Rm9ySW5kZXgiLCJhbnlJbkNlbGwiLCJjb21wb25lbnREaWRNb3VudCIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJkaXNwb3NlIiwiZGVhY3RpdmF0ZUFuZEZsdXNoIiwiX3B1c2hDZWxscyIsImNlbGxzIiwic3RpY2t5SGVhZGVySW5kaWNlcyIsInN0aWNreUluZGljZXNGcm9tUHJvcHMiLCJpbnZlcnNpb25TdHlsZSIsIl90aGlzMiIsIl90aGlzJHByb3BzNCIsIkNlbGxSZW5kZXJlckNvbXBvbmVudCIsIkl0ZW1TZXBhcmF0b3JDb21wb25lbnQiLCJMaXN0SGVhZGVyQ29tcG9uZW50IiwiTGlzdEl0ZW1Db21wb25lbnQiLCJkZWJ1ZyIsInJlbmRlckl0ZW0iLCJzdGlja3lPZmZzZXQiLCJlbmQiLCJwcmV2Q2VsbEtleSIsIl9sb29wIiwic2hvdWxkTGlzdGVuRm9yTGF5b3V0IiwiZW5hYmxlZCIsInVuZGVmaW5lZCIsIm9uVXBkYXRlU2VwYXJhdG9ycyIsIm9uQ2VsbEZvY3VzQ2FwdHVyZSIsIm9uVW5tb3VudCIsIm9uQ2VsbExheW91dCIsIm5lc3RlZENvbnRleHQiLCJob3Jpem9udGFsT3JEZWZhdWx0IiwicmVuZGVyIiwiX3RoaXMzIiwiX3RoaXMkcHJvcHMkc2Nyb2xsRXZlIiwiX3RoaXMkcHJvcHM1IiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsIl90aGlzJHByb3BzNiIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJTZXQiLCJlbGVtZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjb2xsYXBzYWJsZSIsInN0eWxlIiwiY29tcG9zZSIsIkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSIsImNsb25lRWxlbWVudCIsImV2ZW50Iiwic3BhY2VyS2V5IiwicmVuZGVyUmVnaW9ucyIsImVudW1lcmF0ZVJlZ2lvbnMiLCJsYXN0UmVnaW9uIiwibGFzdFNwYWNlciIsImlzU3BhY2VyIiwic2VjdGlvbiIsImlzTGFzdFNwYWNlciIsImNvbnN0cmFpblRvTWVhc3VyZWQiLCJjbGFtcCIsImZpcnN0TWV0cmljcyIsImxhc3RNZXRyaWNzIiwic3BhY2VyU2l6ZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJMaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUiLCJzY3JvbGxQcm9wcyIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwiaXNJbnZlcnRlZFZpcnR1YWxpemVkTGlzdCIsImlubmVyUmV0IiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyIiwiZ2V0U2Nyb2xsTWV0cmljcyIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsInJldCIsIkNvbnRleHQiLCJDb25zdW1lciIsInNjcm9sbENvbnRleHQiLCJuZXN0aW5nIiwic2Nyb2xsRW5hYmxlZCIsImVycm9yIiwianN4cyIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJfdGhpcyRwcm9wczciLCJleHRyYURhdGEiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsImhpUHJpSW5Qcm9ncmVzcyIsImNvbXB1dGVCbGFua25lc3MiLCJmb3JFYWNoSW5DZWxsIiwiX3RoaXM0IiwibWVhc3VyZUxheW91dCIsInNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzQ2hhbmdlZCIsInN0YWNrIiwibm9ybWFsaXplIiwiZnJhbWVzSW5MYXlvdXQiLCJpc01vdW50ZWQiLCJ3aW5kb3dUb3AiLCJmcmFtZUxhc3QiLCJ3aW5kb3dMZW4iLCJ2aXNUb3AiLCJ2aXNMZW4iLCJkZWJ1Z092ZXJsYXlCYXNlIiwiZGVidWdPdmVybGF5IiwiZiIsImRlYnVnT3ZlcmxheUZyYW1lIiwidG9wIiwiZGVidWdPdmVybGF5RnJhbWVMYXN0IiwiZGVidWdPdmVybGF5RnJhbWVWaXMiLCJfcmVmMyIsIkkxOG5NYW5hZ2VyIiwiaXNSVEwiLCJfdGhpcyRwcm9wczgiLCJvblN0YXJ0UmVhY2hlZCIsIm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkIiwib25FbmRSZWFjaGVkIiwiX3RoaXMkX3Njcm9sbE1ldHJpY3MyIiwiZGlzdGFuY2VGcm9tU3RhcnQiLCJERUZBVUxUX1RIUkVTSE9MRF9QWCIsInN0YXJ0VGhyZXNob2xkIiwiZW5kVGhyZXNob2xkIiwiaXNXaXRoaW5TdGFydFRocmVzaG9sZCIsImlzV2l0aGluRW5kVGhyZXNob2xkIiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsImNvbnRlbnRPZmZzZXQiLCJudWxsdGhyb3dzIiwidW5zdGFibGVfb25TY3JvbGwiLCJfZSRuYXRpdmVFdmVudCIsIl90aGlzJF9vcmllbnRhdGlvbjMiLCJfc2hvdWxkUmVuZGVyV2l0aFByaW9yaXR5Iiwic2NoZWR1bGUiLCJfdGhpcyRzdGF0ZSRjZWxsc0Fyb3UiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczMiLCJoaVByaSIsIm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0IiwiZGlzdFRvcCIsImRpc3RCb3R0b20iLCJ1bnN0YWJsZV9vblNjcm9sbEJlZ2luRHJhZyIsInVuc3RhYmxlX29uU2Nyb2xsRW5kRHJhZyIsInVuc3RhYmxlX29uTW9tZW50dW1TY3JvbGxCZWdpbiIsInVuc3RhYmxlX29uTW9tZW50dW1TY3JvbGxFbmQiLCJfX2dldExpc3RNZXRyaWNzIiwiX3RoaXM1Iiwib25VcGRhdGUiLCJfZmluZEl0ZW1JbmRleFdpdGhLZXkiLCJoaW50IiwiY3VyS2V5IiwiYWRkaXRpb25hbFJlZ2lvbnMiLCJDZWxsUmVuZGVyTWFzayIsImFsbFJlZ2lvbnMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwicmVnaW9uIiwiYWRkQ2VsbHMiLCJpbml0aWFsUmVnaW9uIiwic3RpY2t5SW5kaWNlc1NldCIsIl9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyIiwiX3Byb3BzJGluaXRpYWxTY3JvbGxJIiwiZmlyc3RDZWxsSW5kZXgiLCJsYXN0Q2VsbEluZGV4IiwiaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0IiwiaW5pdGlhbE51bVRvUmVuZGVyIiwiY2VsbElkeCIsIml0ZW1JZHgiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJwcmV2U3RhdGUiLCJfbmV3UHJvcHMkbWFpbnRhaW5WaXMiLCJfbmV3UHJvcHMkbWFpbnRhaW5WaXMyIiwibnVtQ2VsbHMiLCJtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50IiwicHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJuZXdGaXJzdFZpc2libGVJdGVtS2V5IiwiZmlyc3RWaXNpYmxlSXRlbUluZGV4IiwiY29uc3RyYWluZWRDZWxscyIsImxhc3RQb3NzaWJsZUNlbGxJbmRleCIsIm1heEZpcnN0Iiwia2V5RXh0cmFjdG9yIiwiZGVmYXVsdEtleUV4dHJhY3RvciIsIlN0cmluZyIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIlN0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJjb250ZXh0VHlwZSIsIlZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJjcmVhdGUiLCJQbGF0Zm9ybSIsIk9TIiwidHJhbnNmb3JtIiwic2NhbGUiLCJzY2FsZVkiLCJzY2FsZVgiLCJmbGV4IiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7Q2VsbE1ldHJpY1Byb3BzLCBMaXN0T3JpZW50YXRpb259IGZyb20gJy4vTGlzdE1ldHJpY3NBZ2dyZWdhdG9yJztcbmltcG9ydCB0eXBlIHtWaWV3VG9rZW59IGZyb20gJy4vVmlld2FiaWxpdHlIZWxwZXInO1xuaW1wb3J0IHR5cGUge1xuICBJdGVtLFxuICBQcm9wcyxcbiAgUmVuZGVySXRlbVByb3BzLFxuICBSZW5kZXJJdGVtVHlwZSxcbiAgU2VwYXJhdG9ycyxcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RQcm9wcyc7XG5pbXBvcnQgdHlwZSB7U2Nyb2xsUmVzcG9uZGVyVHlwZX0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldyc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBMYXlvdXRFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuXG5pbXBvcnQgQmF0Y2hpbmF0b3IgZnJvbSAnLi4vSW50ZXJhY3Rpb24vQmF0Y2hpbmF0b3InO1xuaW1wb3J0IGNsYW1wIGZyb20gJy4uL1V0aWxpdGllcy9jbGFtcCc7XG5pbXBvcnQgaW5mb0xvZyBmcm9tICcuLi9VdGlsaXRpZXMvaW5mb0xvZyc7XG5pbXBvcnQge0NlbGxSZW5kZXJNYXNrfSBmcm9tICcuL0NlbGxSZW5kZXJNYXNrJztcbmltcG9ydCBDaGlsZExpc3RDb2xsZWN0aW9uIGZyb20gJy4vQ2hpbGRMaXN0Q29sbGVjdGlvbic7XG5pbXBvcnQgRmlsbFJhdGVIZWxwZXIgZnJvbSAnLi9GaWxsUmF0ZUhlbHBlcic7XG5pbXBvcnQgTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIGZyb20gJy4vTGlzdE1ldHJpY3NBZ2dyZWdhdG9yJztcbmltcG9ydCBTdGF0ZVNhZmVQdXJlQ29tcG9uZW50IGZyb20gJy4vU3RhdGVTYWZlUHVyZUNvbXBvbmVudCc7XG5pbXBvcnQgVmlld2FiaWxpdHlIZWxwZXIgZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5pbXBvcnQgQ2VsbFJlbmRlcmVyIGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyJztcbmltcG9ydCB7XG4gIFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHQsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcixcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDb250ZXh0LmpzJztcbmltcG9ydCB7XG4gIGhvcml6b250YWxPckRlZmF1bHQsXG4gIGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdCxcbiAgbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdCxcbiAgb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0LFxuICBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCxcbiAgd2luZG93U2l6ZU9yRGVmYXVsdCxcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RQcm9wcyc7XG5pbXBvcnQge1xuICBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMsXG4gIGtleUV4dHJhY3RvciBhcyBkZWZhdWx0S2V5RXh0cmFjdG9yLFxufSBmcm9tICcuL1ZpcnR1YWxpemVVdGlscyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgbnVsbHRocm93cyBmcm9tICdudWxsdGhyb3dzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIEkxOG5NYW5hZ2VyLFxuICBQbGF0Zm9ybSxcbiAgUmVmcmVzaENvbnRyb2wsXG4gIFNjcm9sbFZpZXcsXG4gIFN0eWxlU2hlZXQsXG4gIFZpZXcsXG4gIGZpbmROb2RlSGFuZGxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5leHBvcnQgdHlwZSB7UmVuZGVySXRlbVByb3BzLCBSZW5kZXJJdGVtVHlwZSwgU2VwYXJhdG9yc307XG5cbmNvbnN0IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OID0gMC4wMDE7XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5sZXQgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZTogc3RyaW5nID0gJyc7XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIC4uLlxuICB9KSA9PiB2b2lkLFxuICAuLi5cbn07XG5cbnR5cGUgU3RhdGUgPSB7XG4gIHJlbmRlck1hc2s6IENlbGxSZW5kZXJNYXNrLFxuICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgLy8gVXNlZCB0byB0cmFjayBpdGVtcyBhZGRlZCBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpc3QgZm9yIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbi5cbiAgZmlyc3RWaXNpYmxlSXRlbUtleTogP3N0cmluZyxcbiAgLy8gV2hlbiA+IDAgdGhlIHNjcm9sbCBwb3NpdGlvbiBhdmFpbGFibGUgaW4gSlMgaXMgY29uc2lkZXJlZCBzdGFsZSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6IG51bWJlcixcbn07XG5cbmZ1bmN0aW9uIGdldFNjcm9sbGluZ1RocmVzaG9sZCh0aHJlc2hvbGQ6IG51bWJlciwgdmlzaWJsZUxlbmd0aDogbnVtYmVyKSB7XG4gIHJldHVybiAodGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCkgLyAyO1xufVxuXG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBtb3JlIGNvbnZlbmllbnQgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdClcbiAqIGFuZCBbYDxTZWN0aW9uTGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL3NlY3Rpb25saXN0KSBjb21wb25lbnRzLCB3aGljaCBhcmUgYWxzbyBiZXR0ZXJcbiAqIGRvY3VtZW50ZWQuIEluIGdlbmVyYWwsIHRoaXMgc2hvdWxkIG9ubHkgcmVhbGx5IGJlIHVzZWQgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSB0aGFuXG4gKiBgRmxhdExpc3RgIHByb3ZpZGVzLCBlLmcuIGZvciB1c2Ugd2l0aCBpbW11dGFibGUgZGF0YSBpbnN0ZWFkIG9mIHBsYWluIGFycmF5cy5cbiAqXG4gKiBWaXJ0dWFsaXphdGlvbiBtYXNzaXZlbHkgaW1wcm92ZXMgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBwZXJmb3JtYW5jZSBvZiBsYXJnZSBsaXN0cyBieVxuICogbWFpbnRhaW5pbmcgYSBmaW5pdGUgcmVuZGVyIHdpbmRvdyBvZiBhY3RpdmUgaXRlbXMgYW5kIHJlcGxhY2luZyBhbGwgaXRlbXMgb3V0c2lkZSBvZiB0aGUgcmVuZGVyXG4gKiB3aW5kb3cgd2l0aCBhcHByb3ByaWF0ZWx5IHNpemVkIGJsYW5rIHNwYWNlLiBUaGUgd2luZG93IGFkYXB0cyB0byBzY3JvbGxpbmcgYmVoYXZpb3IsIGFuZCBpdGVtc1xuICogYXJlIHJlbmRlcmVkIGluY3JlbWVudGFsbHkgd2l0aCBsb3ctcHJpIChhZnRlciBhbnkgcnVubmluZyBpbnRlcmFjdGlvbnMpIGlmIHRoZXkgYXJlIGZhciBmcm9tIHRoZVxuICogdmlzaWJsZSBhcmVhLCBvciB3aXRoIGhpLXByaSBvdGhlcndpc2UgdG8gbWluaW1pemUgdGhlIHBvdGVudGlhbCBvZiBzZWVpbmcgYmxhbmsgc3BhY2UuXG4gKlxuICogU29tZSBjYXZlYXRzOlxuICpcbiAqIC0gSW50ZXJuYWwgc3RhdGUgaXMgbm90IHByZXNlcnZlZCB3aGVuIGNvbnRlbnQgc2Nyb2xscyBvdXQgb2YgdGhlIHJlbmRlciB3aW5kb3cuIE1ha2Ugc3VyZSBhbGxcbiAqICAgeW91ciBkYXRhIGlzIGNhcHR1cmVkIGluIHRoZSBpdGVtIGRhdGEgb3IgZXh0ZXJuYWwgc3RvcmVzIGxpa2UgRmx1eCwgUmVkdXgsIG9yIFJlbGF5LlxuICogLSBUaGlzIGlzIGEgYFB1cmVDb21wb25lbnRgIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2lsbCBub3QgcmUtcmVuZGVyIGlmIGBwcm9wc2AgcmVtYWluIHNoYWxsb3ctXG4gKiAgIGVxdWFsLiBNYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIHlvdXIgYHJlbmRlckl0ZW1gIGZ1bmN0aW9uIGRlcGVuZHMgb24gaXMgcGFzc2VkIGFzIGEgcHJvcFxuICogICAoZS5nLiBgZXh0cmFEYXRhYCkgdGhhdCBpcyBub3QgYD09PWAgYWZ0ZXIgdXBkYXRlcywgb3RoZXJ3aXNlIHlvdXIgVUkgbWF5IG5vdCB1cGRhdGUgb25cbiAqICAgY2hhbmdlcy4gVGhpcyBpbmNsdWRlcyB0aGUgYGRhdGFgIHByb3AgYW5kIHBhcmVudCBjb21wb25lbnQgc3RhdGUuXG4gKiAtIEluIG9yZGVyIHRvIGNvbnN0cmFpbiBtZW1vcnkgYW5kIGVuYWJsZSBzbW9vdGggc2Nyb2xsaW5nLCBjb250ZW50IGlzIHJlbmRlcmVkIGFzeW5jaHJvbm91c2x5XG4gKiAgIG9mZnNjcmVlbi4gVGhpcyBtZWFucyBpdCdzIHBvc3NpYmxlIHRvIHNjcm9sbCBmYXN0ZXIgdGhhbiB0aGUgZmlsbCByYXRlIGFuZHMgbW9tZW50YXJpbHkgc2VlXG4gKiAgIGJsYW5rIGNvbnRlbnQuIFRoaXMgaXMgYSB0cmFkZW9mZiB0aGF0IGNhbiBiZSBhZGp1c3RlZCB0byBzdWl0IHRoZSBuZWVkcyBvZiBlYWNoIGFwcGxpY2F0aW9uLFxuICogICBhbmQgd2UgYXJlIHdvcmtpbmcgb24gaW1wcm92aW5nIGl0IGJlaGluZCB0aGUgc2NlbmVzLlxuICogLSBCeSBkZWZhdWx0LCB0aGUgbGlzdCBsb29rcyBmb3IgYSBga2V5YCBvciBgaWRgIHByb3Agb24gZWFjaCBpdGVtIGFuZCB1c2VzIHRoYXQgZm9yIHRoZSBSZWFjdCBrZXkuXG4gKiAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBga2V5RXh0cmFjdG9yYCBwcm9wLlxuICogLSBBcyBhbiBlZmZvcnQgdG8gcmVtb3ZlIGRlZmF1bHRQcm9wcywgdXNlIGhlbHBlciBmdW5jdGlvbnMgd2hlbiByZWZlcmVuY2luZyBjZXJ0YWluIHByb3BzXG4gKlxuICovXG5jbGFzcyBWaXJ0dWFsaXplZExpc3QgZXh0ZW5kcyBTdGF0ZVNhZmVQdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgY29udGV4dFR5cGU6IHR5cGVvZiBWaXJ0dWFsaXplZExpc3RDb250ZXh0ID0gVmlydHVhbGl6ZWRMaXN0Q29udGV4dDtcblxuICAvLyBzY3JvbGxUb0VuZCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9FbmQocGFyYW1zPzogP3thbmltYXRlZD86ID9ib29sZWFuLCAuLi59KSB7XG4gICAgY29uc3QgYW5pbWF0ZWQgPSBwYXJhbXMgPyBwYXJhbXMuYW5pbWF0ZWQgOiB0cnVlO1xuICAgIGNvbnN0IHZlcnlMYXN0ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG4gICAgaWYgKHZlcnlMYXN0IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KHZlcnlMYXN0LCB0aGlzLnByb3BzKTtcbiAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBmcmFtZS5vZmZzZXQgK1xuICAgICAgICBmcmFtZS5sZW5ndGggK1xuICAgICAgICB0aGlzLl9mb290ZXJMZW5ndGggLVxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgKTtcblxuICAgIC8vIFRPRE86IGNvbnNpZGVyIHVzaW5nIGByZWYuc2Nyb2xsVG9FbmRgIGRpcmVjdGx5XG4gICAgdGhpcy5zY3JvbGxUb09mZnNldCh7YW5pbWF0ZWQsIG9mZnNldH0pO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JbmRleCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9JbmRleChwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pOiAkRmxvd0ZpeE1lIHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50LCBnZXRJdGVtTGF5b3V0LCBvblNjcm9sbFRvSW5kZXhGYWlsZWR9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBpbmRleCwgdmlld09mZnNldCwgdmlld1Bvc2l0aW9ufSA9IHBhcmFtcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA+PSAwLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggJHtpbmRleH0gYnV0IG1pbmltdW0gaXMgMGAsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQoZGF0YSkgPj0gMSxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogaXRlbSBsZW5ndGggJHtnZXRJdGVtQ291bnQoXG4gICAgICAgIGRhdGEsXG4gICAgICApfSBidXQgbWluaW11bSBpcyAxYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggJHtpbmRleH0gaXMgb3V0IG9mIDAgdG8gJHtcbiAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMVxuICAgICAgfWAsXG4gICAgKTtcbiAgICBpZiAoXG4gICAgICAhZ2V0SXRlbUxheW91dCAmJlxuICAgICAgaW5kZXggPiB0aGlzLl9saXN0TWV0cmljcy5nZXRIaWdoZXN0TWVhc3VyZWRDZWxsSW5kZXgoKVxuICAgICkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICAgICAgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArXG4gICAgICAgICAgJ290aGVyd2lzZSB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB0aGUgbG9jYXRpb24gb2Ygb2Zmc2NyZWVuIGluZGljZXMgb3IgaGFuZGxlIGZhaWx1cmVzLicsXG4gICAgICApO1xuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkKHtcbiAgICAgICAgYXZlcmFnZUl0ZW1MZW5ndGg6IHRoaXMuX2xpc3RNZXRyaWNzLmdldEF2ZXJhZ2VDZWxsTGVuZ3RoKCksXG4gICAgICAgIGhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXg6XG4gICAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0SGlnaGVzdE1lYXN1cmVkQ2VsbEluZGV4KCksXG4gICAgICAgIGluZGV4LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICBNYXRoLmZsb29yKGluZGV4KSxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKTtcbiAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxPZmZzZXRBcHByb3goaW5kZXgsIHRoaXMucHJvcHMpIC1cbiAgICAgICAgICAodmlld1Bvc2l0aW9uIHx8IDApICpcbiAgICAgICAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggLSBmcmFtZS5sZW5ndGgpLFxuICAgICAgKSAtICh2aWV3T2Zmc2V0IHx8IDApO1xuXG4gICAgdGhpcy5zY3JvbGxUb09mZnNldCh7b2Zmc2V0LCBhbmltYXRlZH0pO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JdGVtIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcC4gUmVxdWlyZWQgbGluZWFyIHNjYW4gdGhyb3VnaCBpdGVtcyAtXG4gIC8vIHVzZSBzY3JvbGxUb0luZGV4IGluc3RlYWQgaWYgcG9zc2libGUuXG4gIHNjcm9sbFRvSXRlbShwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyLCAuLi59KSB7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBvZmZzZXR9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHNjcm9sbFJlZiA9IHRoaXMuX3Njcm9sbFJlZjtcblxuICAgIGlmIChzY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge2hvcml6b250YWwsIHJ0bH0gPSB0aGlzLl9vcmllbnRhdGlvbigpO1xuICAgIGlmIChob3Jpem9udGFsICYmIHJ0bCAmJiAhdGhpcy5fbGlzdE1ldHJpY3MuaGFzQ29udGVudExlbmd0aCgpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdzY3JvbGxUb09mZnNldCBtYXkgbm90IGJlIGNhbGxlZCBpbiBSVEwgYmVmb3JlIGNvbnRlbnQgaXMgbGFpZCBvdXQnLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY3JvbGxSZWYuc2Nyb2xsVG8oe1xuICAgICAgYW5pbWF0ZWQsXG4gICAgICAuLi50aGlzLl9zY3JvbGxUb1BhcmFtc0Zyb21PZmZzZXQob2Zmc2V0KSxcbiAgICB9KTtcbiAgfVxuXG4gIF9zY3JvbGxUb1BhcmFtc0Zyb21PZmZzZXQob2Zmc2V0OiBudW1iZXIpOiB7eD86IG51bWJlciwgeT86IG51bWJlcn0ge1xuICAgIGNvbnN0IHtob3Jpem9udGFsLCBydGx9ID0gdGhpcy5fb3JpZW50YXRpb24oKTtcbiAgICBpZiAoaG9yaXpvbnRhbCAmJiBydGwpIHtcbiAgICAgIC8vIEFkZCB0aGUgdmlzaWJsZSBsZW5ndGggb2YgdGhlIHNjcm9sbHZpZXcgc28gdGhhdCB0aGUgb2Zmc2V0IGlzIHJpZ2h0LWFsaWduZWRcbiAgICAgIGNvbnN0IGNhcnRPZmZzZXQgPSB0aGlzLl9saXN0TWV0cmljcy5jYXJ0ZXNpYW5PZmZzZXQoXG4gICAgICAgIG9mZnNldCArIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gaG9yaXpvbnRhbCA/IHt4OiBjYXJ0T2Zmc2V0fSA6IHt5OiBjYXJ0T2Zmc2V0fTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhvcml6b250YWwgPyB7eDogb2Zmc2V0fSA6IHt5OiBvZmZzZXR9O1xuICAgIH1cbiAgfVxuXG4gIHJlY29yZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG4gIH1cblxuICBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaGFuZGxlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIuXG4gICAqIE5vdGUgdGhhdCBgdGhpcy5fc2Nyb2xsUmVmYCBtaWdodCBub3QgYmUgYSBgU2Nyb2xsVmlld2AsIHNvIHdlXG4gICAqIG5lZWQgdG8gY2hlY2sgdGhhdCBpdCByZXNwb25kcyB0byBgZ2V0U2Nyb2xsUmVzcG9uZGVyYCBiZWZvcmUgY2FsbGluZyBpdC5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpOiA/U2Nyb2xsUmVzcG9uZGVyVHlwZSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbGFibGVOb2RlKCk6ID9udW1iZXIge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxSZWYpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbFJlZigpOlxuICAgIHwgP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+XG4gICAgfCA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlldz4ge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZikge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZjtcbiAgICB9XG4gIH1cblxuICBzZXROYXRpdmVQcm9wcyhwcm9wczogT2JqZWN0KSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LmNlbGxLZXkgfHwgJ3Jvb3RMaXN0JztcbiAgfVxuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX2dldFNjcm9sbE1ldHJpY3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gIH07XG5cbiAgaGFzTW9yZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faGFzTW9yZTtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICB9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5hZGQoY2hpbGRMaXN0LnJlZiwgY2hpbGRMaXN0LmNlbGxLZXkpO1xuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtyZWY6IFZpcnR1YWxpemVkTGlzdH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnJlbW92ZShjaGlsZExpc3QucmVmKTtcbiAgfTtcblxuICBzdGF0ZTogU3RhdGU7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2NoZWNrUHJvcHMocHJvcHMpO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIgPSBuZXcgRmlsbFJhdGVIZWxwZXIodGhpcy5fbGlzdE1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCA/PyA1MCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtvblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCB2aWV3YWJpbGl0eUNvbmZpZ30gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKG9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcih2aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW5pdGlhbFJlbmRlclJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG5cbiAgICBjb25zdCBtaW5JbmRleEZvclZpc2libGUgPVxuICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGluaXRpYWxSZW5kZXJSZWdpb24sXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2socHJvcHMsIGluaXRpYWxSZW5kZXJSZWdpb24pLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTpcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSA+IG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHRoaXMucHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAvLyBXaGVuIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXgsIHdlIHdpbGwgcmVjZWl2ZSBhXG4gICAgICAvLyBzY3JvbGwgZXZlbnQgbGF0ZXIgc28gdGhpcyB3aWxsIHByZXZlbnQgdGhlIHdpbmRvdyBmcm9tIHVwZGF0aW5nXG4gICAgICAvLyB1bnRpbCB3ZSBnZXQgYSB2YWxpZCBvZmZzZXQuXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiAwLFxuICAgIH07XG4gIH1cblxuICBfY2hlY2tQcm9wcyhwcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7b25TY3JvbGwsIHdpbmRvd1NpemUsIGdldEl0ZW1Db3VudCwgZGF0YSwgaW5pdGlhbFNjcm9sbEluZGV4fSA9XG4gICAgICBwcm9wcztcblxuICAgIGludmFyaWFudChcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgIW9uU2Nyb2xsIHx8ICFvblNjcm9sbC5fX2lzTmF0aXZlLFxuICAgICAgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgK1xuICAgICAgICAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZSkgPiAwLFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogVGhlIHdpbmRvd1NpemUgcHJvcCBtdXN0IGJlIHByZXNlbnQgYW5kIHNldCB0byBhIHZhbHVlIGdyZWF0ZXIgdGhhbiAwLicsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSBcImdldEl0ZW1Db3VudFwiIHByb3AgbXVzdCBiZSBwcm92aWRlZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcblxuICAgIGlmIChcbiAgICAgIGluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICAhdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggJiZcbiAgICAgIChpbml0aWFsU2Nyb2xsSW5kZXggPCAwIHx8XG4gICAgICAgIChpdGVtQ291bnQgPiAwICYmIGluaXRpYWxTY3JvbGxJbmRleCA+PSBpdGVtQ291bnQpKSAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYGluaXRpYWxTY3JvbGxJbmRleCBcIiR7aW5pdGlhbFNjcm9sbEluZGV4fVwiIGlzIG5vdCB2YWxpZCAobGlzdCBoYXMgJHtpdGVtQ291bnR9IGl0ZW1zKWAsXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLmluaXRpYWxTY3JvbGxJbmRleCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18gJiYgIXRoaXMuX2hhc1dhcm5lZC5mbGV4V3JhcCkge1xuICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gU3R5bGVTaGVldC5mbGF0dGVuKHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlKTtcbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAgICdDb25zaWRlciB1c2luZyBgbnVtQ29sdW1uc2Agd2l0aCBgRmxhdExpc3RgIGluc3RlYWQuJyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmZsZXhXcmFwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICBoaW50OiA/bnVtYmVyLFxuICApOiA/bnVtYmVyIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgaWYgKGhpbnQgIT0gbnVsbCAmJiBoaW50ID49IDAgJiYgaGludCA8IGl0ZW1Db3VudCkge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBoaW50KTtcbiAgICAgIGlmIChjdXJLZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gaGludDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBpaSk7XG4gICAgICBpZiAoY3VyS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBfZ2V0SXRlbUtleShcbiAgICBwcm9wczoge1xuICAgICAgZGF0YTogUHJvcHNbJ2RhdGEnXSxcbiAgICAgIGdldEl0ZW06IFByb3BzWydnZXRJdGVtJ10sXG4gICAgICBrZXlFeHRyYWN0b3I6IFByb3BzWydrZXlFeHRyYWN0b3InXSxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBpdGVtID0gcHJvcHMuZ2V0SXRlbShwcm9wcy5kYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyk7XG4gIH1cblxuICBzdGF0aWMgX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIGFkZGl0aW9uYWxSZWdpb25zPzogPyRSZWFkT25seUFycmF5PHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9PixcbiAgKTogQ2VsbFJlbmRlck1hc2sge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPj0gMCAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCAtIDEgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50LFxuICAgICAgYEludmFsaWQgY2VsbHMgYXJvdW5kIHZpZXdwb3J0IFwiWyR7Y2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdH0sICR7Y2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0fV1cIiB3YXMgcGFzc2VkIHRvIFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFza2AsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBuZXcgQ2VsbFJlbmRlck1hc2soaXRlbUNvdW50KTtcblxuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBhbGxSZWdpb25zID0gW2NlbGxzQXJvdW5kVmlld3BvcnQsIC4uLihhZGRpdGlvbmFsUmVnaW9ucyA/PyBbXSldO1xuICAgICAgZm9yIChjb25zdCByZWdpb24gb2YgYWxsUmVnaW9ucykge1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKHJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbml0aWFsbHkgcmVuZGVyZWQgY2VsbHMgYXJlIHJldGFpbmVkIGFzIHBhcnQgb2YgdGhlXG4gICAgICAvLyBcInNjcm9sbC10by10b3BcIiBvcHRpbWl6YXRpb25cbiAgICAgIGlmIChwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPT0gbnVsbCB8fCBwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPD0gMCkge1xuICAgICAgICBjb25zdCBpbml0aWFsUmVnaW9uID0gVmlydHVhbGl6ZWRMaXN0Ll9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzKTtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhpbml0aWFsUmVnaW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGxheW91dCBjb29yZGluYXRlcyBvZiBzdGlja2VyIGhlYWRlcnMgbWF5IGJlIG9mZi1zY3JlZW4gd2hpbGUgdGhlXG4gICAgICAvLyBhY3R1YWwgaGVhZGVyIGlzIG9uLXNjcmVlbi4gS2VlcCB0aGUgbW9zdCByZWNlbnQgYmVmb3JlIHRoZSB2aWV3cG9ydFxuICAgICAgLy8gcmVuZGVyZWQsIGV2ZW4gaWYgaXRzIGxheW91dCBjb29yZGluYXRlcyBhcmUgbm90IGluIHZpZXdwb3J0LlxuICAgICAgY29uc3Qgc3RpY2t5SW5kaWNlc1NldCA9IG5ldyBTZXQocHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgICBWaXJ0dWFsaXplZExpc3QuX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGlja3lJbmRpY2VzU2V0LFxuICAgICAgICByZW5kZXJNYXNrLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyTWFzaztcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wczogUHJvcHMpOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuXG4gICAgY29uc3QgZmlyc3RDZWxsSW5kZXggPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCBNYXRoLmZsb29yKHByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA/PyAwKSksXG4gICAgKTtcblxuICAgIGNvbnN0IGxhc3RDZWxsSW5kZXggPVxuICAgICAgTWF0aC5taW4oXG4gICAgICAgIGl0ZW1Db3VudCxcbiAgICAgICAgZmlyc3RDZWxsSW5kZXggKyBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQocHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKSxcbiAgICAgICkgLSAxO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBmaXJzdENlbGxJbmRleCxcbiAgICAgIGxhc3Q6IGxhc3RDZWxsSW5kZXgsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBfZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlcihcbiAgICBwcm9wczogUHJvcHMsXG4gICAgc3RpY2t5SW5kaWNlc1NldDogU2V0PG51bWJlcj4sXG4gICAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gICAgY2VsbElkeDogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBwcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG5cbiAgICBmb3IgKGxldCBpdGVtSWR4ID0gY2VsbElkeCAtIDE7IGl0ZW1JZHggPj0gMDsgaXRlbUlkeC0tKSB7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc1NldC5oYXMoaXRlbUlkeCArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyh7Zmlyc3Q6IGl0ZW1JZHgsIGxhc3Q6IGl0ZW1JZHh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudH0gPSBwcm9wcztcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICBwcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKTtcbiAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcblxuICAgIC8vIFdhaXQgdW50aWwgdGhlIHNjcm9sbCB2aWV3IG1ldHJpY3MgaGF2ZSBiZWVuIHNldCB1cC4gQW5kIHVudGlsIHRoZW4sXG4gICAgLy8gd2Ugd2lsbCB0cnVzdCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHN1Z2dlc3Rpb25cbiAgICBpZiAodmlzaWJsZUxlbmd0aCA8PSAwIHx8IGNvbnRlbnRMZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA+PSBnZXRJdGVtQ291bnQoZGF0YSlcbiAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KGNlbGxzQXJvdW5kVmlld3BvcnQsIHByb3BzKVxuICAgICAgICA6IGNlbGxzQXJvdW5kVmlld3BvcnQ7XG4gICAgfVxuXG4gICAgbGV0IG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9O1xuICAgIGlmIChwcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24pIHtcbiAgICAgIGNvbnN0IHJlbmRlckFoZWFkID1cbiAgICAgICAgZGlzdGFuY2VGcm9tRW5kIDwgb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICAgID8gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKVxuICAgICAgICAgIDogMDtcblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydCA9IHtcbiAgICAgICAgZmlyc3Q6IDAsXG4gICAgICAgIGxhc3Q6IE1hdGgubWluKFxuICAgICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCArIHJlbmRlckFoZWFkLFxuICAgICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSAtIDEsXG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgcGVuZGluZyBzY3JvbGwgdXBkYXRlLCB3ZSBzaG91bGQgbm90IGFkanVzdCB0aGUgcmVuZGVyIHdpbmRvdyBhcyBpdFxuICAgICAgLy8gbWlnaHQgb3ZlcnJpZGUgdGhlIGNvcnJlY3Qgd2luZG93LlxuICAgICAgaWYgKHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA+PSBnZXRJdGVtQ291bnQoZGF0YSlcbiAgICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoY2VsbHNBcm91bmRWaWV3cG9ydCwgcHJvcHMpXG4gICAgICAgICAgOiBjZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgICAgfVxuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0ID0gY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAgICAgd2luZG93U2l6ZU9yRGVmYXVsdChwcm9wcy53aW5kb3dTaXplKSxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgICdjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoKSBzaG91bGQgcmV0dXJuIHJhbmdlIGluLWJvdW5kcycsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNpemUoKSA+IDApIHtcbiAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgLy8gdXAgdGhyb3VnaCB0aGF0IGl0ZW0sIHNvIHRoYXQgd2UgZ2l2ZSB0aGF0IGxpc3QgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuXG4gICAgICAvLyBXaWxsIHRoaXMgcHJldmVudCByZW5kZXJpbmcgaWYgdGhlIG5lc3RlZCBsaXN0IGRvZXNuJ3QgcmVhbGl6ZSB0aGUgZW5kP1xuICAgICAgY29uc3QgY2hpbGRJZHggPSB0aGlzLl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlKFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QsXG4gICAgICApO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPSBjaGlsZElkeCA/PyBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ7XG4gIH1cblxuICBfZmluZEZpcnN0Q2hpbGRXaXRoTW9yZShmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxLZXlGb3JJbmRleCAhPSBudWxsICYmXG4gICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuYW55SW5DZWxsKGNlbGxLZXlGb3JJbmRleCwgY2hpbGRMaXN0ID0+XG4gICAgICAgICAgY2hpbGRMaXN0Lmhhc01vcmUoKSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBpaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgY2VsbEtleTogdGhpcy5jb250ZXh0LmNlbGxLZXksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7cmVmOiB0aGlzfSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLmRpc3Bvc2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5kZWFjdGl2YXRlQW5kRmx1c2goKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV3UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlKTogU3RhdGUge1xuICAgIC8vIGZpcnN0IGFuZCBsYXN0IGNvdWxkIGJlIHN0YWxlIChlLmcuIGlmIGEgbmV3LCBzaG9ydGVyIGl0ZW1zIHByb3BzIGlzIHBhc3NlZCBpbiksIHNvIHdlIG1ha2VcbiAgICAvLyBzdXJlIHdlJ3JlIHJlbmRlcmluZyBhIHJlYXNvbmFibGUgcmFuZ2UgaGVyZS5cbiAgICBjb25zdCBpdGVtQ291bnQgPSBuZXdQcm9wcy5nZXRJdGVtQ291bnQobmV3UHJvcHMuZGF0YSk7XG4gICAgaWYgKGl0ZW1Db3VudCA9PT0gcHJldlN0YXRlLnJlbmRlck1hc2subnVtQ2VsbHMoKSkge1xuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICB9XG5cbiAgICBsZXQgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudDogP251bWJlciA9IG51bGw7XG4gICAgY29uc3QgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkgPSBwcmV2U3RhdGUuZmlyc3RWaXNpYmxlSXRlbUtleTtcbiAgICBjb25zdCBtaW5JbmRleEZvclZpc2libGUgPVxuICAgICAgbmV3UHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uPy5taW5JbmRleEZvclZpc2libGUgPz8gMDtcbiAgICBjb25zdCBuZXdGaXJzdFZpc2libGVJdGVtS2V5ID1cbiAgICAgIG5ld1Byb3BzLmdldEl0ZW1Db3VudChuZXdQcm9wcy5kYXRhKSA+IG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShuZXdQcm9wcywgbWluSW5kZXhGb3JWaXNpYmxlKVxuICAgICAgICA6IG51bGw7XG4gICAgaWYgKFxuICAgICAgbmV3UHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uICE9IG51bGwgJiZcbiAgICAgIHByZXZGaXJzdFZpc2libGVJdGVtS2V5ICE9IG51bGwgJiZcbiAgICAgIG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkgIT0gbnVsbFxuICAgICkge1xuICAgICAgaWYgKG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkgIT09IHByZXZGaXJzdFZpc2libGVJdGVtS2V5KSB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBpZiBpdGVtcyB3ZXJlIGFkZGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgbGlzdC5cbiAgICAgICAgY29uc3QgaGludCA9XG4gICAgICAgICAgaXRlbUNvdW50IC0gcHJldlN0YXRlLnJlbmRlck1hc2subnVtQ2VsbHMoKSArIG1pbkluZGV4Rm9yVmlzaWJsZTtcbiAgICAgICAgY29uc3QgZmlyc3RWaXNpYmxlSXRlbUluZGV4ID0gVmlydHVhbGl6ZWRMaXN0Ll9maW5kSXRlbUluZGV4V2l0aEtleShcbiAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSxcbiAgICAgICAgICBoaW50LFxuICAgICAgICApO1xuICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ID1cbiAgICAgICAgICBmaXJzdFZpc2libGVJdGVtSW5kZXggIT0gbnVsbFxuICAgICAgICAgICAgPyBmaXJzdFZpc2libGVJdGVtSW5kZXggLSBtaW5JbmRleEZvclZpc2libGVcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnN0cmFpbmVkQ2VsbHMgPSBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KFxuICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCAhPSBudWxsXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZmlyc3Q6XG4gICAgICAgICAgICAgIHByZXZTdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ICtcbiAgICAgICAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCxcbiAgICAgICAgICAgIGxhc3Q6XG4gICAgICAgICAgICAgIHByZXZTdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgK1xuICAgICAgICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50LFxuICAgICAgICAgIH1cbiAgICAgICAgOiBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgIG5ld1Byb3BzLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydDogY29uc3RyYWluZWRDZWxscyxcbiAgICAgIHJlbmRlck1hc2s6IFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFzayhuZXdQcm9wcywgY29uc3RyYWluZWRDZWxscyksXG4gICAgICBmaXJzdFZpc2libGVJdGVtS2V5OiBuZXdGaXJzdFZpc2libGVJdGVtS2V5LFxuICAgICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OlxuICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ICE9IG51bGxcbiAgICAgICAgICA/IHByZXZTdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgKyAxXG4gICAgICAgICAgOiBwcmV2U3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50LFxuICAgIH07XG4gIH1cblxuICBfcHVzaENlbGxzKFxuICAgIGNlbGxzOiBBcnJheTxPYmplY3Q+LFxuICAgIHN0aWNreUhlYWRlckluZGljZXM6IEFycmF5PG51bWJlcj4sXG4gICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wczogU2V0PG51bWJlcj4sXG4gICAgZmlyc3Q6IG51bWJlcixcbiAgICBsYXN0OiBudW1iZXIsXG4gICAgaW52ZXJzaW9uU3R5bGU6IFZpZXdTdHlsZVByb3AsXG4gICkge1xuICAgIGNvbnN0IHtcbiAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICBMaXN0SGVhZGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEl0ZW1Db21wb25lbnQsXG4gICAgICBkYXRhLFxuICAgICAgZGVidWcsXG4gICAgICBnZXRJdGVtLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIGhvcml6b250YWwsXG4gICAgICByZW5kZXJJdGVtLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IExpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxO1xuICAgIGxldCBwcmV2Q2VsbEtleTtcbiAgICBsYXN0ID0gTWF0aC5taW4oZW5kLCBsYXN0KTtcblxuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIGNvbnN0IGtleSA9IFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGlpLCB0aGlzLnByb3BzKTtcblxuICAgICAgdGhpcy5faW5kaWNlc1RvS2V5cy5zZXQoaWksIGtleSk7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaChjZWxscy5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzaG91bGRMaXN0ZW5Gb3JMYXlvdXQgPVxuICAgICAgICBnZXRJdGVtTGF5b3V0ID09IG51bGwgfHwgZGVidWcgfHwgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZW5hYmxlZCgpO1xuXG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Q2VsbFJlbmRlcmVyXG4gICAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PXtDZWxsUmVuZGVyZXJDb21wb25lbnR9XG4gICAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17aWkgPCBlbmQgPyBJdGVtU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkfVxuICAgICAgICAgIExpc3RJdGVtQ29tcG9uZW50PXtMaXN0SXRlbUNvbXBvbmVudH1cbiAgICAgICAgICBjZWxsS2V5PXtrZXl9XG4gICAgICAgICAgaG9yaXpvbnRhbD17aG9yaXpvbnRhbH1cbiAgICAgICAgICBpbmRleD17aWl9XG4gICAgICAgICAgaW52ZXJzaW9uU3R5bGU9e2ludmVyc2lvblN0eWxlfVxuICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgcHJldkNlbGxLZXk9e3ByZXZDZWxsS2V5fVxuICAgICAgICAgIG9uVXBkYXRlU2VwYXJhdG9ycz17dGhpcy5fb25VcGRhdGVTZXBhcmF0b3JzfVxuICAgICAgICAgIG9uQ2VsbEZvY3VzQ2FwdHVyZT17dGhpcy5fb25DZWxsRm9jdXNDYXB0dXJlfVxuICAgICAgICAgIG9uVW5tb3VudD17dGhpcy5fb25DZWxsVW5tb3VudH1cbiAgICAgICAgICByZWY9e3JlZiA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jZWxsUmVmc1trZXldID0gcmVmO1xuICAgICAgICAgIH19XG4gICAgICAgICAgcmVuZGVySXRlbT17cmVuZGVySXRlbX1cbiAgICAgICAgICB7Li4uKHNob3VsZExpc3RlbkZvckxheW91dCAmJiB7XG4gICAgICAgICAgICBvbkNlbGxMYXlvdXQ6IHRoaXMuX29uQ2VsbExheW91dCxcbiAgICAgICAgICB9KX1cbiAgICAgICAgLz4sXG4gICAgICApO1xuICAgICAgcHJldkNlbGxLZXkgPSBrZXk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9jb25zdHJhaW5Ub0l0ZW1Db3VudChcbiAgICBjZWxsczoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICAgcHJvcHM6IFByb3BzLFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuICAgIGNvbnN0IGxhc3RQb3NzaWJsZUNlbGxJbmRleCA9IGl0ZW1Db3VudCAtIDE7XG5cbiAgICAvLyBDb25zdHJhaW5pbmcgYGxhc3RgIG1heSBzaWduaWZpY2FudGx5IHNocmluayB0aGUgd2luZG93LiBBZGp1c3QgYGZpcnN0YFxuICAgIC8vIHRvIGV4cGFuZCB0aGUgd2luZG93IGlmIHRoZSBuZXcgYGxhc3RgIHJlc3VsdHMgaW4gYSBuZXcgd2luZG93IHNtYWxsZXJcbiAgICAvLyB0aGFuIHRoZSBudW1iZXIgb2YgY2VsbHMgcmVuZGVyZWQgcGVyIGJhdGNoLlxuICAgIGNvbnN0IG1heFRvUmVuZGVyUGVyQmF0Y2ggPSBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KFxuICAgICAgcHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCxcbiAgICApO1xuICAgIGNvbnN0IG1heEZpcnN0ID0gTWF0aC5tYXgoMCwgbGFzdFBvc3NpYmxlQ2VsbEluZGV4IC0gbWF4VG9SZW5kZXJQZXJCYXRjaCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGNsYW1wKDAsIGNlbGxzLmZpcnN0LCBtYXhGaXJzdCksXG4gICAgICBsYXN0OiBNYXRoLm1pbihsYXN0UG9zc2libGVDZWxsSW5kZXgsIGNlbGxzLmxhc3QpLFxuICAgIH07XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiZcbiAgICAgICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICApO1xuICB9XG5cbiAgX2dldFNwYWNlcktleSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogc3RyaW5nID0+XG4gICAgaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICBzdGF0aWMgX2tleUV4dHJhY3RvcihcbiAgICBpdGVtOiBJdGVtLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcHJvcHM6IHtcbiAgICAgIGtleUV4dHJhY3Rvcj86ID8oaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICAgICAgLi4uXG4gICAgfSxcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAocHJvcHMua2V5RXh0cmFjdG9yICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBwcm9wcy5rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IGRlZmF1bHRLZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIGlmIChrZXkgPT09IFN0cmluZyhpbmRleCkpIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSB0cnVlO1xuICAgICAgaWYgKGl0ZW0udHlwZSAmJiBpdGVtLnR5cGUuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9IGl0ZW0udHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICB0aGlzLl9jaGVja1Byb3BzKHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IHtMaXN0RW1wdHlDb21wb25lbnQsIExpc3RGb290ZXJDb21wb25lbnQsIExpc3RIZWFkZXJDb21wb25lbnR9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2RhdGEsIGhvcml6b250YWx9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpbnZlcnNpb25TdHlsZSA9IHRoaXMucHJvcHMuaW52ZXJ0ZWRcbiAgICAgID8gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8gc3R5bGVzLmhvcml6b250YWxseUludmVydGVkXG4gICAgICAgIDogc3R5bGVzLnZlcnRpY2FsbHlJbnZlcnRlZFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNlbGxzOiBBcnJheTxhbnkgfCBSZWFjdC5Ob2RlPiA9IFtdO1xuICAgIGNvbnN0IHN0aWNreUluZGljZXNGcm9tUHJvcHMgPSBuZXcgU2V0KHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgY29uc3Qgc3RpY2t5SGVhZGVySW5kaWNlcyA9IFtdO1xuXG4gICAgLy8gMS4gQWRkIGNlbGwgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgLy8gV2UgZXhwZWN0IHRoYXQgaGVhZGVyIGNvbXBvbmVudCB3aWxsIGJlIGEgc2luZ2xlIG5hdGl2ZSB2aWV3IHNvIG1ha2UgaXRcbiAgICAgICAgICAgIC8vIG5vdCBjb2xsYXBzYWJsZSB0byBhdm9pZCB0aGlzIHZpZXcgYmVpbmcgZmxhdHRlbmVkIGFuZCBtYWtlIHRoaXMgYXNzdW1wdGlvblxuICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIHRydWUuXG4gICAgICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRIZWFkZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDJhLiBBZGQgYSBjZWxsIGZvciBMaXN0RW1wdHlDb21wb25lbnQgaWYgYXBwbGljYWJsZVxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPT09IDAgJiYgTGlzdEVtcHR5Q29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50OiBFeGFjdFJlYWN0RWxlbWVudF9ERVBSRUNBVEVEPGFueT4gPSAoKFJlYWN0LmlzVmFsaWRFbGVtZW50KFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICApID8gKFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RFbXB0eUNvbXBvbmVudCAvPlxuICAgICAgKSk6IGFueSk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctZW1wdHknfVxuICAgICAgICAgIGtleT1cIiRlbXB0eVwiPlxuICAgICAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgICAgICAgb25MYXlvdXQ6IChldmVudDogTGF5b3V0RXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fb25MYXlvdXRFbXB0eShldmVudCk7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBSZWFjdC5FbGVtZW50IGludGVybmFsIGluc3BlY3Rpb25cbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJvcHMub25MYXlvdXQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBSZWFjdC5FbGVtZW50IGludGVybmFsIGluc3BlY3Rpb25cbiAgICAgICAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIGVsZW1lbnQucHJvcHMuc3R5bGUpLFxuICAgICAgICAgIH0pfVxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAyYi4gQWRkIGNlbGxzIGFuZCBzcGFjZXJzIGZvciBlYWNoIGl0ZW1cbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xuICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuICAgICAgY29uc3Qgc3BhY2VyS2V5ID0gdGhpcy5fZ2V0U3BhY2VyS2V5KCFob3Jpem9udGFsKTtcblxuICAgICAgY29uc3QgcmVuZGVyUmVnaW9ucyA9IHRoaXMuc3RhdGUucmVuZGVyTWFzay5lbnVtZXJhdGVSZWdpb25zKCk7XG4gICAgICBjb25zdCBsYXN0UmVnaW9uID0gcmVuZGVyUmVnaW9uc1tyZW5kZXJSZWdpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgbGFzdFNwYWNlciA9IGxhc3RSZWdpb24/LmlzU3BhY2VyID8gbGFzdFJlZ2lvbiA6IG51bGw7XG5cbiAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiByZW5kZXJSZWdpb25zKSB7XG4gICAgICAgIGlmIChzZWN0aW9uLmlzU3BhY2VyKSB7XG4gICAgICAgICAgLy8gTGVnYWN5IGJlaGF2aW9yIGlzIHRvIGF2b2lkIHNwYWNlcnMgd2hlbiB2aXJ0dWFsaXphdGlvbiBpc1xuICAgICAgICAgIC8vIGRpc2FibGVkIChpbmNsdWRpbmcgaGVhZCBzcGFjZXJzIG9uIGluaXRpYWwgcmVuZGVyKS5cbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFdpdGhvdXQgZ2V0SXRlbUxheW91dCwgd2UgbGltaXQgb3VyIHRhaWwgc3BhY2VyIHRvIHRoZSBfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCB0b1xuICAgICAgICAgIC8vIHByZXZlbnQgdGhlIHVzZXIgZm9yIGh5cGVyc2Nyb2xsaW5nIGludG8gdW4tbWVhc3VyZWQgYXJlYSBiZWNhdXNlIG90aGVyd2lzZSBjb250ZW50IHdpbGxcbiAgICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgY29uc3QgaXNMYXN0U3BhY2VyID0gc2VjdGlvbiA9PT0gbGFzdFNwYWNlcjtcbiAgICAgICAgICBjb25zdCBjb25zdHJhaW5Ub01lYXN1cmVkID0gaXNMYXN0U3BhY2VyICYmICF0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQ7XG4gICAgICAgICAgY29uc3QgbGFzdCA9IGNvbnN0cmFpblRvTWVhc3VyZWRcbiAgICAgICAgICAgID8gY2xhbXAoXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5maXJzdCAtIDEsXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5sYXN0LFxuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCgpLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IHNlY3Rpb24ubGFzdDtcblxuICAgICAgICAgIGNvbnN0IGZpcnN0TWV0cmljcyA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICAgICAgc2VjdGlvbi5maXJzdCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBsYXN0TWV0cmljcyA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICAgICAgbGFzdCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBzcGFjZXJTaXplID1cbiAgICAgICAgICAgIGxhc3RNZXRyaWNzLm9mZnNldCArIGxhc3RNZXRyaWNzLmxlbmd0aCAtIGZpcnN0TWV0cmljcy5vZmZzZXQ7XG4gICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICAgIGtleT17YCRzcGFjZXItJHtzZWN0aW9uLmZpcnN0fWB9XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICAgICAgIHN0eWxlPXt7W3NwYWNlcktleV06IHNwYWNlclNpemV9fVxuICAgICAgICAgICAgLz4sXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgICAgICBjZWxscyxcbiAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICAgICAgc2VjdGlvbi5maXJzdCxcbiAgICAgICAgICAgIHNlY3Rpb24ubGFzdCxcbiAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWQua2V5cyAmJiBfdXNlZEluZGV4Rm9yS2V5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBtaXNzaW5nIGtleXMgZm9yIGl0ZW1zLCBtYWtlIHN1cmUgdG8gc3BlY2lmeSBhIGtleSBvciBpZCBwcm9wZXJ0eSBvbiBlYWNoICcgK1xuICAgICAgICAgICAgJ2l0ZW0gb3IgcHJvdmlkZSBhIGN1c3RvbSBrZXlFeHRyYWN0b3IuJyxcbiAgICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9oYXNXYXJuZWQua2V5cyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMy4gQWRkIGNlbGwgZm9yIExpc3RGb290ZXJDb21wb25lbnRcbiAgICBpZiAoTGlzdEZvb3RlckNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IFJlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQpID8gKFxuICAgICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0Rm9vdGVyQ29tcG9uZW50IC8+XG4gICAgICApO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRGb290ZXJDZWxsS2V5KCl9XG4gICAgICAgICAga2V5PVwiJGZvb3RlclwiPlxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRGb290ZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDQuIFJlbmRlciB0aGUgU2Nyb2xsVmlld1xuICAgIGNvbnN0IHNjcm9sbFByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IHRoaXMuX29uQ29udGVudFNpemVDaGFuZ2UsXG4gICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXQsXG4gICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX29uU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIC8vIGlPUy9tYWNPUyByZXF1aXJlcyBhIG5vbi16ZXJvIHNjcm9sbEV2ZW50VGhyb3R0bGUgdG8gZmlyZSBtb3JlIHRoYW4gYVxuICAgICAgLy8gc2luZ2xlIG5vdGlmaWNhdGlvbiB3aGlsZSBzY3JvbGxpbmcuIFRoaXMgd2lsbCBvdGhlcndpc2Ugbm8tb3AuXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUgPz8gMC4wMDAxLFxuICAgICAgaW52ZXJ0U3RpY2t5SGVhZGVyczpcbiAgICAgICAgdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc1xuICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcbiAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICBzdHlsZTogaW52ZXJzaW9uU3R5bGVcbiAgICAgICAgPyBbaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdXG4gICAgICAgIDogdGhpcy5wcm9wcy5zdHlsZSxcbiAgICAgIGlzSW52ZXJ0ZWRWaXJ0dWFsaXplZExpc3Q6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb246XG4gICAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uICE9IG51bGxcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgLi4udGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24sXG4gICAgICAgICAgICAgIC8vIEFkanVzdCBpbmRleCB0byBhY2NvdW50IGZvciBMaXN0SGVhZGVyQ29tcG9uZW50LlxuICAgICAgICAgICAgICBtaW5JbmRleEZvclZpc2libGU6XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24ubWluSW5kZXhGb3JWaXNpYmxlICtcbiAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDApLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH07XG5cbiAgICB0aGlzLl9oYXNNb3JlID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBpdGVtQ291bnQgLSAxO1xuXG4gICAgY29uc3QgaW5uZXJSZXQgPSAoXG4gICAgICA8VmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyXG4gICAgICAgIHZhbHVlPXt7XG4gICAgICAgICAgY2VsbEtleTogbnVsbCxcbiAgICAgICAgICBnZXRTY3JvbGxNZXRyaWNzOiB0aGlzLl9nZXRTY3JvbGxNZXRyaWNzLFxuICAgICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSxcbiAgICAgICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiB0aGlzLl9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmLFxuICAgICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fcmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgfX0+XG4gICAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZW5kZXJTY3JvbGxDb21wb25lbnQgfHxcbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnRcbiAgICAgICAgICApKHNjcm9sbFByb3BzKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZWY6IHRoaXMuX2NhcHR1cmVTY3JvbGxSZWYsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjZWxscyxcbiAgICAgICAgKX1cbiAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gICAgbGV0IHJldDogUmVhY3QuTm9kZSA9IGlubmVyUmV0O1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICByZXQgPSAoXG4gICAgICAgIDxTY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAge3Njcm9sbENvbnRleHQgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzY3JvbGxDb250ZXh0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIXNjcm9sbENvbnRleHQuaG9yaXpvbnRhbCA9PT1cbiAgICAgICAgICAgICAgICAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpICYmXG4gICAgICAgICAgICAgICF0aGlzLl9oYXNXYXJuZWQubmVzdGluZyAmJlxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPT0gbnVsbCAmJlxuICAgICAgICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEVuYWJsZWQgIT09IGZhbHNlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyBzaG91bGQgbmV2ZXIgYmUgbmVzdGVkIGluc2lkZSBwbGFpbiBTY3JvbGxWaWV3cyB3aXRoIHRoZSBzYW1lICcgK1xuICAgICAgICAgICAgICAgICAgJ29yaWVudGF0aW9uIGJlY2F1c2UgaXQgY2FuIGJyZWFrIHdpbmRvd2luZyBhbmQgb3RoZXIgZnVuY3Rpb25hbGl0eSAtIHVzZSBhbm90aGVyICcgK1xuICAgICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdC1iYWNrZWQgY29udGFpbmVyIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlubmVyUmV0O1xuICAgICAgICAgIH19XG4gICAgICAgIDwvU2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMuZGVidWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuZGVidWd9PlxuICAgICAgICAgIHtyZXR9XG4gICAgICAgICAge3RoaXMuX3JlbmRlckRlYnVnT3ZlcmxheSgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge2RhdGEsIGV4dHJhRGF0YSwgZ2V0SXRlbUxheW91dH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIC8vIGNsZWFyIHRoZSB2aWV3YWJsZUluZGljZXMgY2FjaGUgdG8gYWxzbyB0cmlnZ2VyXG4gICAgICAvLyB0aGUgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCBjYWxsYmFjayB3aXRoIHRoZSBuZXcgZGF0YVxuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlc2V0Vmlld2FibGVJbmRpY2VzKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gVGhlIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGlzIGd1YXJhbnRlZWluZyBhIGhpUHJpIGNlbGwgdXBkYXRlIHdpbGwgb25seSBoYXBwZW5cbiAgICAvLyBvbmNlIHBlciBmaWJlciB1cGRhdGUuIFRoZSBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBzZXQgaXQgdG8gdHJ1ZVxuICAgIC8vIGlmIGEgaGlQcmkgdXBkYXRlIG5lZWRzIHRvIHBlcmZvcm0uIElmIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIHRyaWdnZXJlZCB3aXRoXG4gICAgLy8gYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcz10cnVlYCwgbWVhbnMgaXQncyB0cmlnZ2VyZWQgYnkgdGhlIGhpUHJpIHVwZGF0ZS4gVGhlXG4gICAgLy8gYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgY2hlY2sgdGhpcyBjb25kaXRpb24gYW5kIG5vdCBwZXJmb3JtXG4gICAgLy8gYW5vdGhlciBoaVByaSB1cGRhdGUuXG4gICAgY29uc3QgaGlQcmlJblByb2dyZXNzID0gdGhpcy5faGlQcmlJblByb2dyZXNzO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIC8vIE1ha2Ugc3VyZSBzZXR0aW5nIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGJhY2sgdG8gZmFsc2UgYWZ0ZXIgYGNvbXBvbmVudERpZFVwZGF0ZWBcbiAgICAvLyBpcyB0cmlnZ2VyZWQgd2l0aCBgdGhpcy5faGlQcmlJblByb2dyZXNzID0gdHJ1ZWBcbiAgICBpZiAoaGlQcmlJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBXZSBvbmx5IGNhbGwgYG9uRW5kUmVhY2hlZGAgYWZ0ZXIgd2UgcmVuZGVyIHRoZSBsYXN0IGNlbGwsIGJ1dCB3aGVuXG4gICAgLy8gZ2V0SXRlbUxheW91dCBpcyBwcmVzZW50LCB3ZSBjYW4gc2Nyb2xsIHBhc3QgdGhlIGxhc3QgcmVuZGVyZWQgY2VsbCwgYW5kXG4gICAgLy8gbmV2ZXIgdHJpZ2dlciBhIG5ldyBsYXlvdXQgb3IgYm91bmRzIGNoYW5nZSwgc28gd2UgbmVlZCB0byBjaGVjayBhZ2FpblxuICAgIC8vIGFmdGVyIHJlbmRlcmluZyBtb3JlIGNlbGxzLlxuICAgIGlmIChnZXRJdGVtTGF5b3V0ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKTtcbiAgICB9XG4gIH1cblxuICBfY2VsbFJlZnM6IHtbc3RyaW5nXTogbnVsbCB8IENlbGxSZW5kZXJlcjxhbnk+fSA9IHt9O1xuICBfZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyO1xuICBfbGlzdE1ldHJpY3M6IExpc3RNZXRyaWNzQWdncmVnYXRvciA9IG5ldyBMaXN0TWV0cmljc0FnZ3JlZ2F0b3IoKTtcbiAgX2Zvb3Rlckxlbmd0aCA9IDA7XG4gIC8vIFVzZWQgZm9yIHByZXZlbnRpbmcgc2Nyb2xsVG9JbmRleCBmcm9tIGJlaW5nIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBmb3IgaW5pdGlhbFNjcm9sbEluZGV4XG4gIF9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCA9IGZhbHNlO1xuICBfaGFzSW50ZXJhY3RlZCA9IGZhbHNlO1xuICBfaGFzTW9yZSA9IGZhbHNlO1xuICBfaGFzV2FybmVkOiB7W3N0cmluZ106IGJvb2xlYW59ID0ge307XG4gIF9oZWFkZXJMZW5ndGggPSAwO1xuICBfaGlQcmlJblByb2dyZXNzOiBib29sZWFuID0gZmFsc2U7IC8vIGZsYWcgdG8gcHJldmVudCBpbmZpbml0ZSBoaVByaSBjZWxsIGxpbWl0IHVwZGF0ZVxuICBfaW5kaWNlc1RvS2V5czogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcbiAgX2xhc3RGb2N1c2VkQ2VsbEtleTogP3N0cmluZyA9IG51bGw7XG4gIF9uZXN0ZWRDaGlsZExpc3RzOiBDaGlsZExpc3RDb2xsZWN0aW9uPFZpcnR1YWxpemVkTGlzdD4gPVxuICAgIG5ldyBDaGlsZExpc3RDb2xsZWN0aW9uKCk7XG4gIF9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OiBudW1iZXIgPSAwO1xuICBfcGVuZGluZ1ZpZXdhYmlsaXR5VXBkYXRlOiBib29sZWFuID0gZmFsc2U7XG4gIF9wcmV2UGFyZW50T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfc2Nyb2xsTWV0cmljczoge1xuICAgIGRPZmZzZXQ6IG51bWJlcixcbiAgICBkdDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIHRpbWVzdGFtcDogbnVtYmVyLFxuICAgIHZlbG9jaXR5OiBudW1iZXIsXG4gICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgIHpvb21TY2FsZTogbnVtYmVyLFxuICB9ID0ge1xuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgICB6b29tU2NhbGU6IDEsXG4gIH07XG4gIF9zY3JvbGxSZWY6ID9SZWFjdC5FbGVtZW50UmVmPGFueT4gPSBudWxsO1xuICBfc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlcjogQmF0Y2hpbmF0b3I7XG4gIF92aWV3YWJpbGl0eVR1cGxlczogQXJyYXk8Vmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlPiA9IFtdO1xuXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAgICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgKTtcbiAgfVxuXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAgICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBwcm9wcyA9PiB7XG4gICAgY29uc3Qgb25SZWZyZXNoID0gcHJvcHMub25SZWZyZXNoO1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gUHJldmVudCBWaXJ0dWFsaXplZExpc3QuX29uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBiZWluZyB0cmlnZ2VyZWQgYnkgYSBidWJibGluZyBvbkNvbnRlbnRTaXplQ2hhbmdlIGV2ZW50LlxuICAgICAgLy8gVGhpcyBjb3VsZCBsZWFkIHRvIGludGVybmFsIGluY29uc2lzdGVuY2llcyB3aXRoaW4gVmlydHVhbGl6ZWRMaXN0LlxuICAgICAgY29uc3Qge29uQ29udGVudFNpemVDaGFuZ2UsIC4uLm90aGVyUHJvcHN9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gPFZpZXcgey4uLm90aGVyUHJvcHN9IC8+O1xuICAgIH0gZWxzZSBpZiAob25SZWZyZXNoKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBwcm9wcy5yZWZyZXNoaW5nID09PSAnYm9vbGVhbicsXG4gICAgICAgICdgcmVmcmVzaGluZ2AgcHJvcCBtdXN0IGJlIHNldCBhcyBhIGJvb2xlYW4gaW4gb3JkZXIgdG8gdXNlIGBvblJlZnJlc2hgLCBidXQgZ290IGAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9wcy5yZWZyZXNoaW5nID8/ICd1bmRlZmluZWQnKSArXG4gICAgICAgICAgJ2AnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgICA8U2Nyb2xsVmlld1xuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICByZWZyZXNoQ29udHJvbD17XG4gICAgICAgICAgICBwcm9wcy5yZWZyZXNoQ29udHJvbCA9PSBudWxsID8gKFxuICAgICAgICAgICAgICA8UmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXVxuICAgICAgICAgICAgICAgIHJlZnJlc2hpbmc9e3Byb3BzLnJlZnJlc2hpbmd9XG4gICAgICAgICAgICAgICAgb25SZWZyZXNoPXtvblJlZnJlc2h9XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PXtwcm9wcy5wcm9ncmVzc1ZpZXdPZmZzZXR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBwcm9wcy5yZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH1cbiAgfTtcblxuICBfb25DZWxsTGF5b3V0ID0gKFxuICAgIGU6IExheW91dEV2ZW50LFxuICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICBjZWxsSW5kZXg6IG51bWJlcixcbiAgKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbGF5b3V0SGFzQ2hhbmdlZCA9IHRoaXMuX2xpc3RNZXRyaWNzLm5vdGlmeUNlbGxMYXlvdXQoe1xuICAgICAgY2VsbEluZGV4LFxuICAgICAgY2VsbEtleSxcbiAgICAgIGxheW91dDogZS5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICBvcmllbnRhdGlvbjogdGhpcy5fb3JpZW50YXRpb24oKSxcbiAgICB9KTtcblxuICAgIGlmIChsYXlvdXRIYXNDaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5KTtcbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICB9O1xuXG4gIF9vbkNlbGxGb2N1c0NhcHR1cmUgPSAoY2VsbEtleTogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ID0gY2VsbEtleTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gIH07XG5cbiAgX29uQ2VsbFVubW91bnQgPSAoY2VsbEtleTogc3RyaW5nKSA9PiB7XG4gICAgZGVsZXRlIHRoaXMuX2NlbGxSZWZzW2NlbGxLZXldO1xuICAgIHRoaXMuX2xpc3RNZXRyaWNzLm5vdGlmeUNlbGxVbm1vdW50ZWQoY2VsbEtleSk7XG4gIH07XG5cbiAgX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKGNlbGxLZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaEluQ2VsbChjZWxsS2V5LCBjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Lm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTogdm9pZCB7XG4gICAgLy8gVE9ETyAoVDM1NTc0NTM4KTogZmluZE5vZGVIYW5kbGUgc29tZXRpbWVzIGNyYXNoZXMgd2l0aCBcIlVuYWJsZSB0byBmaW5kXG4gICAgLy8gbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50XCIgZHVyaW5nIHNjcm9sbGluZ1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBXZSBhcmUgYXNzdW1pbmcgdGhhdCBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCkuZ2V0U2Nyb2xsUmVmKClcbiAgICAgIC8vIGlzIGEgbm9uLW51bGwgcmVmZXJlbmNlIHRvIGEgU2Nyb2xsVmlld1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIHRoaXMuY29udGV4dC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCkuZ2V0U2Nyb2xsUmVmKCksXG4gICAgICAgICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCA9IHRoaXMuX3NlbGVjdE9mZnNldCh7eCwgeX0pO1xuICAgICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLm5vdGlmeUxpc3RDb250ZW50TGF5b3V0KHtcbiAgICAgICAgICAgIGxheW91dDoge3dpZHRoLCBoZWlnaHR9LFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHRoaXMuX29yaWVudGF0aW9uKCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsTWV0cmljcyA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdldFNjcm9sbE1ldHJpY3MoKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgbWV0cmljc0NoYW5nZWQgPVxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoICE9PSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggfHxcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ICE9PSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgIGlmIChtZXRyaWNzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgPSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgICAgLy8gSWYgbWV0cmljcyBvZiB0aGUgc2Nyb2xsVmlldyBjaGFuZ2VkLCB0aGVuIHdlIHRyaWdnZXJlZCByZW1lYXN1cmUgZm9yIGNoaWxkIGxpc3RcbiAgICAgICAgICAgIC8vIHRvIGVuc3VyZSBWaXJ0dWFsaXplZExpc3QgaGFzIHRoZSByaWdodCBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgICAgICAgICBjaGlsZExpc3QubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJWaXJ0dWFsaXplZExpc3Q6IEVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIG1lYXN1cmluZyBhIGxpc3Qnc1wiICtcbiAgICAgICAgICAgICAgJyBvZmZzZXQgZnJvbSBpdHMgY29udGFpbmluZyBWaXJ0dWFsaXplZExpc3QuJyxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCB0aHJldyBhbiBlcnJvcicsXG4gICAgICAgIGVycm9yLnN0YWNrLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfb25MYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgLy8gVmlydHVhbGl6ZWRMaXN0IGJlZm9yZSB3ZSBjYW4gbWFrZSBjbGFpbXMgYWJvdXQgbGlzdCBpdGVtIHZpZXdhYmlsaXR5XG4gICAgICB0aGlzLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKFxuICAgICAgICBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gIH07XG5cbiAgX29uTGF5b3V0RW1wdHkgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gIH07XG5cbiAgX2dldEZvb3RlckNlbGxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInO1xuICB9XG5cbiAgX29uTGF5b3V0Rm9vdGVyID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwodGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpKTtcbiAgICB0aGlzLl9mb290ZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9vbkxheW91dEhlYWRlciA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMuX2hlYWRlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfcmVuZGVyRGVidWdPdmVybGF5KCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggL1xuICAgICAgKHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSB8fCAxKTtcbiAgICBjb25zdCBmcmFtZXNJbkxheW91dCA9IFtdO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChpaSwgdGhpcy5wcm9wcyk7XG4gICAgICBpZiAoZnJhbWUuaXNNb3VudGVkKSB7XG4gICAgICAgIGZyYW1lc0luTGF5b3V0LnB1c2goZnJhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3aW5kb3dUb3AgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKS5vZmZzZXQ7XG4gICAgY29uc3QgZnJhbWVMYXN0ID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKTtcbiAgICBjb25zdCB3aW5kb3dMZW4gPSBmcmFtZUxhc3Qub2Zmc2V0ICsgZnJhbWVMYXN0Lmxlbmd0aCAtIHdpbmRvd1RvcDtcbiAgICBjb25zdCB2aXNUb3AgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCB2aXNMZW4gPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuZGVidWdPdmVybGF5QmFzZSwgc3R5bGVzLmRlYnVnT3ZlcmxheV19PlxuICAgICAgICB7ZnJhbWVzSW5MYXlvdXQubWFwKChmLCBpaSkgPT4gKFxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBrZXk9eydmJyArIGlpfVxuICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmLmxlbmd0aCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lTGFzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogd2luZG93TGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZVZpcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB2aXNUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfc2VsZWN0TGVuZ3RoKFxuICAgIG1ldHJpY3M6ICRSZWFkT25seTx7XG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9PixcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgPyBtZXRyaWNzLmhlaWdodFxuICAgICAgOiBtZXRyaWNzLndpZHRoO1xuICB9XG5cbiAgX3NlbGVjdE9mZnNldCh7eCwgeX06ICRSZWFkT25seTx7eDogbnVtYmVyLCB5OiBudW1iZXIsIC4uLn0+KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZW50YXRpb24oKS5ob3Jpem9udGFsID8geCA6IHk7XG4gIH1cblxuICBfb3JpZW50YXRpb24oKTogTGlzdE9yaWVudGF0aW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpLFxuICAgICAgcnRsOiBJMThuTWFuYWdlci5pc1JUTCxcbiAgICB9O1xuICB9XG5cbiAgX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIG9uU3RhcnRSZWFjaGVkLFxuICAgICAgb25TdGFydFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgICBvbkVuZFJlYWNoZWQsXG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgLy8gV2FpdCB1bnRpbCB3ZSBoYXZlIHJlYWwgbWV0cmljc1xuICAgIGlmIChcbiAgICAgICF0aGlzLl9saXN0TWV0cmljcy5oYXNDb250ZW50TGVuZ3RoKCkgfHxcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHdlIGhhdmUgYW55IHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZXMgaXQgbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIG1ldHJpY3NcbiAgICAvLyBhcmUgb3V0IG9mIGRhdGUgYW5kIHdlIHNob3VsZCBub3QgY2FsbCBhbnkgb2YgdGhlIGVkZ2UgcmVhY2hlZCBjYWxsYmFja3MuXG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHt2aXNpYmxlTGVuZ3RoLCBvZmZzZXR9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBsZXQgZGlzdGFuY2VGcm9tU3RhcnQgPSBvZmZzZXQ7XG4gICAgbGV0IGRpc3RhbmNlRnJvbUVuZCA9XG4gICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuXG4gICAgLy8gRXNwZWNpYWxseSB3aGVuIG9FUlQgaXMgemVybyBpdCdzIG5lY2Vzc2FyeSB0byAnZmxvb3InIHZlcnkgc21hbGwgZGlzdGFuY2UgdmFsdWVzIHRvIGJlIDBcbiAgICAvLyBzaW5jZSBkZWJvdW5jaW5nIGNhdXNlcyB1cyB0byBub3QgZmlyZSB0aGlzIGV2ZW50IGZvciBldmVyeSBzaW5nbGUgXCJwaXhlbFwiIHdlIHNjcm9sbCBhbmQgY2FuIHRodXNcbiAgICAvLyBiZSBhdCB0aGUgZWRnZSBvZiB0aGUgbGlzdCB3aXRoIGEgZGlzdGFuY2UgYXBwcm94aW1hdGluZyAwIGJ1dCBub3QgcXVpdGUgdGhlcmUuXG4gICAgaWYgKGRpc3RhbmNlRnJvbVN0YXJ0IDwgT05fRURHRV9SRUFDSEVEX0VQU0lMT04pIHtcbiAgICAgIGRpc3RhbmNlRnJvbVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgaWYgKGRpc3RhbmNlRnJvbUVuZCA8IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OKSB7XG4gICAgICBkaXN0YW5jZUZyb21FbmQgPSAwO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFQxMjExNzIxNzIgTG9vayBpbnRvIHdoeSB3ZSdyZSBcImRlZmF1bHRpbmdcIiB0byBhIHRocmVzaG9sZCBvZiAycHhcbiAgICAvLyB3aGVuIG9FUlQgaXMgbm90IHByZXNlbnQgKGRpZmZlcmVudCBmcm9tIDIgdmlld3BvcnRzIHVzZWQgZWxzZXdoZXJlKVxuICAgIGNvbnN0IERFRkFVTFRfVEhSRVNIT0xEX1BYID0gMjtcblxuICAgIGNvbnN0IHN0YXJ0VGhyZXNob2xkID1cbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgOiBERUZBVUxUX1RIUkVTSE9MRF9QWDtcbiAgICBjb25zdCBlbmRUaHJlc2hvbGQgPVxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgIDogREVGQVVMVF9USFJFU0hPTERfUFg7XG4gICAgY29uc3QgaXNXaXRoaW5TdGFydFRocmVzaG9sZCA9IGRpc3RhbmNlRnJvbVN0YXJ0IDw9IHN0YXJ0VGhyZXNob2xkO1xuICAgIGNvbnN0IGlzV2l0aGluRW5kVGhyZXNob2xkID0gZGlzdGFuY2VGcm9tRW5kIDw9IGVuZFRocmVzaG9sZDtcblxuICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSB1c2VyIGp1c3Qgc2Nyb2xsZWQgd2l0aGluIHRoZSBlbmQgdGhyZXNob2xkXG4gICAgLy8gYW5kIGNhbGwgb25FbmRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvblN0YXJ0UmVhY2hlZCBpcyBub3QgYmVpbmcgZXhlY3V0ZWRcbiAgICBpZiAoXG4gICAgICBvbkVuZFJlYWNoZWQgJiZcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmXG4gICAgICBpc1dpdGhpbkVuZFRocmVzaG9sZCAmJlxuICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCk7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH1cblxuICAgIC8vIE5leHQgY2hlY2sgaWYgdGhlIHVzZXIganVzdCBzY3JvbGxlZCB3aXRoaW4gdGhlIHN0YXJ0IHRocmVzaG9sZFxuICAgIC8vIGFuZCBjYWxsIG9uU3RhcnRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvbkVuZFJlYWNoZWQgaXMgbm90IGJlaW5nIGV4ZWN1dGVkXG4gICAgaWYgKFxuICAgICAgb25TdGFydFJlYWNoZWQgIT0gbnVsbCAmJlxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSAwICYmXG4gICAgICBpc1dpdGhpblN0YXJ0VGhyZXNob2xkICYmXG4gICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgIT09IHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCk7XG4gICAgICBvblN0YXJ0UmVhY2hlZCh7ZGlzdGFuY2VGcm9tU3RhcnR9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgdXNlciBzY3JvbGxzIGF3YXkgZnJvbSB0aGUgc3RhcnQgb3IgZW5kIGFuZCBiYWNrIGFnYWluLFxuICAgIC8vIGNhdXNlIG9uU3RhcnRSZWFjaGVkIG9yIG9uRW5kUmVhY2hlZCB0byBiZSB0cmlnZ2VyZWQgYWdhaW5cbiAgICBpZiAoIWlzV2l0aGluU3RhcnRUaHJlc2hvbGQpIHtcbiAgICAgIHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICAgIH1cbiAgICBpZiAoIWlzV2l0aGluRW5kVGhyZXNob2xkKSB7XG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gICAgfVxuICB9XG5cbiAgX29uQ29udGVudFNpemVDaGFuZ2UgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICB0aGlzLl9saXN0TWV0cmljcy5ub3RpZnlMaXN0Q29udGVudExheW91dCh7XG4gICAgICBsYXlvdXQ6IHt3aWR0aCwgaGVpZ2h0fSxcbiAgICAgIG9yaWVudGF0aW9uOiB0aGlzLl9vcmllbnRhdGlvbigpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fbWF5YmVTY3JvbGxUb0luaXRpYWxTY3JvbGxJbmRleCh3aWR0aCwgaGVpZ2h0KTtcblxuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpZWQgYGluaXRpYWxTY3JvbGxJbmRleGAgcHJvcCBhZnRlciB0aGUgU2Nyb2xsVmlld1xuICAgKiBjb250ZW50IGhhcyBiZWVuIGxhaWQgb3V0LCBpZiBpdCBpcyBzdGlsbCB2YWxpZC4gT25seSBhIHNpbmdsZSBzY3JvbGwgaXNcbiAgICogdHJpZ2dlcmVkIHRocm91Z2hvdXQgdGhlIGxpZmV0aW1lIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgX21heWJlU2Nyb2xsVG9Jbml0aWFsU2Nyb2xsSW5kZXgoXG4gICAgY29udGVudFdpZHRoOiBudW1iZXIsXG4gICAgY29udGVudEhlaWdodDogbnVtYmVyLFxuICApIHtcbiAgICBpZiAoXG4gICAgICBjb250ZW50V2lkdGggPiAwICYmXG4gICAgICBjb250ZW50SGVpZ2h0ID4gMCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwICYmXG4gICAgICAhdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXhcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQgPT0gbnVsbCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPFxuICAgICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHtcbiAgICAgICAgICAgIGFuaW1hdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGluZGV4OiBudWxsdGhyb3dzKHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbFRvRW5kKHthbmltYXRlZDogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRyYW5zbGF0ZXMgbWV0cmljcyBmcm9tIGEgc2Nyb2xsIGV2ZW50IGluIGEgcGFyZW50IFZpcnR1YWxpemVkTGlzdCBpbnRvXG4gICAqIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSBjaGlsZCBsaXN0LlxuICAgKi9cbiAgX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzID0gKG1ldHJpY3M6IHtcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pOiAkRmxvd0ZpeE1lID0+IHtcbiAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICBjb25zdCBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q7XG4gICAgLy8gQ2hpbGQncyB2aXNpYmxlIGxlbmd0aCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3NcbiAgICBjb25zdCB2aXNpYmxlTGVuZ3RoID0gbWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZE9mZnNldCxcbiAgICB9O1xuICB9O1xuXG4gIHVuc3RhYmxlX29uU2Nyb2xsKGU6IE9iamVjdCkge1xuICAgIHRoaXMuX29uU2Nyb2xsKGUpO1xuICB9XG5cbiAgX29uU2Nyb2xsID0gKGU6IE9iamVjdCkgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbChlKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNjcm9sbCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgICB9XG4gICAgY29uc3QgdGltZXN0YW1wID0gZS50aW1lU3RhbXA7XG4gICAgbGV0IHZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXRNZWFzdXJlbWVudCk7XG4gICAgbGV0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5jb250ZW50U2l6ZSk7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMuX29mZnNldEZyb21TY3JvbGxFdmVudChlKTtcbiAgICBsZXQgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBpZiAodGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpID09PSAwKSB7XG4gICAgICAgIC8vIElnbm9yZSBzY3JvbGwgZXZlbnRzIHVudGlsIG9uTGF5b3V0IGhhcyBiZWVuIGNhbGxlZCBhbmQgd2VcbiAgICAgICAgLy8ga25vdyBvdXIgb2Zmc2V0IGZyb20gb3VyIG9mZnNldCBmcm9tIG91ciBwYXJlbnRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgKHt2aXNpYmxlTGVuZ3RoLCBjb250ZW50TGVuZ3RoLCBvZmZzZXQsIGRPZmZzZXR9ID1cbiAgICAgICAgdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3Moe1xuICAgICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgICAgb2Zmc2V0LFxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgY29uc3QgZHQgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcFxuICAgICAgPyBNYXRoLm1heCgxLCB0aW1lc3RhbXAgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcClcbiAgICAgIDogMTtcbiAgICBjb25zdCB2ZWxvY2l0eSA9IGRPZmZzZXQgLyBkdDtcblxuICAgIGlmIChcbiAgICAgIGR0ID4gNTAwICYmXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0ID4gNTAwICYmXG4gICAgICBjb250ZW50TGVuZ3RoID4gNSAqIHZpc2libGVMZW5ndGggJiZcbiAgICAgICF0aGlzLl9oYXNXYXJuZWQucGVyZlxuICAgICkge1xuICAgICAgaW5mb0xvZyhcbiAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogWW91IGhhdmUgYSBsYXJnZSBsaXN0IHRoYXQgaXMgc2xvdyB0byB1cGRhdGUgLSBtYWtlIHN1cmUgeW91ciAnICtcbiAgICAgICAgICAncmVuZGVySXRlbSBmdW5jdGlvbiByZW5kZXJzIGNvbXBvbmVudHMgdGhhdCBmb2xsb3cgUmVhY3QgcGVyZm9ybWFuY2UgYmVzdCBwcmFjdGljZXMgJyArXG4gICAgICAgICAgJ2xpa2UgUHVyZUNvbXBvbmVudCwgc2hvdWxkQ29tcG9uZW50VXBkYXRlLCBldGMuJyxcbiAgICAgICAge2R0LCBwcmV2RHQ6IHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQsIGNvbnRlbnRMZW5ndGh9LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc1dhcm5lZC5wZXJmID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBGb3IgaW52YWxpZCBuZWdhdGl2ZSB2YWx1ZXMgKHcvIFJUTCksIHNldCB0aGlzIHRvIDEuXG4gICAgY29uc3Qgem9vbVNjYWxlID0gZS5uYXRpdmVFdmVudC56b29tU2NhbGUgPCAwID8gMSA6IGUubmF0aXZlRXZlbnQuem9vbVNjYWxlO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgICBkdCxcbiAgICAgIGRPZmZzZXQsXG4gICAgICBvZmZzZXQsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgICB2ZWxvY2l0eSxcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICB6b29tU2NhbGUsXG4gICAgfTtcbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7XG4gICAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50IC0gMSxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICAgIGlmICghdGhpcy5wcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX29mZnNldEZyb21TY3JvbGxFdmVudChlOiBTY3JvbGxFdmVudCk6IG51bWJlciB7XG4gICAgY29uc3Qge2NvbnRlbnRPZmZzZXQsIGNvbnRlbnRTaXplLCBsYXlvdXRNZWFzdXJlbWVudH0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGNvbnN0IHtob3Jpem9udGFsLCBydGx9ID0gdGhpcy5fb3JpZW50YXRpb24oKTtcbiAgICBpZiAoaG9yaXpvbnRhbCAmJiBydGwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX3NlbGVjdExlbmd0aChjb250ZW50U2l6ZSkgLVxuICAgICAgICAodGhpcy5fc2VsZWN0T2Zmc2V0KGNvbnRlbnRPZmZzZXQpICtcbiAgICAgICAgICB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0TWVhc3VyZW1lbnQpKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdE9mZnNldChjb250ZW50T2Zmc2V0KTtcbiAgICB9XG4gIH1cblxuICBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCkge1xuICAgIC8vIE9ubHkgdHJpZ2dlciBoaWdoLXByaW9yaXR5IHVwZGF0ZXMgaWYgd2UndmUgYWN0dWFsbHkgcmVuZGVyZWQgY2VsbHMsXG4gICAgLy8gYW5kIHdpdGggdGhhdCBzaXplIGVzdGltYXRlLCBhY2N1cmF0ZWx5IGNvbXB1dGUgaG93IG1hbnkgY2VsbHMgd2Ugc2hvdWxkIHJlbmRlci5cbiAgICAvLyBPdGhlcndpc2UsIGl0IHdvdWxkIGp1c3QgcmVuZGVyIGFzIG1hbnkgY2VsbHMgYXMgaXQgY2FuIChvZiB6ZXJvIGRpbWVuc2lvbiksXG4gICAgLy8gZWFjaCB0aW1lIHRocm91Z2ggYXR0ZW1wdGluZyB0byByZW5kZXIgbW9yZSAobGltaXRlZCBieSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAvLyBzdGFydmluZyB0aGUgcmVuZGVyZXIgZnJvbSBhY3R1YWxseSBsYXlpbmcgb3V0IHRoZSBvYmplY3RzIGFuZCBjb21wdXRpbmcgX2F2ZXJhZ2VDZWxsTGVuZ3RoLlxuICAgIC8vIElmIHRoaXMgaXMgdHJpZ2dlcmVkIGluIGFuIGBjb21wb25lbnREaWRVcGRhdGVgIGZvbGxvd2VkIGJ5IGEgaGlQcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgLy8gV2Ugc2hvdWxkbid0IGRvIGFub3RoZXIgaGlwcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgaWYgKFxuICAgICAgKHRoaXMuX2xpc3RNZXRyaWNzLmdldEF2ZXJhZ2VDZWxsTGVuZ3RoKCkgPiAwIHx8XG4gICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCAhPSBudWxsKSAmJlxuICAgICAgdGhpcy5fc2hvdWxkUmVuZGVyV2l0aFByaW9yaXR5KCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5zY2hlZHVsZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG91bGRSZW5kZXJXaXRoUHJpb3JpdHkoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RoLCB2ZWxvY2l0eX0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgbGV0IGhpUHJpID0gZmFsc2U7XG4gICAgY29uc3Qgb25TdGFydFJlYWNoZWRUaHJlc2hvbGQgPSBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25TdGFydFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICB0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYmVmb3JlIHRoZSBmaXJzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGZpcnN0ID4gMCkge1xuICAgICAgY29uc3QgZGlzdFRvcCA9XG4gICAgICAgIG9mZnNldCAtXG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KGZpcnN0LCB0aGlzLnByb3BzKS5vZmZzZXQ7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGRpc3RUb3AgPCAwIHx8XG4gICAgICAgICh2ZWxvY2l0eSA8IC0yICYmXG4gICAgICAgICAgZGlzdFRvcCA8XG4gICAgICAgICAgICBnZXRTY3JvbGxpbmdUaHJlc2hvbGQob25TdGFydFJlYWNoZWRUaHJlc2hvbGQsIHZpc2libGVMZW5ndGgpKTtcbiAgICB9XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBlbmQgb2YgdGhlIGxhc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBhZnRlciB0aGUgbGFzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKCFoaVByaSAmJiBsYXN0ID49IDAgJiYgbGFzdCA8IGl0ZW1Db3VudCAtIDEpIHtcbiAgICAgIGNvbnN0IGRpc3RCb3R0b20gPVxuICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChsYXN0LCB0aGlzLnByb3BzKS5vZmZzZXQgLVxuICAgICAgICAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGRpc3RCb3R0b20gPCAwIHx8XG4gICAgICAgICh2ZWxvY2l0eSA+IDIgJiZcbiAgICAgICAgICBkaXN0Qm90dG9tIDxcbiAgICAgICAgICAgIGdldFNjcm9sbGluZ1RocmVzaG9sZChvbkVuZFJlYWNoZWRUaHJlc2hvbGQsIHZpc2libGVMZW5ndGgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGlQcmk7XG4gIH1cblxuICB1bnN0YWJsZV9vblNjcm9sbEJlZ2luRHJhZyhlOiBTY3JvbGxFdmVudCkge1xuICAgIHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9XG5cbiAgX29uU2Nyb2xsQmVnaW5EcmFnID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9oYXNJbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH07XG5cbiAgdW5zdGFibGVfb25TY3JvbGxFbmREcmFnKGU6IFNjcm9sbEV2ZW50KSB7XG4gICAgdGhpcy5fb25TY3JvbGxFbmREcmFnKGUpO1xuICB9XG5cbiAgX29uU2Nyb2xsRW5kRHJhZyA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbEVuZERyYWcoZSk7XG4gICAgfSk7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgaWYgKHZlbG9jaXR5KSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHZlbG9jaXR5KTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIHVuc3RhYmxlX29uTW9tZW50dW1TY3JvbGxCZWdpbihlOiBTY3JvbGxFdmVudCkge1xuICAgIHRoaXMuX29uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgfVxuXG4gIF9vbk1vbWVudHVtU2Nyb2xsQmVnaW4gPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9O1xuXG4gIHVuc3RhYmxlX29uTW9tZW50dW1TY3JvbGxFbmQoZTogU2Nyb2xsRXZlbnQpIHtcbiAgICB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9XG5cbiAgX29uTW9tZW50dW1TY3JvbGxFbmQgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gMDtcbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICBfdXBkYXRlQ2VsbHNUb1JlbmRlciA9ICgpID0+IHtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG5cbiAgICB0aGlzLnNldFN0YXRlKChzdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxzQXJvdW5kVmlld3BvcnQgPSB0aGlzLl9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0KFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlbmRlck1hc2sgPSBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgICAgIHByb3BzLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMocHJvcHMpLFxuICAgICAgKTtcblxuICAgICAgaWYgKFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9PT0gc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICYmXG4gICAgICAgIHJlbmRlck1hc2suZXF1YWxzKHN0YXRlLnJlbmRlck1hc2spXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7Y2VsbHNBcm91bmRWaWV3cG9ydCwgcmVuZGVyTWFza307XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGlzVmlld2FibGU6IGJvb2xlYW4sXG4gICAgcHJvcHM6IENlbGxNZXRyaWNQcm9wcyxcbiAgICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gICkgPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtfSA9IHByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXgsXG4gICAgICBpdGVtLFxuICAgICAga2V5OiBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpbmRleCwgcHJvcHMpLFxuICAgICAgaXNWaWV3YWJsZSxcbiAgICB9O1xuICB9O1xuXG4gIF9fZ2V0TGlzdE1ldHJpY3MoKTogTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIHtcbiAgICByZXR1cm4gdGhpcy5fbGlzdE1ldHJpY3M7XG4gIH1cblxuICBfZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zID0gKFxuICAgIHByb3BzOiBDZWxsTWV0cmljUHJvcHMsXG4gICk6ICRSZWFkT25seUFycmF5PHtcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgfT4gPT4ge1xuICAgIC8vIEtlZXAgYSB2aWV3cG9ydCdzIHdvcnRoIG9mIGNvbnRlbnQgYXJvdW5kIHRoZSBsYXN0IGZvY3VzZWQgY2VsbCB0byBhbGxvd1xuICAgIC8vIHJhbmRvbSBuYXZpZ2F0aW9uIGFyb3VuZCBpdCB3aXRob3V0IGFueSBibGFua2luZy4gRS5nLiB0YWJiaW5nIGZyb20gb25lXG4gICAgLy8gZm9jdXNlZCBpdGVtIG91dCBvZiB2aWV3cG9ydCB0byBhbm90aGVyLlxuICAgIGlmIChcbiAgICAgICEodGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ICYmIHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdEZvY3VzZWRDZWxsUmVuZGVyZXIgPSB0aGlzLl9jZWxsUmVmc1t0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXldO1xuICAgIGNvbnN0IGZvY3VzZWRDZWxsSW5kZXggPSBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlci5wcm9wcy5pbmRleDtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICAvLyBUaGUgbGFzdCBjZWxsIHdlIHJlbmRlcmVkIG1heSBiZSBhdCBhIG5ldyBpbmRleC4gQmFpbCBpZiB3ZSBkb24ndCBrbm93XG4gICAgLy8gd2hlcmUgaXQgaXMuXG4gICAgaWYgKFxuICAgICAgZm9jdXNlZENlbGxJbmRleCA+PSBpdGVtQ291bnQgfHxcbiAgICAgIFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgZm9jdXNlZENlbGxJbmRleCkgIT09XG4gICAgICAgIHRoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleVxuICAgICkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGxldCBmaXJzdCA9IGZvY3VzZWRDZWxsSW5kZXg7XG4gICAgbGV0IGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSBmaXJzdCAtIDE7XG4gICAgICBpID49IDAgJiYgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgPCB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICBpLS1cbiAgICApIHtcbiAgICAgIGZpcnN0LS07XG4gICAgICBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCArPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApLmxlbmd0aDtcbiAgICB9XG5cbiAgICBsZXQgbGFzdCA9IGZvY3VzZWRDZWxsSW5kZXg7XG4gICAgbGV0IGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgPSAwO1xuICAgIGZvciAoXG4gICAgICBsZXQgaSA9IGxhc3QgKyAxO1xuICAgICAgaSA8IGl0ZW1Db3VudCAmJlxuICAgICAgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCA8IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIGkrK1xuICAgICkge1xuICAgICAgbGFzdCsrO1xuICAgICAgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCArPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gW3tmaXJzdCwgbGFzdH1dO1xuICB9O1xuXG4gIF91cGRhdGVWaWV3YWJsZUl0ZW1zKFxuICAgIHByb3BzOiBDZWxsTWV0cmljUHJvcHMsXG4gICAgY2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICkge1xuICAgIC8vIElmIHdlIGhhdmUgYW55IHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZXMgaXQgbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIG1ldHJpY3NcbiAgICAvLyBhcmUgb3V0IG9mIGRhdGUgYW5kIHdlIHNob3VsZCBub3QgY2FsbCBhbnkgb2YgdGhlIHZpc2liaWxpdHkgY2FsbGJhY2tzLlxuICAgIGlmICh0aGlzLnN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5vblVwZGF0ZShcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0LFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLFxuICAgICAgICB0aGlzLl9jcmVhdGVWaWV3VG9rZW4sXG4gICAgICAgIHR1cGxlLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgdmVydGljYWxseUludmVydGVkOlxuICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICAgID8ge3RyYW5zZm9ybTogW3tzY2FsZTogLTF9XX1cbiAgICAgIDoge3RyYW5zZm9ybTogW3tzY2FsZVk6IC0xfV19LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVg6IC0xfV0sXG4gIH0sXG4gIGRlYnVnOiB7XG4gICAgZmxleDogMSxcbiAgfSxcbiAgZGVidWdPdmVybGF5QmFzZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgfSxcbiAgZGVidWdPdmVybGF5OiB7XG4gICAgYm90dG9tOiAwLFxuICAgIHdpZHRoOiAyMCxcbiAgICBib3JkZXJDb2xvcjogJ2JsdWUnLFxuICAgIGJvcmRlcldpZHRoOiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZToge1xuICAgIGxlZnQ6IDAsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnb3JhbmdlJyxcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVMYXN0OiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVWaXM6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAncmVkJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZpcnR1YWxpemVkTGlzdDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBMEJBLElBQUFBLFlBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGVBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLG9CQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxlQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxzQkFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sdUJBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLGtCQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyw0QkFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsdUJBQUEsR0FBQVYsT0FBQTtBQUtBLElBQUFXLHFCQUFBLEdBQUFYLE9BQUE7QUFRQSxJQUFBWSxnQkFBQSxHQUFBWixPQUFBO0FBSUEsSUFBQWEsVUFBQSxHQUFBZCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWMsV0FBQSxHQUFBZixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWUsS0FBQSxHQUFBQyx1QkFBQSxDQUFBaEIsT0FBQTtBQUNBLElBQUFpQixZQUFBLEdBQUFqQixPQUFBO0FBUXNCLElBQUFr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