342fbde372116206842b92b99edde093
_getJestObj().mock('../../src/services/api/postService', function () {
  return {
    createPost: jest.fn(),
    getPosts: jest.fn(),
    getPostById: jest.fn(),
    getMyPosts: jest.fn(),
    likePost: jest.fn(),
    addComment: jest.fn(),
    getComments: jest.fn(),
    deletePost: jest.fn()
  };
});
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _native = require("@react-navigation/native");
var _reactNativePaper = require("react-native-paper");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _postService = _interopRequireDefault(require("../../src/services/api/postService"));
var _MockScreens = require("../mocks/MockScreens");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var testUser = {
  user_id: 1,
  username: 'testuser',
  nickname: '테스트유저',
  email: 'test@example.com'
};
var testPosts = {
  success: true,
  posts: [{
    post_id: 1,
    user_id: 1,
    content: '행복한 하루였어요',
    emotion_summary: '행복',
    emotion_ids: [1],
    image_url: null,
    is_anonymous: false,
    like_count: 5,
    comment_count: 2,
    created_at: '2025-04-10T12:00:00Z'
  }, {
    post_id: 2,
    user_id: 2,
    content: '오늘은 조금 피곤하네요',
    emotion_summary: '지침',
    emotion_ids: [8],
    image_url: null,
    is_anonymous: true,
    like_count: 3,
    comment_count: 1,
    created_at: '2025-04-10T10:30:00Z'
  }],
  total_count: 2
};
var testComments = {
  success: true,
  comments: [{
    comment_id: 1,
    post_id: 1,
    user_id: 2,
    content: '너무 좋네요!',
    is_anonymous: false,
    created_at: '2025-04-10T13:00:00Z'
  }],
  total_count: 1
};
var mockNavigation = {
  navigate: jest.fn(),
  goBack: jest.fn()
};
var TestWrapper = function TestWrapper(_ref) {
  var children = _ref.children;
  return (0, _jsxRuntime.jsx)(_native.NavigationContainer, {
    children: (0, _jsxRuntime.jsx)(_reactNativePaper.Provider, {
      children: children
    })
  });
};
describe('게시물 기능 E2E 테스트', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _asyncStorage.default.getItem.mockImplementation(function (key) {
      if (key === 'auth_token') return Promise.resolve('fake-token');
      if (key === 'user_info') return Promise.resolve(JSON.stringify(testUser));
      return Promise.resolve(null);
    });
  });
  describe('게시물 상세 화면', function () {
    it('게시물 상세 조회 및 댓글 작성', (0, _asyncToGenerator2.default)(function* () {
      var mockGetPostById = _postService.default.getPostById;
      mockGetPostById.mockResolvedValue({
        data: {
          success: true,
          post: testPosts.posts[0]
        }
      });
      var mockGetComments = _postService.default.getComments;
      mockGetComments.mockResolvedValue({
        data: testComments
      });
      var mockAddComment = _postService.default.addComment;
      mockAddComment.mockResolvedValue({
        data: {
          success: true,
          comment_id: 2,
          message: '댓글이 성공적으로 추가되었습니다.'
        }
      });
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
          children: (0, _jsxRuntime.jsx)(_MockScreens.MockPostScreen, {
            route: {
              params: {
                postId: 1
              }
            },
            navigation: mockNavigation
          })
        })),
        getByTestId = _render.getByTestId,
        getByText = _render.getByText;
      expect(getByText('게시물 ID: 1')).toBeTruthy();
      var commentInput = getByTestId('comment-input');
      _reactNative.fireEvent.changeText(commentInput, 'E2E 테스트로 작성한 댓글입니다!');
      var submitButton = getByTestId('submit-comment');
      _reactNative.fireEvent.press(submitButton);
      yield (0, _reactNative.waitFor)(function () {
        expect(mockAddComment).toHaveBeenCalledWith(1, expect.any(Object));
      });
    }), 10000);
  });
  describe('내 게시물 관리', function () {
    it('내 게시물 화면에서 게시물을 삭제할 수 있어야 함', (0, _asyncToGenerator2.default)(function* () {
      var mockGetMyPosts = _postService.default.getMyPosts;
      mockGetMyPosts.mockResolvedValue({
        data: testPosts
      });
      var mockDeletePost = _postService.default.deletePost;
      mockDeletePost.mockResolvedValue({
        data: {
          success: true,
          message: '게시물이 성공적으로 삭제되었습니다.'
        }
      });
      var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
          children: (0, _jsxRuntime.jsx)(_MockScreens.MockMyPostsScreen, {
            navigation: mockNavigation
          })
        })),
        getByTestId = _render2.getByTestId;
      var deleteButton = getByTestId('delete-button');
      _reactNative.fireEvent.press(deleteButton);
      yield (0, _reactNative.waitFor)(function () {
        expect(mockDeletePost).toHaveBeenCalledWith(1);
      });
    }), 10000);
  });
  describe('감정 통계', function () {
    it('통계 화면에서 감정 그래프가 표시되어야 함', (0, _asyncToGenerator2.default)(function* () {
      var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(TestWrapper, {
          children: (0, _jsxRuntime.jsx)(_MockScreens.MockStatisticsScreen, {
            navigation: mockNavigation
          })
        })),
        getByTestId = _render3.getByTestId,
        getByText = _render3.getByText;
      expect(getByTestId('emotion-chart')).toBeTruthy();
      expect(getByText('감정 통계')).toBeTruthy();
    }), 10000);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjcmVhdGVQb3N0IiwiamVzdCIsImZuIiwiZ2V0UG9zdHMiLCJnZXRQb3N0QnlJZCIsImdldE15UG9zdHMiLCJsaWtlUG9zdCIsImFkZENvbW1lbnQiLCJnZXRDb21tZW50cyIsImRlbGV0ZVBvc3QiLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9uYXRpdmUiLCJfcmVhY3ROYXRpdmVQYXBlciIsIl9hc3luY1N0b3JhZ2UiLCJfcG9zdFNlcnZpY2UiLCJfTW9ja1NjcmVlbnMiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwidGVzdFVzZXIiLCJ1c2VyX2lkIiwidXNlcm5hbWUiLCJuaWNrbmFtZSIsImVtYWlsIiwidGVzdFBvc3RzIiwic3VjY2VzcyIsInBvc3RzIiwicG9zdF9pZCIsImNvbnRlbnQiLCJlbW90aW9uX3N1bW1hcnkiLCJlbW90aW9uX2lkcyIsImltYWdlX3VybCIsImlzX2Fub255bW91cyIsImxpa2VfY291bnQiLCJjb21tZW50X2NvdW50IiwiY3JlYXRlZF9hdCIsInRvdGFsX2NvdW50IiwidGVzdENvbW1lbnRzIiwiY29tbWVudHMiLCJjb21tZW50X2lkIiwibW9ja05hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsImdvQmFjayIsIlRlc3RXcmFwcGVyIiwiX3JlZiIsImNoaWxkcmVuIiwianN4IiwiTmF2aWdhdGlvbkNvbnRhaW5lciIsIlByb3ZpZGVyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIkFzeW5jU3RvcmFnZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImtleSIsIlByb21pc2UiLCJyZXNvbHZlIiwiSlNPTiIsInN0cmluZ2lmeSIsIml0IiwiZGVmYXVsdCIsIm1vY2tHZXRQb3N0QnlJZCIsInBvc3RTZXJ2aWNlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwicG9zdCIsIm1vY2tHZXRDb21tZW50cyIsIm1vY2tBZGRDb21tZW50IiwibWVzc2FnZSIsIl9yZW5kZXIiLCJyZW5kZXIiLCJNb2NrUG9zdFNjcmVlbiIsInJvdXRlIiwicGFyYW1zIiwicG9zdElkIiwibmF2aWdhdGlvbiIsImdldEJ5VGVzdElkIiwiZ2V0QnlUZXh0IiwiZXhwZWN0IiwidG9CZVRydXRoeSIsImNvbW1lbnRJbnB1dCIsImZpcmVFdmVudCIsImNoYW5nZVRleHQiLCJzdWJtaXRCdXR0b24iLCJwcmVzcyIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImFueSIsIk9iamVjdCIsIm1vY2tHZXRNeVBvc3RzIiwibW9ja0RlbGV0ZVBvc3QiLCJfcmVuZGVyMiIsIk1vY2tNeVBvc3RzU2NyZWVuIiwiZGVsZXRlQnV0dG9uIiwiX3JlbmRlcjMiLCJNb2NrU3RhdGlzdGljc1NjcmVlbiJdLCJzb3VyY2VzIjpbInBvc3QuZTJlLWxpa2UudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL2UyZS9wb3N0LmUyZS1saWtlLnRlc3QudHN4XHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbnRhaW5lciB9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7XHJcbmltcG9ydCB7IFByb3ZpZGVyIGFzIFBhcGVyUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1uYXRpdmUtcGFwZXInO1xyXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcclxuaW1wb3J0IHBvc3RTZXJ2aWNlIGZyb20gJy4uLy4uL3NyYy9zZXJ2aWNlcy9hcGkvcG9zdFNlcnZpY2UnO1xyXG5cclxuLy8gU3RhdGlzdGljc1NjcmVlbiDrsI8g64uk66W4IOyLpOygnCDtmZTrqbQg7Lu07Y+s64SM7Yq4IGltcG9ydCDsoJzqsbBcclxuLy8gTW9ja1NjcmVlbnPrp4wg7IKs7Jqp7ZWY64qUIOqyg+ycvOuhnCDrs4Dqsr1cclxuaW1wb3J0IHsgTW9ja1Bvc3RTY3JlZW4sIE1vY2tNeVBvc3RzU2NyZWVuLCBNb2NrU3RhdGlzdGljc1NjcmVlbiB9IGZyb20gJy4uL21vY2tzL01vY2tTY3JlZW5zJztcclxuXHJcbi8vIOy7tO2PrOuEjO2KuOyZgCDshJzruYTsiqTsnZgg7Ya17ZWp7J2EIO2FjOyKpO2KuO2VmOq4sCDsnITtlZwg66qo7YK5XHJcbmplc3QubW9jaygnLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9wb3N0U2VydmljZScsICgpID0+ICh7XHJcbiAgY3JlYXRlUG9zdDogamVzdC5mbigpLFxyXG4gIGdldFBvc3RzOiBqZXN0LmZuKCksXHJcbiAgZ2V0UG9zdEJ5SWQ6IGplc3QuZm4oKSxcclxuICBnZXRNeVBvc3RzOiBqZXN0LmZuKCksXHJcbiAgbGlrZVBvc3Q6IGplc3QuZm4oKSxcclxuICBhZGRDb21tZW50OiBqZXN0LmZuKCksXHJcbiAgZ2V0Q29tbWVudHM6IGplc3QuZm4oKSxcclxuICBkZWxldGVQb3N0OiBqZXN0LmZuKClcclxufSkpO1xyXG5cclxuLy8g7J247KadIOq0gOugqCDrqqjtgrlcclxuamVzdC5tb2NrKCdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZScsICgpID0+ICh7XHJcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxyXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcclxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIO2FjOyKpO2KuOyaqSDrjbDsnbTthLBcclxuY29uc3QgdGVzdFVzZXIgPSB7XHJcbiAgdXNlcl9pZDogMSxcclxuICB1c2VybmFtZTogJ3Rlc3R1c2VyJyxcclxuICBuaWNrbmFtZTogJ+2FjOyKpO2KuOycoOyggCcsXHJcbiAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxufTtcclxuXHJcbi8vIO2FjOyKpO2KuOyaqSDqsozsi5zrrLwg642w7J207YSwXHJcbmNvbnN0IHRlc3RQb3N0cyA9IHtcclxuICBzdWNjZXNzOiB0cnVlLFxyXG4gIHBvc3RzOiBbXHJcbiAgICB7XHJcbiAgICAgIHBvc3RfaWQ6IDEsXHJcbiAgICAgIHVzZXJfaWQ6IDEsXHJcbiAgICAgIGNvbnRlbnQ6ICftlonrs7XtlZwg7ZWY66Oo7JiA7Ja07JqUJyxcclxuICAgICAgZW1vdGlvbl9zdW1tYXJ5OiAn7ZaJ67O1JyxcclxuICAgICAgZW1vdGlvbl9pZHM6IFsxXSxcclxuICAgICAgaW1hZ2VfdXJsOiBudWxsLFxyXG4gICAgICBpc19hbm9ueW1vdXM6IGZhbHNlLFxyXG4gICAgICBsaWtlX2NvdW50OiA1LFxyXG4gICAgICBjb21tZW50X2NvdW50OiAyLFxyXG4gICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wNC0xMFQxMjowMDowMFonXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBwb3N0X2lkOiAyLFxyXG4gICAgICB1c2VyX2lkOiAyLFxyXG4gICAgICBjb250ZW50OiAn7Jik64qY7J2AIOyhsOq4iCDtlLzqs6TtlZjrhKTsmpQnLFxyXG4gICAgICBlbW90aW9uX3N1bW1hcnk6ICfsp4DsuagnLFxyXG4gICAgICBlbW90aW9uX2lkczogWzhdLFxyXG4gICAgICBpbWFnZV91cmw6IG51bGwsXHJcbiAgICAgIGlzX2Fub255bW91czogdHJ1ZSxcclxuICAgICAgbGlrZV9jb3VudDogMyxcclxuICAgICAgY29tbWVudF9jb3VudDogMSxcclxuICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDQtMTBUMTA6MzA6MDBaJ1xyXG4gICAgfVxyXG4gIF0sXHJcbiAgdG90YWxfY291bnQ6IDJcclxufTtcclxuXHJcbi8vIO2FjOyKpO2KuOyaqSDrjJPquIAg642w7J207YSwXHJcbmNvbnN0IHRlc3RDb21tZW50cyA9IHtcclxuICBzdWNjZXNzOiB0cnVlLFxyXG4gIGNvbW1lbnRzOiBbXHJcbiAgICB7XHJcbiAgICAgIGNvbW1lbnRfaWQ6IDEsXHJcbiAgICAgIHBvc3RfaWQ6IDEsXHJcbiAgICAgIHVzZXJfaWQ6IDIsXHJcbiAgICAgIGNvbnRlbnQ6ICfrhIjrrLQg7KKL64Sk7JqUIScsXHJcbiAgICAgIGlzX2Fub255bW91czogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTA0LTEwVDEzOjAwOjAwWidcclxuICAgIH1cclxuICBdLFxyXG4gIHRvdGFsX2NvdW50OiAxXHJcbn07XHJcblxyXG4vLyDrhKTruYTqsozsnbTshZgg66qo7YK5XHJcbmNvbnN0IG1vY2tOYXZpZ2F0aW9uID0ge1xyXG4gIG5hdmlnYXRlOiBqZXN0LmZuKCksXHJcbiAgZ29CYWNrOiBqZXN0LmZuKClcclxufTtcclxuXHJcbi8vIO2FjOyKpO2KuCDsu7Ttj6zrhIztirgg656Y7Y28XHJcbmNvbnN0IFRlc3RXcmFwcGVyID0gKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+IChcclxuICA8TmF2aWdhdGlvbkNvbnRhaW5lcj5cclxuICAgIDxQYXBlclByb3ZpZGVyPlxyXG4gICAgICB7Y2hpbGRyZW59XHJcbiAgICA8L1BhcGVyUHJvdmlkZXI+XHJcbiAgPC9OYXZpZ2F0aW9uQ29udGFpbmVyPlxyXG4pO1xyXG5cclxuZGVzY3JpYmUoJ+qyjOyLnOusvCDquLDriqUgRTJFIO2FjOyKpO2KuCcsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICAgXHJcbiAgICAvLyBBc3luY1N0b3JhZ2Ug66qo7YK5XHJcbiAgICAoQXN5bmNTdG9yYWdlLmdldEl0ZW0gYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xyXG4gICAgICBpZiAoa2V5ID09PSAnYXV0aF90b2tlbicpIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ2Zha2UtdG9rZW4nKTtcclxuICAgICAgaWYgKGtleSA9PT0gJ3VzZXJfaW5mbycpIHJldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5zdHJpbmdpZnkodGVzdFVzZXIpKTtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn6rKM7Iuc66y8IOyDgeyEuCDtmZTrqbQnLCAoKSA9PiB7XHJcbiAgICBpdCgn6rKM7Iuc66y8IOyDgeyEuCDsobDtmowg67CPIOuMk+q4gCDsnpHshLEnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tHZXRQb3N0QnlJZCA9IHBvc3RTZXJ2aWNlLmdldFBvc3RCeUlkIGFzIGplc3QuTW9jaztcclxuICAgICAgbW9ja0dldFBvc3RCeUlkLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgcG9zdDogdGVzdFBvc3RzLnBvc3RzWzBdXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG1vY2tHZXRDb21tZW50cyA9IHBvc3RTZXJ2aWNlLmdldENvbW1lbnRzIGFzIGplc3QuTW9jaztcclxuICAgICAgbW9ja0dldENvbW1lbnRzLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBkYXRhOiB0ZXN0Q29tbWVudHNcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBtb2NrQWRkQ29tbWVudCA9IHBvc3RTZXJ2aWNlLmFkZENvbW1lbnQgYXMgamVzdC5Nb2NrO1xyXG4gICAgICBtb2NrQWRkQ29tbWVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIGNvbW1lbnRfaWQ6IDIsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn64yT6riA7J20IOyEseqzteyggeycvOuhnCDstpTqsIDrkJjsl4jsirXri4jri6QuJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBNb2NrIOqyjOyLnOusvCDsg4HshLgg7Lu07Y+s64SM7Yq4IOugjOuNlOungVxyXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBnZXRCeVRleHQgfSA9IHJlbmRlcihcclxuICAgICAgICA8VGVzdFdyYXBwZXI+XHJcbiAgICAgICAgICA8TW9ja1Bvc3RTY3JlZW5cclxuICAgICAgICAgICAgcm91dGU9e3sgcGFyYW1zOiB7IHBvc3RJZDogMSB9IH19XHJcbiAgICAgICAgICAgIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g6rKM7Iuc66y8IElE6rCAIO2RnOyLnOuQmOuKlOyngCDtmZXsnbhcclxuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgn6rKM7Iuc66y8IElEOiAxJykpLnRvQmVUcnV0aHkoKTtcclxuXHJcbiAgICAgIC8vIOuMk+q4gCDsnoXroKUg7ZWE65OcIO2ZleyduFxyXG4gICAgICBjb25zdCBjb21tZW50SW5wdXQgPSBnZXRCeVRlc3RJZCgnY29tbWVudC1pbnB1dCcpO1xyXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChjb21tZW50SW5wdXQsICdFMkUg7YWM7Iqk7Yq466GcIOyekeyEse2VnCDrjJPquIDsnoXri4jri6QhJyk7XHJcblxyXG4gICAgICAvLyDrjJPquIAg7KCc7LacIOuyhO2KvCDtgbTrpq1cclxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZ2V0QnlUZXN0SWQoJ3N1Ym1pdC1jb21tZW50Jyk7XHJcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhzdWJtaXRCdXR0b24pO1xyXG5cclxuICAgICAgLy8gYWRkQ29tbWVudCDshJzruYTsiqTqsIAg7Zi47Lac65CY7JeI64qU7KeAIO2ZleyduFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3QobW9ja0FkZENvbW1lbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEsIGV4cGVjdC5hbnkoT2JqZWN0KSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgMTAwMDApO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn64K0IOqyjOyLnOusvCDqtIDrpqwnLCAoKSA9PiB7XHJcbiAgICBpdCgn64K0IOqyjOyLnOusvCDtmZTrqbTsl5DshJwg6rKM7Iuc66y87J2EIOyCreygnO2VoCDsiJgg7J6I7Ja07JW8IO2VqCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g6rKM7Iuc66y8IOuqqeuhnSBBUEkg66qo7YK5XHJcbiAgICAgIGNvbnN0IG1vY2tHZXRNeVBvc3RzID0gcG9zdFNlcnZpY2UuZ2V0TXlQb3N0cyBhcyBqZXN0Lk1vY2s7XHJcbiAgICAgIG1vY2tHZXRNeVBvc3RzLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBkYXRhOiB0ZXN0UG9zdHNcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDqsozsi5zrrLwg7IKt7KCcIEFQSSDrqqjtgrlcclxuICAgICAgY29uc3QgbW9ja0RlbGV0ZVBvc3QgPSBwb3N0U2VydmljZS5kZWxldGVQb3N0IGFzIGplc3QuTW9jaztcclxuICAgICAgbW9ja0RlbGV0ZVBvc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn6rKM7Iuc66y87J20IOyEseqzteyggeycvOuhnCDsgq3soJzrkJjsl4jsirXri4jri6QuJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXHJcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxyXG4gICAgICAgICAgPE1vY2tNeVBvc3RzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSAvPlxyXG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDsgq3soJwg67KE7Yq8IO2BtOumrVxyXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBnZXRCeVRlc3RJZCgnZGVsZXRlLWJ1dHRvbicpO1xyXG4gICAgICBmaXJlRXZlbnQucHJlc3MoZGVsZXRlQnV0dG9uKTtcclxuXHJcbiAgICAgIC8vIGRlbGV0ZVBvc3TqsIAg7Zi47Lac65CY7JeI64qU7KeAIO2ZleyduFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3QobW9ja0RlbGV0ZVBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEpO1xyXG4gICAgICB9KTtcclxuICAgIH0sIDEwMDAwKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+qwkOyglSDthrXqs4QnLCAoKSA9PiB7XHJcbiAgICBpdCgn7Ya16rOEIO2ZlOuptOyXkOyEnCDqsJDsoJUg6re4656Y7ZSE6rCAIO2RnOyLnOuQmOyWtOyVvCDtlagnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQsIGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxyXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cclxuICAgICAgICAgIDxNb2NrU3RhdGlzdGljc1NjcmVlbiBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz5cclxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g6re4656Y7ZSEIOyYgeyXreydtCDsobTsnqztlZjripTsp4Ag7ZmV7J24XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnZW1vdGlvbi1jaGFydCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ+qwkOyglSDthrXqs4QnKSkudG9CZVRy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