11b7176fe7daaaf4694ee25d8f389a8d
_getJestObj().mock('../../../src/services/api/emotionService', function () {
  return {
    getAllEmotions: jest.fn(),
    recordEmotions: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _EmotionLogScreen = _interopRequireDefault(require("../../../src/screens/EmotionLogScreen"));
var _emotionService = _interopRequireDefault(require("../../../src/services/api/emotionService"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockEmotions = {
  status: 'success',
  data: [{
    emotion_id: 1,
    name: '행복',
    icon: 'emoticon-happy-outline',
    color: '#FFD700'
  }, {
    emotion_id: 2,
    name: '감사',
    icon: 'hand-heart',
    color: '#FF69B4'
  }, {
    emotion_id: 3,
    name: '위로',
    icon: 'hand-peace',
    color: '#87CEEB'
  }]
};
var mockAlert = jest.fn();
_reactNative2.Alert.alert = mockAlert;
var mockNavigation = {
  goBack: jest.fn()
};
describe('EmotionLogScreen 단위 테스트', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _emotionService.default.getAllEmotions.mockResolvedValue({
      data: mockEmotions
    });
    _emotionService.default.recordEmotions.mockResolvedValue({
      status: 200
    });
  });
  var setupRenderAndWaitForEmotions = function () {
    var _ref = (0, _asyncToGenerator2.default)(function* () {
      var renderResult = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_EmotionLogScreen.default, {
        navigation: mockNavigation
      }));
      yield (0, _reactNative.waitFor)(function () {
        expect(renderResult.getByText('행복')).toBeTruthy();
      }, {
        timeout: 10000
      });
      return renderResult;
    });
    return function setupRenderAndWaitForEmotions() {
      return _ref.apply(this, arguments);
    };
  }();
  test('감정 데이터를 성공적으로 로드함', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd.getByText,
      queryByText = _yield$setupRenderAnd.queryByText;
    expect(_emotionService.default.getAllEmotions).toHaveBeenCalledTimes(1);
    expect(queryByText('감정 데이터를 불러오는 중...')).toBeNull();
    expect(getByText('오늘의 감정')).toBeTruthy();
    expect(getByText('현재 어떤 감정을 느끼고 계신가요?')).toBeTruthy();
    expect(getByText('행복')).toBeTruthy();
    expect(getByText('감사')).toBeTruthy();
    expect(getByText('위로')).toBeTruthy();
  }), 15000);
  test('감정 데이터 로드 실패 시 알림 표시', (0, _asyncToGenerator2.default)(function* () {
    _emotionService.default.getAllEmotions.mockRejectedValue(new Error('네트워크 오류'));
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_EmotionLogScreen.default, {
      navigation: mockNavigation
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockAlert).toHaveBeenCalledWith('오류', '감정 데이터를 불러오는 중 오류가 발생했습니다.');
    }, {
      timeout: 10000
    });
  }), 15000);
  test('감정 선택/해제 기능이 정상 작동함', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd2 = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd2.getByText;
    _reactNative.fireEvent.press(getByText('행복'));
    _reactNative.fireEvent.press(getByText('행복'));
    _reactNative.fireEvent.press(getByText('감사'));
  }), 15000);
  test('메모 입력이 정상 작동함', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd3 = yield setupRenderAndWaitForEmotions(),
      getByTestId = _yield$setupRenderAnd3.getByTestId;
    var noteInput = getByTestId('emotion-note-input');
    _reactNative.fireEvent.changeText(noteInput, '오늘은 좋은 날이었습니다.');
    expect(noteInput.props.value).toBe('오늘은 좋은 날이었습니다.');
  }), 15000);
  test('감정 선택 없을 때 제출 버튼이 비활성화됨', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd4 = yield setupRenderAndWaitForEmotions(),
      getByTestId = _yield$setupRenderAnd4.getByTestId;
    var submitButton = getByTestId('emotion-submit-button');
    expect(submitButton.props.accessibilityState.disabled).toBeTruthy();
  }), 15000);
  test('감정 로그 제출 성공 시 알림 및 화면 이동', (0, _asyncToGenerator2.default)(function* () {
    var _yield$setupRenderAnd5 = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd5.getByText,
      getByTestId = _yield$setupRenderAnd5.getByTestId;
    _reactNative.fireEvent.press(getByText('행복'));
    var submitButton = getByTestId('emotion-submit-button');
    _reactNative.fireEvent.press(submitButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(_emotionService.default.recordEmotions).toHaveBeenCalledWith({
        emotion_ids: [1],
        note: undefined
      });
      expect(mockAlert).toHaveBeenCalledWith('감정 기록 완료', '오늘의 감정이 성공적으로 기록되었습니다.', [{
        text: '확인',
        onPress: expect.any(Function)
      }]);
    }, {
      timeout: 10000
    });
    var alertButtons = mockAlert.mock.calls[0][2];
    alertButtons[0].onPress();
    expect(mockNavigation.goBack).toHaveBeenCalled();
  }), 15000);
  test('감정 로그 제출 실패 시 에러 알림', (0, _asyncToGenerator2.default)(function* () {
    _emotionService.default.recordEmotions.mockRejectedValue({
      response: {
        data: {
          message: '서버 오류가 발생했습니다.'
        }
      }
    });
    var _yield$setupRenderAnd6 = yield setupRenderAndWaitForEmotions(),
      getByText = _yield$setupRenderAnd6.getByText,
      getByTestId = _yield$setupRenderAnd6.getByTestId;
    _reactNative.fireEvent.press(getByText('행복'));
    var submitButton = getByTestId('emotion-submit-button');
    _reactNative.fireEvent.press(submitButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockAlert).toHaveBeenCalledWith('오류', '서버 오류가 발생했습니다.');
    }, {
      timeout: 10000
    });
  }), 15000);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRBbGxFbW90aW9ucyIsImplc3QiLCJmbiIsInJlY29yZEVtb3Rpb25zIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmUyIiwiX0Vtb3Rpb25Mb2dTY3JlZW4iLCJfZW1vdGlvblNlcnZpY2UiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwibW9ja0Vtb3Rpb25zIiwic3RhdHVzIiwiZGF0YSIsImVtb3Rpb25faWQiLCJuYW1lIiwiaWNvbiIsImNvbG9yIiwibW9ja0FsZXJ0IiwiQWxlcnQiLCJhbGVydCIsIm1vY2tOYXZpZ2F0aW9uIiwiZ29CYWNrIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImVtb3Rpb25TZXJ2aWNlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucyIsIl9yZWYiLCJkZWZhdWx0IiwicmVuZGVyUmVzdWx0IiwicmVuZGVyIiwianN4IiwibmF2aWdhdGlvbiIsIndhaXRGb3IiLCJleHBlY3QiLCJnZXRCeVRleHQiLCJ0b0JlVHJ1dGh5IiwidGltZW91dCIsImFwcGx5IiwiYXJndW1lbnRzIiwidGVzdCIsIl95aWVsZCRzZXR1cFJlbmRlckFuZCIsInF1ZXJ5QnlUZXh0IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9CZU51bGwiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQyIiwiZmlyZUV2ZW50IiwicHJlc3MiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQzIiwiZ2V0QnlUZXN0SWQiLCJub3RlSW5wdXQiLCJjaGFuZ2VUZXh0IiwicHJvcHMiLCJ2YWx1ZSIsInRvQmUiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQ0Iiwic3VibWl0QnV0dG9uIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwiZGlzYWJsZWQiLCJfeWllbGQkc2V0dXBSZW5kZXJBbmQ1IiwiZW1vdGlvbl9pZHMiLCJub3RlIiwidW5kZWZpbmVkIiwidGV4dCIsIm9uUHJlc3MiLCJhbnkiLCJGdW5jdGlvbiIsImFsZXJ0QnV0dG9ucyIsImNhbGxzIiwidG9IYXZlQmVlbkNhbGxlZCIsInJlc3BvbnNlIiwibWVzc2FnZSIsIl95aWVsZCRzZXR1cFJlbmRlckFuZDYiXSwic291cmNlcyI6WyJFbW90aW9uTG9nU2NyZWVuLnVuaXQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGVzdHMvdW5pdC9FbW90aW9uTG9nU2NyZWVuLnVuaXQudGVzdC50c3hcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCB7IEFsZXJ0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IEVtb3Rpb25Mb2dTY3JlZW4gZnJvbSAnLi4vLi4vLi4vc3JjL3NjcmVlbnMvRW1vdGlvbkxvZ1NjcmVlbic7XHJcbmltcG9ydCBlbW90aW9uU2VydmljZSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMvYXBpL2Vtb3Rpb25TZXJ2aWNlJztcclxuXHJcbi8vIOuqqSDrjbDsnbTthLBcclxuY29uc3QgbW9ja0Vtb3Rpb25zID0ge1xyXG4gIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gIGRhdGE6IFtcclxuICAgIHsgZW1vdGlvbl9pZDogMSwgbmFtZTogJ+2WieuztScsIGljb246ICdlbW90aWNvbi1oYXBweS1vdXRsaW5lJywgY29sb3I6ICcjRkZENzAwJyB9LFxyXG4gICAgeyBlbW90aW9uX2lkOiAyLCBuYW1lOiAn6rCQ7IKsJywgaWNvbjogJ2hhbmQtaGVhcnQnLCBjb2xvcjogJyNGRjY5QjQnIH0sXHJcbiAgICB7IGVtb3Rpb25faWQ6IDMsIG5hbWU6ICfsnITroZwnLCBpY29uOiAnaGFuZC1wZWFjZScsIGNvbG9yOiAnIzg3Q0VFQicgfVxyXG4gIF1cclxufTtcclxuXHJcbi8vIOuqqO2CuSDshKTsoJVcclxuamVzdC5tb2NrKCcuLi8uLi8uLi9zcmMvc2VydmljZXMvYXBpL2Vtb3Rpb25TZXJ2aWNlJywgKCkgPT4gKHtcclxuICBnZXRBbGxFbW90aW9uczogamVzdC5mbigpLFxyXG4gIHJlY29yZEVtb3Rpb25zOiBqZXN0LmZuKClcclxufSkpO1xyXG5cclxuLy8gQWxlcnQg66qo7YK5XHJcbmNvbnN0IG1vY2tBbGVydCA9IGplc3QuZm4oKTtcclxuQWxlcnQuYWxlcnQgPSBtb2NrQWxlcnQ7XHJcblxyXG4vLyDrhKTruYTqsozsnbTshZgg66qo7YK5XHJcbmNvbnN0IG1vY2tOYXZpZ2F0aW9uID0geyBnb0JhY2s6IGplc3QuZm4oKSB9O1xyXG5cclxuZGVzY3JpYmUoJ0Vtb3Rpb25Mb2dTY3JlZW4g64uo7JyEIO2FjOyKpO2KuCcsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICAgKGVtb3Rpb25TZXJ2aWNlLmdldEFsbEVtb3Rpb25zIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrRW1vdGlvbnMgfSk7XHJcbiAgICAoZW1vdGlvblNlcnZpY2UucmVjb3JkRW1vdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN0YXR1czogMjAwIH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucyA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlbmRlclJlc3VsdCA9IHJlbmRlcig8RW1vdGlvbkxvZ1NjcmVlbiBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz4pO1xyXG4gICAgXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHJlbmRlclJlc3VsdC5nZXRCeVRleHQoJ+2WieuztScpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9LCB7IHRpbWVvdXQ6IDEwMDAwIH0pO1xyXG5cclxuICAgIHJldHVybiByZW5kZXJSZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgdGVzdCgn6rCQ7KCVIOuNsOydtO2EsOulvCDshLHqs7XsoIHsnLzroZwg66Gc65Oc7ZWoJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIHF1ZXJ5QnlUZXh0IH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoZW1vdGlvblNlcnZpY2UuZ2V0QWxsRW1vdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dCgn6rCQ7KCVIOuNsOydtO2EsOulvCDrtojrn6zsmKTripQg7KSRLi4uJykpLnRvQmVOdWxsKCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfsmKTripjsnZgg6rCQ7KCVJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+2YhOyerCDslrTrlqQg6rCQ7KCV7J2EIOuKkOuBvOqzoCDqs4Tsi6DqsIDsmpQ/JykpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+2WieuztScpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfqsJDsgqwnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgn7JyE66GcJykpLnRvQmVUcnV0aHkoKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+qwkOyglSDrjbDsnbTthLAg66Gc65OcIOyLpO2MqCDsi5wg7JWM66a8IO2RnOyLnCcsIGFzeW5jICgpID0+IHtcclxuICAgIChlbW90aW9uU2VydmljZS5nZXRBbGxFbW90aW9ucyBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcign64Sk7Yq47JuM7YGsIOyYpOulmCcpKTtcclxuICAgIFxyXG4gICAgcmVuZGVyKDxFbW90aW9uTG9nU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSAvPik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja0FsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAn7Jik66WYJywgXHJcbiAgICAgICAgJ+qwkOyglSDrjbDsnbTthLDrpbwg67aI65+s7Jik64qUIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLidcclxuICAgICAgKTtcclxuICAgIH0sIHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgfSwgMTUwMDApO1xyXG5cclxuICB0ZXN0KCfqsJDsoJUg7ISg7YOdL+2VtOygnCDquLDriqXsnbQg7KCV7IOBIOyekeuPme2VqCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICAvLyDqsJDsoJUg7ISg7YOdXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCftlonrs7UnKSk7XHJcbiAgICBcclxuICAgIC8vIOqwkOyglSDtlbTsoJxcclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ+2WieuztScpKTtcclxuICAgIFxyXG4gICAgLy8g64uk66W4IOqwkOyglSDshKDtg51cclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoJ+qwkOyCrCcpKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+uplOuqqCDsnoXroKXsnbQg7KCV7IOBIOyekeuPme2VqCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IGF3YWl0IHNldHVwUmVuZGVyQW5kV2FpdEZvckVtb3Rpb25zKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IG5vdGVJbnB1dCA9IGdldEJ5VGVzdElkKCdlbW90aW9uLW5vdGUtaW5wdXQnKTtcclxuICAgIGZpcmVFdmVudC5jaGFuZ2VUZXh0KG5vdGVJbnB1dCwgJ+yYpOuKmOydgCDsoovsnYAg64Kg7J207JeI7Iq164uI64ukLicpO1xyXG4gICAgXHJcbiAgICBleHBlY3Qobm90ZUlucHV0LnByb3BzLnZhbHVlKS50b0JlKCfsmKTripjsnYAg7KKL7J2AIOuCoOydtOyXiOyKteuLiOuLpC4nKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+qwkOyglSDshKDtg50g7JeG7J2EIOuVjCDsoJzstpwg67KE7Yq87J20IOu5hO2ZnOyEse2ZlOuQqCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IGF3YWl0IHNldHVwUmVuZGVyQW5kV2FpdEZvckVtb3Rpb25zKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGdldEJ5VGVzdElkKCdlbW90aW9uLXN1Ym1pdC1idXR0b24nKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHN1Ym1pdEJ1dHRvbi5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGUuZGlzYWJsZWQpLnRvQmVUcnV0aHkoKTtcclxuICB9LCAxNTAwMCk7XHJcblxyXG4gIHRlc3QoJ+qwkOyglSDroZzqt7gg7KCc7LacIOyEseqztSDsi5wg7JWM66a8IOuwjyDtmZTrqbQg7J2064+ZJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGdldEJ5VGVzdElkIH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICAvLyDqsJDsoJUg7ISg7YOdXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCftlonrs7UnKSk7XHJcbiAgICBcclxuICAgIC8vIOygnOy2nFxyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZ2V0QnlUZXN0SWQoJ2Vtb3Rpb24tc3VibWl0LWJ1dHRvbicpO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKHN1Ym1pdEJ1dHRvbik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZW1vdGlvblNlcnZpY2UucmVjb3JkRW1vdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICBlbW90aW9uX2lkczogWzFdLFxyXG4gICAgICAgIG5vdGU6IHVuZGVmaW5lZFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIOyEseqztSDslYzrprwg7ZmV7J24XHJcbiAgICAgIGV4cGVjdChtb2NrQWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICfqsJDsoJUg6riw66GdIOyZhOujjCcsXHJcbiAgICAgICAgJ+yYpOuKmOydmCDqsJDsoJXsnbQg7ISx6rO17KCB7Jy866GcIOq4sOuhneuQmOyXiOyKteuLiOuLpC4nLFxyXG4gICAgICAgIFt7IHRleHQ6ICftmZXsnbgnLCBvblByZXNzOiBleHBlY3QuYW55KEZ1bmN0aW9uKSB9XVxyXG4gICAgICApO1xyXG4gICAgfSwgeyB0aW1lb3V0OiAxMDAwMCB9KTtcclxuICAgIFxyXG4gICAgLy8g7JWM66a87J2YIO2ZleyduCDrsoTtirwg7YG066atIOyLnOuurOugiOydtOyFmFxyXG4gICAgY29uc3QgYWxlcnRCdXR0b25zID0gbW9ja0FsZXJ0Lm1vY2suY2FsbHNbMF1bMl07XHJcbiAgICBhbGVydEJ1dHRvbnNbMF0ub25QcmVzcygpO1xyXG4gICAgXHJcbiAgICBleHBlY3QobW9ja05hdmlnYXRpb24uZ29CYWNrKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSwgMTUwMDApO1xyXG5cclxuICB0ZXN0KCfqsJDsoJUg66Gc6re4IOygnOy2nCDsi6TtjKgg7IucIOyXkOufrCDslYzrprwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAoZW1vdGlvblNlcnZpY2UucmVjb3JkRW1vdGlvbnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZSh7XHJcbiAgICAgIHJlc3BvbnNlOiB7IGRhdGE6IHsgbWVzc2FnZTogJ+yEnOuyhCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicgfSB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGdldEJ5VGVzdElkIH0gPSBhd2FpdCBzZXR1cFJlbmRlckFuZFdhaXRGb3JFbW90aW9ucygpO1xyXG4gICAgXHJcbiAgICAvLyDqsJDsoJUg7ISg7YOdXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlUZXh0KCftlonrs7UnKSk7XHJcbiAgICBcclxuICAgIC8vIOygnOy2nFxyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZ2V0QnlUZXN0SWQoJ2Vtb3Rpb24tc3VibWl0LWJ1dHRvbicpO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKHN1Ym1pdEJ1dHRvbik7XHJcbiAgICBcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja0FsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAn7Jik66WYJywgXHJcbiAgICAgICAgJ+yEnOuyhCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLidcclxuICAgICAgKTtcclxuICAgIH0sIHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgfSwgMTUwMDApO1xyXG59KTsiXSwibWFwcGluZ3MiOiJBQWtCQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMENBQTBDLEVBQUU7RUFBQSxPQUFPO0lBQzNEQyxjQUFjLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDekJDLGNBQWMsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDMUIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUFDLElBQUFFLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBcEJKLElBQUFF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