4cf3dc3a2865d0efe90704dcc510449e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _NativeEventEmitter = _interopRequireDefault(require("../EventEmitter/NativeEventEmitter"));
var _ModalInjection = _interopRequireDefault(require("./ModalInjection"));
var _NativeModalManager = _interopRequireDefault(require("./NativeModalManager"));
var _RCTModalHostViewNativeComponent = _interopRequireDefault(require("./RCTModalHostViewNativeComponent"));
var _virtualizedLists = require("@react-native/virtualized-lists");
var _jsxRuntime = require("react/jsx-runtime");
var _ModalInjection$unsta;
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ScrollView = require('../Components/ScrollView/ScrollView');
var View = require('../Components/View/View');
var AppContainer = require('../ReactNative/AppContainer');
var I18nManager = require('../ReactNative/I18nManager');
var _require = require('../ReactNative/RootTag'),
  RootTagContext = _require.RootTagContext;
var StyleSheet = require('../StyleSheet/StyleSheet');
var Platform = require('../Utilities/Platform');
var React = require('react');
var ModalEventEmitter = Platform.OS === 'ios' && _NativeModalManager.default != null ? new _NativeEventEmitter.default(Platform.OS !== 'ios' ? null : _NativeModalManager.default) : null;
var uniqueModalIdentifier = 0;
function confirmProps(props) {
  if (__DEV__) {
    if (props.presentationStyle && props.presentationStyle !== 'overFullScreen' && props.transparent === true) {
      console.warn(`Modal with '${props.presentationStyle}' presentation style and 'transparent' value is not supported.`);
    }
    if (props.navigationBarTranslucent === true && props.statusBarTranslucent !== true) {
      console.warn('Modal with translucent navigation bar and without translucent status bar is not supported.');
    }
  }
}
var Modal = function (_React$Component) {
  function Modal(props) {
    var _this;
    (0, _classCallCheck2.default)(this, Modal);
    _this = _callSuper(this, Modal, [props]);
    if (__DEV__) {
      confirmProps(props);
    }
    _this._identifier = uniqueModalIdentifier++;
    _this.state = {
      isRendered: props.visible === true
    };
    return _this;
  }
  (0, _inherits2.default)(Modal, _React$Component);
  return (0, _createClass2.default)(Modal, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      if (ModalEventEmitter) {
        this._eventSubscription = ModalEventEmitter.addListener('modalDismissed', function (event) {
          _this2.setState({
            isRendered: false
          }, function () {
            if (event.modalID === _this2._identifier && _this2.props.onDismiss) {
              _this2.props.onDismiss();
            }
          });
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (Platform.OS === 'ios') {
        this.setState({
          isRendered: false
        });
      }
      if (this._eventSubscription) {
        this._eventSubscription.remove();
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.visible === false && this.props.visible === true) {
        this.setState({
          isRendered: true
        });
      }
      if (__DEV__) {
        confirmProps(this.props);
      }
    }
  }, {
    key: "_shouldShowModal",
    value: function _shouldShowModal() {
      if (Platform.OS === 'ios') {
        return this.props.visible === true || this.state.isRendered === true;
      }
      return this.props.visible === true;
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$backdropC,
        _this3 = this;
      if (!this._shouldShowModal()) {
        return null;
      }
      var containerStyles = {
        backgroundColor: this.props.transparent === true ? 'transparent' : (_this$props$backdropC = this.props.backdropColor) != null ? _this$props$backdropC : 'white'
      };
      var animationType = this.props.animationType || 'none';
      var presentationStyle = this.props.presentationStyle;
      if (!presentationStyle) {
        presentationStyle = 'fullScreen';
        if (this.props.transparent === true) {
          presentationStyle = 'overFullScreen';
        }
      }
      var innerChildren = __DEV__ ? (0, _jsxRuntime.jsx)(AppContainer, {
        rootTag: this.context,
        children: this.props.children
      }) : this.props.children;
      var onDismiss = function onDismiss() {
        if (Platform.OS === 'ios') {
          _this3.setState({
            isRendered: false
          }, function () {
            if (_this3.props.onDismiss) {
              _this3.props.onDismiss();
            }
          });
        }
      };
      return (0, _jsxRuntime.jsx)(_RCTModalHostViewNativeComponent.default, {
        animationType: animationType,
        presentationStyle: presentationStyle,
        transparent: this.props.transparent,
        hardwareAccelerated: this.props.hardwareAccelerated,
        onRequestClose: this.props.onRequestClose,
        onShow: this.props.onShow,
        onDismiss: onDismiss,
        visible: this.props.visible,
        statusBarTranslucent: this.props.statusBarTranslucent,
        navigationBarTranslucent: this.props.navigationBarTranslucent,
        identifier: this._identifier,
        style: styles.modal,
        onStartShouldSetResponder: this._shouldSetResponder,
        supportedOrientations: this.props.supportedOrientations,
        onOrientationChange: this.props.onOrientationChange,
        testID: this.props.testID,
        children: (0, _jsxRuntime.jsx)(_virtualizedLists.VirtualizedListContextResetter, {
          children: (0, _jsxRuntime.jsx)(ScrollView.Context.Provider, {
            value: null,
            children: (0, _jsxRuntime.jsx)(View, {
              style: [styles.container, containerStyles],
              collapsable: false,
              children: innerChildren
            })
          })
        })
      });
    }
  }, {
    key: "_shouldSetResponder",
    value: function _shouldSetResponder() {
      return true;
    }
  }]);
}(React.Component);
Modal.defaultProps = {
  visible: true,
  hardwareAccelerated: false
};
Modal.contextType = RootTagContext;
var side = I18nManager.getConstants().isRTL ? 'right' : 'left';
var styles = StyleSheet.create({
  modal: {
    position: 'absolute'
  },
  container: (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, side, 0), "top", 0), "flex", 1)
});
var ExportedModal = (_ModalInjection$unsta = _ModalInjection.default.unstable_Modal) != null ? _ModalInjection$unsta : Modal;
module.exports = ExportedModal;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTmF0aXZlRXZlbnRFbWl0dGVyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfTW9kYWxJbmplY3Rpb24iLCJfTmF0aXZlTW9kYWxNYW5hZ2VyIiwiX1JDVE1vZGFsSG9zdFZpZXdOYXRpdmVDb21wb25lbnQiLCJfdmlydHVhbGl6ZWRMaXN0cyIsIl9qc3hSdW50aW1lIiwiX01vZGFsSW5qZWN0aW9uJHVuc3RhIiwiX2NhbGxTdXBlciIsInQiLCJvIiwiZSIsIl9nZXRQcm90b3R5cGVPZjIiLCJkZWZhdWx0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiU2Nyb2xsVmlldyIsIlZpZXciLCJBcHBDb250YWluZXIiLCJJMThuTWFuYWdlciIsIl9yZXF1aXJlIiwiUm9vdFRhZ0NvbnRleHQiLCJTdHlsZVNoZWV0IiwiUGxhdGZvcm0iLCJSZWFjdCIsIk1vZGFsRXZlbnRFbWl0dGVyIiwiT1MiLCJOYXRpdmVNb2RhbE1hbmFnZXIiLCJOYXRpdmVFdmVudEVtaXR0ZXIiLCJ1bmlxdWVNb2RhbElkZW50aWZpZXIiLCJjb25maXJtUHJvcHMiLCJwcm9wcyIsIl9fREVWX18iLCJwcmVzZW50YXRpb25TdHlsZSIsInRyYW5zcGFyZW50IiwiY29uc29sZSIsIndhcm4iLCJuYXZpZ2F0aW9uQmFyVHJhbnNsdWNlbnQiLCJzdGF0dXNCYXJUcmFuc2x1Y2VudCIsIk1vZGFsIiwiX1JlYWN0JENvbXBvbmVudCIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9pZGVudGlmaWVyIiwic3RhdGUiLCJpc1JlbmRlcmVkIiwidmlzaWJsZSIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJjb21wb25lbnREaWRNb3VudCIsIl90aGlzMiIsIl9ldmVudFN1YnNjcmlwdGlvbiIsImFkZExpc3RlbmVyIiwiZXZlbnQiLCJzZXRTdGF0ZSIsIm1vZGFsSUQiLCJvbkRpc21pc3MiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIl9zaG91bGRTaG93TW9kYWwiLCJyZW5kZXIiLCJfdGhpcyRwcm9wcyRiYWNrZHJvcEMiLCJfdGhpczMiLCJjb250YWluZXJTdHlsZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZHJvcENvbG9yIiwiYW5pbWF0aW9uVHlwZSIsImlubmVyQ2hpbGRyZW4iLCJqc3giLCJyb290VGFnIiwiY29udGV4dCIsImNoaWxkcmVuIiwiaGFyZHdhcmVBY2NlbGVyYXRlZCIsIm9uUmVxdWVzdENsb3NlIiwib25TaG93IiwiaWRlbnRpZmllciIsInN0eWxlIiwic3R5bGVzIiwibW9kYWwiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwiX3Nob3VsZFNldFJlc3BvbmRlciIsInN1cHBvcnRlZE9yaWVudGF0aW9ucyIsIm9uT3JpZW50YXRpb25DaGFuZ2UiLCJ0ZXN0SUQiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0UmVzZXR0ZXIiLCJDb250ZXh0IiwiUHJvdmlkZXIiLCJjb250YWluZXIiLCJjb2xsYXBzYWJsZSIsIkNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsImNvbnRleHRUeXBlIiwic2lkZSIsImdldENvbnN0YW50cyIsImlzUlRMIiwiY3JlYXRlIiwicG9zaXRpb24iLCJfZGVmaW5lUHJvcGVydHkyIiwiRXhwb3J0ZWRNb2RhbCIsIk1vZGFsSW5qZWN0aW9uIiwidW5zdGFibGVfTW9kYWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiTW9kYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICovXG5cbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL0NvbXBvbmVudHMvVmlldy9WaWV3UHJvcFR5cGVzJztcbmltcG9ydCB0eXBlIHtSb290VGFnfSBmcm9tICcuLi9SZWFjdE5hdGl2ZS9Sb290VGFnJztcbmltcG9ydCB0eXBlIHtEaXJlY3RFdmVudEhhbmRsZXJ9IGZyb20gJy4uL1R5cGVzL0NvZGVnZW5UeXBlcyc7XG5cbmltcG9ydCBOYXRpdmVFdmVudEVtaXR0ZXIgZnJvbSAnLi4vRXZlbnRFbWl0dGVyL05hdGl2ZUV2ZW50RW1pdHRlcic7XG5pbXBvcnQge3R5cGUgRXZlbnRTdWJzY3JpcHRpb259IGZyb20gJy4uL3ZlbmRvci9lbWl0dGVyL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgTW9kYWxJbmplY3Rpb24gZnJvbSAnLi9Nb2RhbEluamVjdGlvbic7XG5pbXBvcnQgTmF0aXZlTW9kYWxNYW5hZ2VyIGZyb20gJy4vTmF0aXZlTW9kYWxNYW5hZ2VyJztcbmltcG9ydCBSQ1RNb2RhbEhvc3RWaWV3IGZyb20gJy4vUkNUTW9kYWxIb3N0Vmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQge1ZpcnR1YWxpemVkTGlzdENvbnRleHRSZXNldHRlcn0gZnJvbSAnQHJlYWN0LW5hdGl2ZS92aXJ0dWFsaXplZC1saXN0cyc7XG5cbmNvbnN0IFNjcm9sbFZpZXcgPSByZXF1aXJlKCcuLi9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldycpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvVmlldy9WaWV3Jyk7XG5jb25zdCBBcHBDb250YWluZXIgPSByZXF1aXJlKCcuLi9SZWFjdE5hdGl2ZS9BcHBDb250YWluZXInKTtcbmNvbnN0IEkxOG5NYW5hZ2VyID0gcmVxdWlyZSgnLi4vUmVhY3ROYXRpdmUvSTE4bk1hbmFnZXInKTtcbmNvbnN0IHtSb290VGFnQ29udGV4dH0gPSByZXF1aXJlKCcuLi9SZWFjdE5hdGl2ZS9Sb290VGFnJyk7XG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgnLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0Jyk7XG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJy4uL1V0aWxpdGllcy9QbGF0Zm9ybScpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG50eXBlIE1vZGFsRXZlbnREZWZpbml0aW9ucyA9IHtcbiAgbW9kYWxEaXNtaXNzZWQ6IFt7bW9kYWxJRDogbnVtYmVyfV0sXG59O1xuXG5jb25zdCBNb2RhbEV2ZW50RW1pdHRlciA9XG4gIFBsYXRmb3JtLk9TID09PSAnaW9zJyAmJiBOYXRpdmVNb2RhbE1hbmFnZXIgIT0gbnVsbFxuICAgID8gbmV3IE5hdGl2ZUV2ZW50RW1pdHRlcjxNb2RhbEV2ZW50RGVmaW5pdGlvbnM+KFxuICAgICAgICAvLyBUODg3MTUwNjM6IE5hdGl2ZUV2ZW50RW1pdHRlciBvbmx5IHVzZWQgdGhpcyBwYXJhbWV0ZXIgb24gaU9TLiBOb3cgaXQgdXNlcyBpdCBvbiBhbGwgcGxhdGZvcm1zLCBzbyB0aGlzIGNvZGUgd2FzIG1vZGlmaWVkIGF1dG9tYXRpY2FsbHkgdG8gcHJlc2VydmUgaXRzIGJlaGF2aW9yXG4gICAgICAgIC8vIElmIHlvdSB3YW50IHRvIHVzZSB0aGUgbmF0aXZlIG1vZHVsZSBvbiBvdGhlciBwbGF0Zm9ybXMsIHBsZWFzZSByZW1vdmUgdGhpcyBjb25kaXRpb24gYW5kIHRlc3QgaXRzIGJlaGF2aW9yXG4gICAgICAgIFBsYXRmb3JtLk9TICE9PSAnaW9zJyA/IG51bGwgOiBOYXRpdmVNb2RhbE1hbmFnZXIsXG4gICAgICApXG4gICAgOiBudWxsO1xuXG4vKipcbiAqIFRoZSBNb2RhbCBjb21wb25lbnQgaXMgYSBzaW1wbGUgd2F5IHRvIHByZXNlbnQgY29udGVudCBhYm92ZSBhbiBlbmNsb3Npbmcgdmlldy5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbFxuICovXG5cbi8vIEluIG9yZGVyIHRvIHJvdXRlIG9uRGlzbWlzcyBjYWxsYmFja3MsIHdlIG5lZWQgdG8gdW5pcXVlbHkgaWRlbnRpZmllciBlYWNoXG4vLyA8TW9kYWw+IG9uIHNjcmVlbi4gVGhlcmUgY2FuIGJlIGRpZmZlcmVudCBvbmVzLCBlaXRoZXIgbmVzdGVkIG9yIGFzIHNpYmxpbmdzLlxuLy8gV2UgY2Fubm90IHBhc3MgdGhlIG9uRGlzbWlzcyBjYWxsYmFjayB0byBuYXRpdmUgYXMgdGhlIHZpZXcgd2lsbCBiZVxuLy8gZGVzdHJveWVkIGJlZm9yZSB0aGUgY2FsbGJhY2sgaXMgZmlyZWQuXG5sZXQgdW5pcXVlTW9kYWxJZGVudGlmaWVyID0gMDtcblxudHlwZSBPcmllbnRhdGlvbkNoYW5nZUV2ZW50ID0gJFJlYWRPbmx5PHt8XG4gIG9yaWVudGF0aW9uOiAncG9ydHJhaXQnIHwgJ2xhbmRzY2FwZScsXG58fT47XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLlZpZXdQcm9wcyxcblxuICAvKipcbiAgICogVGhlIGBhbmltYXRpb25UeXBlYCBwcm9wIGNvbnRyb2xzIGhvdyB0aGUgbW9kYWwgYW5pbWF0ZXMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsI2FuaW1hdGlvbnR5cGVcbiAgICovXG4gIGFuaW1hdGlvblR5cGU/OiA/KCdub25lJyB8ICdzbGlkZScgfCAnZmFkZScpLFxuXG4gIC8qKlxuICAgKiBUaGUgYHByZXNlbnRhdGlvblN0eWxlYCBwcm9wIGNvbnRyb2xzIGhvdyB0aGUgbW9kYWwgYXBwZWFycy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwjcHJlc2VudGF0aW9uc3R5bGVcbiAgICovXG4gIHByZXNlbnRhdGlvblN0eWxlPzogPyhcbiAgICB8ICdmdWxsU2NyZWVuJ1xuICAgIHwgJ3BhZ2VTaGVldCdcbiAgICB8ICdmb3JtU2hlZXQnXG4gICAgfCAnb3ZlckZ1bGxTY3JlZW4nXG4gICksXG5cbiAgLyoqXG4gICAqIFRoZSBgdHJhbnNwYXJlbnRgIHByb3AgZGV0ZXJtaW5lcyB3aGV0aGVyIHlvdXIgbW9kYWwgd2lsbCBmaWxsIHRoZVxuICAgKiBlbnRpcmUgdmlldy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwjdHJhbnNwYXJlbnRcbiAgICovXG4gIHRyYW5zcGFyZW50PzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFRoZSBgc3RhdHVzQmFyVHJhbnNsdWNlbnRgIHByb3AgZGV0ZXJtaW5lcyB3aGV0aGVyIHlvdXIgbW9kYWwgc2hvdWxkIGdvIHVuZGVyXG4gICAqIHRoZSBzeXN0ZW0gc3RhdHVzYmFyLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbC5odG1sI3N0YXR1c2JhcnRyYW5zbHVjZW50LWFuZHJvaWRcbiAgICovXG4gIHN0YXR1c0JhclRyYW5zbHVjZW50PzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFRoZSBgbmF2aWdhdGlvbkJhclRyYW5zbHVjZW50YCBwcm9wIGRldGVybWluZXMgd2hldGhlciB5b3VyIG1vZGFsIHNob3VsZCBnbyB1bmRlclxuICAgKiB0aGUgc3lzdGVtIG5hdmlnYXRpb25iYXIuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsLmh0bWwjbmF2aWdhdGlvbmJhcnRyYW5zbHVjZW50LWFuZHJvaWRcbiAgICovXG4gIG5hdmlnYXRpb25CYXJUcmFuc2x1Y2VudD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBUaGUgYGhhcmR3YXJlQWNjZWxlcmF0ZWRgIHByb3AgY29udHJvbHMgd2hldGhlciB0byBmb3JjZSBoYXJkd2FyZVxuICAgKiBhY2NlbGVyYXRpb24gZm9yIHRoZSB1bmRlcmx5aW5nIHdpbmRvdy5cbiAgICpcbiAgICogVGhpcyBwcm9wIHdvcmtzIG9ubHkgb24gQW5kcm9pZC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwjaGFyZHdhcmVhY2NlbGVyYXRlZFxuICAgKi9cbiAgaGFyZHdhcmVBY2NlbGVyYXRlZD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBUaGUgYHZpc2libGVgIHByb3AgZGV0ZXJtaW5lcyB3aGV0aGVyIHlvdXIgbW9kYWwgaXMgdmlzaWJsZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwjdmlzaWJsZVxuICAgKi9cbiAgdmlzaWJsZT86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBUaGUgYG9uUmVxdWVzdENsb3NlYCBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgdXNlciB0YXBzIHRoZSBoYXJkd2FyZVxuICAgKiBiYWNrIGJ1dHRvbiBvbiBBbmRyb2lkIG9yIHRoZSBtZW51IGJ1dHRvbiBvbiBBcHBsZSBUVi5cbiAgICpcbiAgICogVGhpcyBpcyByZXF1aXJlZCBvbiBBcHBsZSBUViBhbmQgQW5kcm9pZC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvbW9kYWwjb25yZXF1ZXN0Y2xvc2VcbiAgICovXG4gIG9uUmVxdWVzdENsb3NlPzogP0RpcmVjdEV2ZW50SGFuZGxlcjxudWxsPixcblxuICAvKipcbiAgICogVGhlIGBvblNob3dgIHByb3AgYWxsb3dzIHBhc3NpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgdGhlXG4gICAqIG1vZGFsIGhhcyBiZWVuIHNob3duLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCNvbnNob3dcbiAgICovXG4gIG9uU2hvdz86ID9EaXJlY3RFdmVudEhhbmRsZXI8bnVsbD4sXG5cbiAgLyoqXG4gICAqIFRoZSBgb25EaXNtaXNzYCBwcm9wIGFsbG93cyBwYXNzaW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlXG4gICAqIHRoZSBtb2RhbCBoYXMgYmVlbiBkaXNtaXNzZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL21vZGFsI29uZGlzbWlzc1xuICAgKi9cbiAgb25EaXNtaXNzPzogPygpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBUaGUgYHN1cHBvcnRlZE9yaWVudGF0aW9uc2AgcHJvcCBhbGxvd3MgdGhlIG1vZGFsIHRvIGJlIHJvdGF0ZWQgdG8gYW55IG9mIHRoZSBzcGVjaWZpZWQgb3JpZW50YXRpb25zLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCNzdXBwb3J0ZWRvcmllbnRhdGlvbnNcbiAgICovXG4gIHN1cHBvcnRlZE9yaWVudGF0aW9ucz86ID8kUmVhZE9ubHlBcnJheTxcbiAgICB8ICdwb3J0cmFpdCdcbiAgICB8ICdwb3J0cmFpdC11cHNpZGUtZG93bidcbiAgICB8ICdsYW5kc2NhcGUnXG4gICAgfCAnbGFuZHNjYXBlLWxlZnQnXG4gICAgfCAnbGFuZHNjYXBlLXJpZ2h0JyxcbiAgPixcblxuICAvKipcbiAgICogVGhlIGBvbk9yaWVudGF0aW9uQ2hhbmdlYCBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgb3JpZW50YXRpb24gY2hhbmdlcyB3aGlsZSB0aGUgbW9kYWwgaXMgYmVpbmcgZGlzcGxheWVkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9tb2RhbCNvbm9yaWVudGF0aW9uY2hhbmdlXG4gICAqL1xuICBvbk9yaWVudGF0aW9uQ2hhbmdlPzogP0RpcmVjdEV2ZW50SGFuZGxlcjxPcmllbnRhdGlvbkNoYW5nZUV2ZW50PixcblxuICAvKipcbiAgICogVGhlIGBiYWNrZHJvcENvbG9yYCBwcm9wcyBzZXRzIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSBtb2RhbCdzIGNvbnRhaW5lci5cbiAgICogRGVmYXVsdHMgdG8gYHdoaXRlYCBpZiBub3QgcHJvdmlkZWQgYW5kIHRyYW5zcGFyZW50IGlzIGBmYWxzZWAuIElnbm9yZWQgaWYgYHRyYW5zcGFyZW50YCBpcyBgdHJ1ZWAuXG4gICAqL1xuICBiYWNrZHJvcENvbG9yPzogP3N0cmluZyxcbnx9PjtcblxuZnVuY3Rpb24gY29uZmlybVByb3BzKHByb3BzOiBQcm9wcykge1xuICBpZiAoX19ERVZfXykge1xuICAgIGlmIChcbiAgICAgIHByb3BzLnByZXNlbnRhdGlvblN0eWxlICYmXG4gICAgICBwcm9wcy5wcmVzZW50YXRpb25TdHlsZSAhPT0gJ292ZXJGdWxsU2NyZWVuJyAmJlxuICAgICAgcHJvcHMudHJhbnNwYXJlbnQgPT09IHRydWVcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYE1vZGFsIHdpdGggJyR7cHJvcHMucHJlc2VudGF0aW9uU3R5bGV9JyBwcmVzZW50YXRpb24gc3R5bGUgYW5kICd0cmFuc3BhcmVudCcgdmFsdWUgaXMgbm90IHN1cHBvcnRlZC5gLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcHJvcHMubmF2aWdhdGlvbkJhclRyYW5zbHVjZW50ID09PSB0cnVlICYmXG4gICAgICBwcm9wcy5zdGF0dXNCYXJUcmFuc2x1Y2VudCAhPT0gdHJ1ZVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTW9kYWwgd2l0aCB0cmFuc2x1Y2VudCBuYXZpZ2F0aW9uIGJhciBhbmQgd2l0aG91dCB0cmFuc2x1Y2VudCBzdGF0dXMgYmFyIGlzIG5vdCBzdXBwb3J0ZWQuJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8vIENyZWF0ZSBhIHN0YXRlIHRvIHRyYWNrIHdoZXRoZXIgdGhlIE1vZGFsIGlzIHJlbmRlcmluZyBvciBub3QuXG4vLyBUaGlzIGlzIHRoZSBvbmx5IHByb3AgdGhhdCBjb250cm9scyB3aGV0aGVyIHRoZSBtb2RhbCBpcyByZW5kZXJlZCBvciBub3QuXG50eXBlIFN0YXRlID0ge1xuICBpc1JlbmRlcmVkOiBib29sZWFuLFxufTtcblxuY2xhc3MgTW9kYWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHM6IHt8aGFyZHdhcmVBY2NlbGVyYXRlZDogYm9vbGVhbiwgdmlzaWJsZTogYm9vbGVhbnx9ID0ge1xuICAgIHZpc2libGU6IHRydWUsXG4gICAgaGFyZHdhcmVBY2NlbGVyYXRlZDogZmFsc2UsXG4gIH07XG5cbiAgc3RhdGljIGNvbnRleHRUeXBlOiBSZWFjdC5Db250ZXh0PFJvb3RUYWc+ID0gUm9vdFRhZ0NvbnRleHQ7XG5cbiAgX2lkZW50aWZpZXI6IG51bWJlcjtcbiAgX2V2ZW50U3Vic2NyaXB0aW9uOiA/RXZlbnRTdWJzY3JpcHRpb247XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBjb25maXJtUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgICB0aGlzLl9pZGVudGlmaWVyID0gdW5pcXVlTW9kYWxJZGVudGlmaWVyKys7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVuZGVyZWQ6IHByb3BzLnZpc2libGUgPT09IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vICdtb2RhbERpc21pc3NlZCcgaXMgZm9yIHRoZSBvbGQgcmVuZGVyZXIgaW4gaU9TIG9ubHlcbiAgICBpZiAoTW9kYWxFdmVudEVtaXR0ZXIpIHtcbiAgICAgIHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9uID0gTW9kYWxFdmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoXG4gICAgICAgICdtb2RhbERpc21pc3NlZCcsXG4gICAgICAgIGV2ZW50ID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1JlbmRlcmVkOiBmYWxzZX0sICgpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5tb2RhbElEID09PSB0aGlzLl9pZGVudGlmaWVyICYmIHRoaXMucHJvcHMub25EaXNtaXNzKSB7XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2lzUmVuZGVyZWQ6IGZhbHNlfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9ldmVudFN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy5fZXZlbnRTdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBpZiAocHJldlByb3BzLnZpc2libGUgPT09IGZhbHNlICYmIHRoaXMucHJvcHMudmlzaWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNSZW5kZXJlZDogdHJ1ZX0pO1xuICAgIH1cblxuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBjb25maXJtUHJvcHModGhpcy5wcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGVuY2Fwc3VsYXRlIHBsYXRmb3JtIHNwZWNpZmljIGxvZ2ljIHRvIHNob3cgb3Igbm90IHRoZSBNb2RhbC5cbiAgX3Nob3VsZFNob3dNb2RhbCgpOiBib29sZWFuIHtcbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy52aXNpYmxlID09PSB0cnVlIHx8IHRoaXMuc3RhdGUuaXNSZW5kZXJlZCA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9wcy52aXNpYmxlID09PSB0cnVlO1xuICB9XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIGlmICghdGhpcy5fc2hvdWxkU2hvd01vZGFsKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRhaW5lclN0eWxlcyA9IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjpcbiAgICAgICAgdGhpcy5wcm9wcy50cmFuc3BhcmVudCA9PT0gdHJ1ZVxuICAgICAgICAgID8gJ3RyYW5zcGFyZW50J1xuICAgICAgICAgIDogdGhpcy5wcm9wcy5iYWNrZHJvcENvbG9yID8/ICd3aGl0ZScsXG4gICAgfTtcblxuICAgIGxldCBhbmltYXRpb25UeXBlID0gdGhpcy5wcm9wcy5hbmltYXRpb25UeXBlIHx8ICdub25lJztcblxuICAgIGxldCBwcmVzZW50YXRpb25TdHlsZSA9IHRoaXMucHJvcHMucHJlc2VudGF0aW9uU3R5bGU7XG4gICAgaWYgKCFwcmVzZW50YXRpb25TdHlsZSkge1xuICAgICAgcHJlc2VudGF0aW9uU3R5bGUgPSAnZnVsbFNjcmVlbic7XG4gICAgICBpZiAodGhpcy5wcm9wcy50cmFuc3BhcmVudCA9PT0gdHJ1ZSkge1xuICAgICAgICBwcmVzZW50YXRpb25TdHlsZSA9ICdvdmVyRnVsbFNjcmVlbic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW5uZXJDaGlsZHJlbiA9IF9fREVWX18gPyAoXG4gICAgICA8QXBwQ29udGFpbmVyIHJvb3RUYWc9e3RoaXMuY29udGV4dH0+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9BcHBDb250YWluZXI+XG4gICAgKSA6IChcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICApO1xuXG4gICAgY29uc3Qgb25EaXNtaXNzID0gKCkgPT4ge1xuICAgICAgLy8gT25EaXNtaXNzIGlzIGltcGxlbWVudGVkIG9uIGlPUyBvbmx5LlxuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1JlbmRlcmVkOiBmYWxzZX0sICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkRpc21pc3MpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSQ1RNb2RhbEhvc3RWaWV3XG4gICAgICAgIGFuaW1hdGlvblR5cGU9e2FuaW1hdGlvblR5cGV9XG4gICAgICAgIHByZXNlbnRhdGlvblN0eWxlPXtwcmVzZW50YXRpb25TdHlsZX1cbiAgICAgICAgdHJhbnNwYXJlbnQ9e3RoaXMucHJvcHMudHJhbnNwYXJlbnR9XG4gICAgICAgIGhhcmR3YXJlQWNjZWxlcmF0ZWQ9e3RoaXMucHJvcHMuaGFyZHdhcmVBY2NlbGVyYXRlZH1cbiAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2V9XG4gICAgICAgIG9uU2hvdz17dGhpcy5wcm9wcy5vblNob3d9XG4gICAgICAgIG9uRGlzbWlzcz17b25EaXNtaXNzfVxuICAgICAgICB2aXNpYmxlPXt0aGlzLnByb3BzLnZpc2libGV9XG4gICAgICAgIHN0YXR1c0JhclRyYW5zbHVjZW50PXt0aGlzLnByb3BzLnN0YXR1c0JhclRyYW5zbHVjZW50fVxuICAgICAgICBuYXZpZ2F0aW9uQmFyVHJhbnNsdWNlbnQ9e3RoaXMucHJvcHMubmF2aWdhdGlvbkJhclRyYW5zbHVjZW50fVxuICAgICAgICBpZGVudGlmaWVyPXt0aGlzLl9pZGVudGlmaWVyfVxuICAgICAgICBzdHlsZT17c3R5bGVzLm1vZGFsfVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI9e3RoaXMuX3Nob3VsZFNldFJlc3BvbmRlcn1cbiAgICAgICAgc3VwcG9ydGVkT3JpZW50YXRpb25zPXt0aGlzLnByb3BzLnN1cHBvcnRlZE9yaWVudGF0aW9uc31cbiAgICAgICAgb25PcmllbnRhdGlvbkNoYW5nZT17dGhpcy5wcm9wcy5vbk9yaWVudGF0aW9uQ2hhbmdlfVxuICAgICAgICB0ZXN0SUQ9e3RoaXMucHJvcHMudGVzdElEfT5cbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENvbnRleHRSZXNldHRlcj5cbiAgICAgICAgICA8U2Nyb2xsVmlldy5Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXtudWxsfT5cbiAgICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmNvbnRhaW5lciwgY29udGFpbmVyU3R5bGVzXX1cbiAgICAgICAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfT5cbiAgICAgICAgICAgICAge2lubmVyQ2hpbGRyZW59XG4gICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgPC9TY3JvbGxWaWV3LkNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q29udGV4dFJlc2V0dGVyPlxuICAgICAgPC9SQ1RNb2RhbEhvc3RWaWV3PlxuICAgICk7XG4gIH1cblxuICAvLyBXZSBkb24ndCB3YW50IGFueSByZXNwb25kZXIgZXZlbnRzIGJ1YmJsaW5nIG91dCBvZiB0aGUgbW9kYWwuXG4gIF9zaG91bGRTZXRSZXNwb25kZXIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuY29uc3Qgc2lkZSA9IEkxOG5NYW5hZ2VyLmdldENvbnN0YW50cygpLmlzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgbW9kYWw6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgfSxcbiAgY29udGFpbmVyOiB7XG4gICAgLyogJEZsb3dGaXhNZVtpbnZhbGlkLWNvbXB1dGVkLXByb3BdICg+PTAuMTExLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXNcbiAgICAgKiBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjExMSB3YXMgZGVwbG95ZWQuIFRvIHNlZVxuICAgICAqIHRoZSBlcnJvciwgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF1cbiAgICBbc2lkZV06IDAsXG4gICAgdG9wOiAwLFxuICAgIGZsZXg6IDEsXG4gIH0sXG59KTtcblxuY29uc3QgRXhwb3J0ZWRNb2RhbDogUmVhY3QuQ29tcG9uZW50VHlwZTxSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBNb2RhbD4+ID1cbiAgTW9kYWxJbmplY3Rpb24udW5zdGFibGVfTW9kYWwgPz8gTW9kYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gRXhwb3J0ZWRNb2RhbDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQWNBLElBQUFBLG1CQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxtQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZ0NBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLGlCQUFBLEdBQUFKLE9BQUE7QUFBK0UsSUFBQUssV0FBQSxHQUFBTCxPQUFBO0FBQUEsSUFBQU0scUJBQUE7QUFBQSxTQUFBQyxXQUFBQyxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxXQUFBRCxDQUFBLE9BQUFFLGdCQUFBLENBQUFDLE9BQUEsRUFBQUgsQ0FBQSxPQUFBSSwyQkFBQSxD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