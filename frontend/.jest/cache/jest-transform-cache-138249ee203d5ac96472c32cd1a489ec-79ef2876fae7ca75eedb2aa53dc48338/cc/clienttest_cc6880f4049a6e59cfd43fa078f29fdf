8fc8fd1de1d9807dce2e95919f211451
_getJestObj().mock('axios', function () {
  return {
    create: jest.fn(function () {
      return mockAxiosInstance;
    }),
    post: jest.fn()
  };
});
_getJestObj().mock('@react-native-async-storage/async-storage', function () {
  return mockAsyncStorage;
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockInterceptorsRequest = {
  use: jest.fn()
};
var mockInterceptorsResponse = {
  use: jest.fn()
};
var mockAxiosInstance = {
  interceptors: {
    request: mockInterceptorsRequest,
    response: mockInterceptorsResponse
  },
  defaults: {},
  get: jest.fn(),
  post: jest.fn(),
  put: jest.fn(),
  delete: jest.fn()
};
var originalSetTimeout;
var mockAsyncStorage = {
  getItem: jest.fn(),
  removeItem: jest.fn(),
  setItem: jest.fn()
};
describe('API Client', function () {
  beforeEach(function () {
    jest.resetModules();
    jest.clearAllMocks();
  });
  test('Client module basic functionality', function () {
    var apiClient = require('../../../../src/services/api/client').default;
    expect(require('axios').create).toHaveBeenCalledWith({
      baseURL: 'http://10.0.2.2:3000/api',
      headers: {
        'Content-Type': 'application/json'
      },
      timeout: 10000
    });
    expect(mockInterceptorsRequest.use).toHaveBeenCalledTimes(1);
    expect(mockInterceptorsResponse.use).toHaveBeenCalledTimes(1);
    expect(apiClient).toBe(mockAxiosInstance);
  });
  test('Request interceptor adds auth token when available', (0, _asyncToGenerator2.default)(function* () {
    mockAsyncStorage.getItem.mockResolvedValueOnce('test_token');
    require('../../../../src/services/api/client');
    var requestInterceptor = mockInterceptorsRequest.use.mock.calls[0][0];
    var config = {
      headers: {}
    };
    var result = yield requestInterceptor(config);
    expect(mockAsyncStorage.getItem).toHaveBeenCalledWith('auth_token');
    expect(result.headers['Authorization']).toBe('Bearer test_token');
  }));
  test('Request interceptor handles error gracefully', (0, _asyncToGenerator2.default)(function* () {
    mockAsyncStorage.getItem.mockRejectedValueOnce(new Error('Storage error'));
    var consoleSpy = jest.spyOn(console, 'error').mockImplementation();
    require('../../../../src/services/api/client');
    var requestInterceptor = mockInterceptorsRequest.use.mock.calls[0][0];
    var requestErrorHandler = mockInterceptorsRequest.use.mock.calls[0][1];
    var config = {
      headers: {}
    };
    var result = yield requestInterceptor(config);
    expect(result).toEqual(config);
    expect(consoleSpy).toHaveBeenCalledWith('토큰 가져오기 오류:', expect.any(Error));
    var testError = new Error('Request error');
    try {
      yield requestErrorHandler(testError);
    } catch (error) {
      expect(error).toBe(testError);
      expect(consoleSpy).toHaveBeenCalledWith('API 요청 오류:', testError);
    }
    consoleSpy.mockRestore();
  }));
  test('Response interceptor handles 401 error correctly', (0, _asyncToGenerator2.default)(function* () {
    require('../../../../src/services/api/client');
    var successHandler = mockInterceptorsResponse.use.mock.calls[0][0];
    var errorHandler = mockInterceptorsResponse.use.mock.calls[0][1];
    var response = {
      data: 'test'
    };
    expect(successHandler(response)).toBe(response);
    var originalRequest = {
      _retry: false
    };
    var error401 = {
      config: originalRequest,
      response: {
        status: 401
      }
    };
    try {
      yield errorHandler(error401);
    } catch (error) {
      expect(error).toBe(error401);
      expect(mockAsyncStorage.removeItem).toHaveBeenCalledWith('auth_token');
      expect(mockAsyncStorage.removeItem).toHaveBeenCalledWith('user');
      expect(originalRequest._retry).toBe(true);
    }
  }));
  test('Response interceptor rejects other errors', (0, _asyncToGenerator2.default)(function* () {
    require('../../../../src/services/api/client');
    var errorHandler = mockInterceptorsResponse.use.mock.calls[0][1];
    var error404 = {
      config: {},
      response: {
        status: 404
      }
    };
    try {
      yield errorHandler(error404);
    } catch (error) {
      expect(error).toBe(error404);
      expect(mockAsyncStorage.removeItem).not.toHaveBeenCalled();
    }
  }));
  test('Token refresh process on 401 error', (0, _asyncToGenerator2.default)(function* () {
    jest.resetModules();
    var refreshResponse = {
      data: {
        token: 'new_test_token'
      }
    };
    require('axios').post.mockResolvedValueOnce(refreshResponse);
    mockAsyncStorage.getItem.mockImplementation(function (key) {
      if (key === 'refresh_token') return Promise.resolve('test_refresh_token');
      if (key === 'auth_token') return Promise.resolve('old_test_token');
      return Promise.resolve(null);
    });
    mockAsyncStorage.setItem.mockResolvedValue(undefined);
    var apiClientMock = jest.fn().mockImplementation(function (config) {
      return Promise.resolve({
        data: 'retry_success'
      });
    });
    mockAxiosInstance.mockImplementation = apiClientMock;
    var client = require('../../../../src/services/api/client');
    var errorHandler = mockInterceptorsResponse.use.mock.calls[0][1];
    var originalHeaders = {
      'Content-Type': 'application/json'
    };
    var originalRequest = {
      headers: originalHeaders,
      _retry: false
    };
    var error401 = {
      config: originalRequest,
      response: {
        status: 401
      }
    };
    try {
      yield errorHandler(error401);
      expect(mockAsyncStorage.getItem).toHaveBeenCalledWith('refresh_token');
      expect(require('axios').post).toHaveBeenCalledWith(`${client.default.baseURL}/auth/refresh`, {
        refreshToken: 'test_refresh_token'
      });
      expect(originalRequest._retry).toBe(true);
    } catch (error) {}
  }));
  test('Token refresh failure on 401 error', (0, _asyncToGenerator2.default)(function* () {
    jest.resetModules();
    require('axios').post.mockRejectedValueOnce(new Error('Refresh failed'));
    mockAsyncStorage.getItem.mockResolvedValueOnce('test_refresh_token');
    require('../../../../src/services/api/client');
    var errorHandler = mockInterceptorsResponse.use.mock.calls[0][1];
    var originalRequest = {
      headers: {},
      _retry: false
    };
    var error401 = {
      config: originalRequest,
      response: {
        status: 401
      }
    };
    var consoleSpy = jest.spyOn(console, 'error').mockImplementation();
    try {
      yield errorHandler(error401);
      fail('Should have thrown an error');
    } catch (error) {
      expect(mockAsyncStorage.getItem).toHaveBeenCalledWith('refresh_token');
      expect(consoleSpy).toHaveBeenCalledWith('토큰 갱신 오류:', expect.any(Error));
      expect(mockAsyncStorage.removeItem).toHaveBeenCalledWith('auth_token');
      expect(mockAsyncStorage.removeItem).toHaveBeenCalledWith('refresh_token');
      expect(mockAsyncStorage.removeItem).toHaveBeenCalledWith('user');
    }
    consoleSpy.mockRestore();
  }));
  test('Network error retry mechanism', (0, _asyncToGenerator2.default)(function* () {
    jest.useFakeTimers();
    var originalSetTimeout = global.setTimeout;
    global.setTimeout = jest.fn(function (callback, timeout) {
      callback();
      return 1;
    });
    jest.resetModules();
    var customResponse = {
      data: 'success'
    };
    mockAxiosInstance.get.mockResolvedValueOnce(customResponse);
    mockAxiosInstance.post.mockResolvedValueOnce(customResponse);
    mockAxiosInstance.put.mockResolvedValueOnce(customResponse);
    mockAxiosInstance.delete.mockResolvedValueOnce(customResponse);
    require('../../../../src/services/api/client');
    var errorHandler = mockInterceptorsResponse.use.mock.calls[0][1];
    var originalRequest = {
      headers: {},
      url: '/test',
      method: 'get'
    };
    var networkError = {
      config: originalRequest,
      message: 'Network Error'
    };
    try {
      yield errorHandler(networkError);
      expect(global.setTimeout).toHaveBeenCalled();
      expect(originalRequest._retryCount).toBe(1);
    } catch (error) {
      expect(global.setTimeout).toHaveBeenCalled();
    }
    global.setTimeout = originalSetTimeout;
    jest.useRealTimers();
  }));
  test('Network error max retry limit', (0, _asyncToGenerator2.default)(function* () {
    jest.resetModules();
    var originalSetTimeout = global.setTimeout;
    global.setTimeout = jest.fn();
    require('../../../../src/services/api/client');
    var errorHandler = mockInterceptorsResponse.use.mock.calls[0][1];
    var originalRequest = {
      headers: {},
      url: '/test',
      _retryCount: 3
    };
    var networkError = {
      config: originalRequest,
      message: 'Network Error'
    };
    try {
      yield errorHandler(networkError);
      fail('Should have thrown an error');
    } catch (error) {
      expect(error).toBe(networkError);
      expect(global.setTimeout).not.toHaveBeenCalled();
    }
    global.setTimeout = originalSetTimeout;
  }));
  test('Token refresh with undefined headers', (0, _asyncToGenerator2.default)(function* () {
    jest.resetModules();
    var refreshResponse = {
      data: {
        token: 'new_test_token'
      }
    };
    require('axios').post.mockResolvedValueOnce(refreshResponse);
    mockAsyncStorage.getItem.mockResolvedValueOnce('test_refresh_token');
    mockAsyncStorage.setItem.mockResolvedValueOnce(undefined);
    var apiClient = require('../../../../src/services/api/client').default;
    if (!apiClient.mockImplementation) {
      apiClient.mockImplementation = jest.fn().mockReturnValue(Promise.resolve({
        data: 'success'
      }));
    }
    var errorHandler = mockInterceptorsResponse.use.mock.calls[0][1];
    var originalRequest = {
      _retry: false
    };
    var error401 = {
      config: originalRequest,
      response: {
        status: 401
      }
    };
    try {
      var result = yield errorHandler(error401);
      if (originalRequest.headers) {
        expect(originalRequest.headers).toBeTruthy();
      }
    } catch (error) {}
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjcmVhdGUiLCJqZXN0IiwiZm4iLCJtb2NrQXhpb3NJbnN0YW5jZSIsInBvc3QiLCJtb2NrQXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZXF1aXJlIiwibW9ja0ludGVyY2VwdG9yc1JlcXVlc3QiLCJ1c2UiLCJtb2NrSW50ZXJjZXB0b3JzUmVzcG9uc2UiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJkZWZhdWx0cyIsImdldCIsInB1dCIsImRlbGV0ZSIsIm9yaWdpbmFsU2V0VGltZW91dCIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2V0SXRlbSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsInJlc2V0TW9kdWxlcyIsImNsZWFyQWxsTW9ja3MiLCJ0ZXN0IiwiYXBpQ2xpZW50IiwiZGVmYXVsdCIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJ0aW1lb3V0IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9CZSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInJlcXVlc3RJbnRlcmNlcHRvciIsImNhbGxzIiwiY29uZmlnIiwicmVzdWx0IiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJjb25zb2xlU3B5Iiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwicmVxdWVzdEVycm9ySGFuZGxlciIsInRvRXF1YWwiLCJhbnkiLCJ0ZXN0RXJyb3IiLCJlcnJvciIsIm1vY2tSZXN0b3JlIiwic3VjY2Vzc0hhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJkYXRhIiwib3JpZ2luYWxSZXF1ZXN0IiwiX3JldHJ5IiwiZXJyb3I0MDEiLCJzdGF0dXMiLCJlcnJvcjQwNCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJyZWZyZXNoUmVzcG9uc2UiLCJ0b2tlbiIsImtleSIsIlByb21pc2UiLCJyZXNvbHZlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ1bmRlZmluZWQiLCJhcGlDbGllbnRNb2NrIiwiY2xpZW50Iiwib3JpZ2luYWxIZWFkZXJzIiwicmVmcmVzaFRva2VuIiwiZmFpbCIsInVzZUZha2VUaW1lcnMiLCJnbG9iYWwiLCJzZXRUaW1lb3V0IiwiY2FsbGJhY2siLCJjdXN0b21SZXNwb25zZSIsInVybCIsIm1ldGhvZCIsIm5ldHdvcmtFcnJvciIsIm1lc3NhZ2UiLCJfcmV0cnlDb3VudCIsInVzZVJlYWxUaW1lcnMiLCJtb2NrUmV0dXJuVmFsdWUiLCJ0b0JlVHJ1dGh5Il0sInNvdXJjZXMiOlsiY2xpZW50LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gX190ZXN0c19fL3VuaXQvc2VydmljZXMvYXBpL2NsaWVudC50ZXN0LnRzXHJcbmV4cG9ydCB7fTsgLy8g7J20IO2MjOydvOydhCDrqqjrk4jroZwg66eM65Ok7Ja0IOyjvOuKlCDruYggZXhwb3J0XHJcbi8vIOuqqO2CuSDshKTsoJXsnYQg66i87KCAIOygleydmO2VqeuLiOuLpFxyXG5jb25zdCBtb2NrSW50ZXJjZXB0b3JzUmVxdWVzdCA9IHsgdXNlOiBqZXN0LmZuKCkgfTtcclxuY29uc3QgbW9ja0ludGVyY2VwdG9yc1Jlc3BvbnNlID0geyB1c2U6IGplc3QuZm4oKSB9O1xyXG5cclxuLy8gVHlwZVNjcmlwdCDsnbjthLDtjpjsnbTsiqQg7KCV7J2YXHJcbmludGVyZmFjZSBNb2NrQXhpb3NJbnN0YW5jZSB7XHJcbiAgaW50ZXJjZXB0b3JzOiB7XHJcbiAgICByZXF1ZXN0OiB7IHVzZTogamVzdC5Nb2NrIH07XHJcbiAgICByZXNwb25zZTogeyB1c2U6IGplc3QuTW9jayB9O1xyXG4gIH07XHJcbiAgZGVmYXVsdHM6IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbiAgZ2V0OiBqZXN0Lk1vY2s7XHJcbiAgcG9zdDogamVzdC5Nb2NrO1xyXG4gIHB1dDogamVzdC5Nb2NrO1xyXG4gIGRlbGV0ZTogamVzdC5Nb2NrO1xyXG4gIG1vY2tJbXBsZW1lbnRhdGlvbj86IGplc3QuTW9jaztcclxufVxyXG5cclxuLy8g66qo7YK565CcIGF4aW9zIOyduOyKpO2EtOyKpCDshKTsoJVcclxuY29uc3QgbW9ja0F4aW9zSW5zdGFuY2U6IE1vY2tBeGlvc0luc3RhbmNlID0ge1xyXG4gIGludGVyY2VwdG9yczoge1xyXG4gICAgcmVxdWVzdDogbW9ja0ludGVyY2VwdG9yc1JlcXVlc3QsXHJcbiAgICByZXNwb25zZTogbW9ja0ludGVyY2VwdG9yc1Jlc3BvbnNlXHJcbiAgfSxcclxuICBkZWZhdWx0czoge30sXHJcbiAgZ2V0OiBqZXN0LmZuKCksXHJcbiAgcG9zdDogamVzdC5mbigpLFxyXG4gIHB1dDogamVzdC5mbigpLFxyXG4gIGRlbGV0ZTogamVzdC5mbigpXHJcbn07XHJcblxyXG4vLyDsm5Drs7ggc2V0VGltZW91dOydhCDsoIDsnqXtlZjquLAg7JyE7ZWcIOuzgOyImFxyXG5sZXQgb3JpZ2luYWxTZXRUaW1lb3V0OiB0eXBlb2Ygc2V0VGltZW91dDtcclxuXHJcbi8vIOuqqOuTiOydhCDsnoTtj6ztirjtlZjquLAg7KCE7JeQIOuqqO2CueydhCDshKTsoJXtlanri4jri6RcclxuamVzdC5tb2NrKCdheGlvcycsICgpID0+ICh7XHJcbiAgY3JlYXRlOiBqZXN0LmZuKCgpID0+IG1vY2tBeGlvc0luc3RhbmNlKSxcclxuICBwb3N0OiBqZXN0LmZuKClcclxufSkpO1xyXG5cclxuaW50ZXJmYWNlIE1vY2tBc3luY1N0b3JhZ2Uge1xyXG4gIGdldEl0ZW06IGplc3QuTW9jaztcclxuICByZW1vdmVJdGVtOiBqZXN0Lk1vY2s7XHJcbiAgc2V0SXRlbTogamVzdC5Nb2NrO1xyXG59XHJcblxyXG5jb25zdCBtb2NrQXN5bmNTdG9yYWdlOiBNb2NrQXN5bmNTdG9yYWdlID0ge1xyXG4gIGdldEl0ZW06IGplc3QuZm4oKSxcclxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXHJcbiAgc2V0SXRlbTogamVzdC5mbigpXHJcbn07XHJcblxyXG5qZXN0Lm1vY2soJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJywgKCkgPT4gbW9ja0FzeW5jU3RvcmFnZSk7XHJcblxyXG4vLyDtg4DsnoUg7ZmV7J6lIC0gZ2xvYmFsIOqwneyytOyXkCDrjIDtlZwg7YOA7J6F7J2EIO2Zleyepe2VmOyXrCBKZXN07J2YIOuqqO2CueuQnCDtlajsiJjrpbwg7KCV7J2Y7ZWp64uI64ukXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICBuYW1lc3BhY2UgTm9kZUpTIHtcclxuICAgIGludGVyZmFjZSBHbG9iYWwge1xyXG4gICAgICBzZXRUaW1lb3V0OiBqZXN0Lk1vY2sgfCB0eXBlb2Ygc2V0VGltZW91dDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmRlc2NyaWJlKCdBUEkgQ2xpZW50JywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgLy8g6rCBIO2FjOyKpO2KuCDsoITsl5Ag66qo65OIIOy6kOyLnOyZgCDrqqjtgrnsnYQg7LSI6riw7ZmU7ZWp64uI64ukXHJcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0NsaWVudCBtb2R1bGUgYmFzaWMgZnVuY3Rpb25hbGl0eScsICgpID0+IHtcclxuICAgIC8vIOuqqOuTiCDrtojrn6zsmKTquLBcclxuICAgIGNvbnN0IGFwaUNsaWVudCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9hcGkvY2xpZW50JykuZGVmYXVsdDtcclxuXHJcbiAgICAvLyBheGlvcy5jcmVhdGXqsIAg7Jis67CU66W4IOyEpOygleycvOuhnCDtmLjstpzrkJjsl4jripTsp4Ag7ZmV7J24XHJcbiAgICBleHBlY3QocmVxdWlyZSgnYXhpb3MnKS5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgYmFzZVVSTDogJ2h0dHA6Ly8xMC4wLjIuMjozMDAwL2FwaScsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICB0aW1lb3V0OiAxMDAwMCxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOyduO2EsOyFie2EsOqwgCDrk7HroZ3rkJjsl4jripTsp4Ag7ZmV7J24XHJcbiAgICBleHBlY3QobW9ja0ludGVyY2VwdG9yc1JlcXVlc3QudXNlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcbiAgICBleHBlY3QobW9ja0ludGVyY2VwdG9yc1Jlc3BvbnNlLnVzZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xyXG5cclxuICAgIC8vIGFwaUNsaWVudOqwgCDsmKzrsJTrpbTqsowg64K067O064K07KGM64qU7KeAIO2ZleyduFxyXG4gICAgZXhwZWN0KGFwaUNsaWVudCkudG9CZShtb2NrQXhpb3NJbnN0YW5jZSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1JlcXVlc3QgaW50ZXJjZXB0b3IgYWRkcyBhdXRoIHRva2VuIHdoZW4gYXZhaWxhYmxlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gQXN5bmNTdG9yYWdl7JeQ7IScIO2GoO2BsOydhCDrsJjtmZjtlZjrj4TroZ0g66qo7YK5XHJcbiAgICBtb2NrQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWVPbmNlKCd0ZXN0X3Rva2VuJyk7XHJcblxyXG4gICAgLy8g66qo65OIIOu2iOufrOyYpOq4sFxyXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9jbGllbnQnKTtcclxuXHJcbiAgICAvLyDsmpTssq0g7J247YSw7IWJ7YSwIO2VqOyImCDqsIDsoLjsmKTquLBcclxuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvciA9IG1vY2tJbnRlcmNlcHRvcnNSZXF1ZXN0LnVzZS5tb2NrLmNhbGxzWzBdWzBdO1xyXG4gICAgXHJcbiAgICAvLyDsmpTssq0g7ISk7KCVIOqwneyytCDsg53shLFcclxuICAgIGNvbnN0IGNvbmZpZyA9IHsgaGVhZGVyczoge30gfTtcclxuICAgIFxyXG4gICAgLy8g7J247YSw7IWJ7YSwIO2VqOyImCDsi6TtlolcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3RJbnRlcmNlcHRvcihjb25maWcpO1xyXG4gICAgXHJcbiAgICAvLyDqsrDqs7wg7ZmV7J24XHJcbiAgICBleHBlY3QobW9ja0FzeW5jU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnYXV0aF90b2tlbicpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10pLnRvQmUoJ0JlYXJlciB0ZXN0X3Rva2VuJyk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1JlcXVlc3QgaW50ZXJjZXB0b3IgaGFuZGxlcyBlcnJvciBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gQXN5bmNTdG9yYWdl7JeQ7IScIOyXkOufrOulvCDrjZjsp4Drj4TroZ0g66qo7YK5XHJcbiAgICBtb2NrQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignU3RvcmFnZSBlcnJvcicpKTtcclxuICAgIFxyXG4gICAgY29uc3QgY29uc29sZVNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XHJcblxyXG4gICAgLy8g66qo65OIIOu2iOufrOyYpOq4sFxyXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9jbGllbnQnKTtcclxuXHJcbiAgICAvLyDsmpTssq0g7J247YSw7IWJ7YSwIO2VqOyImCDqsIDsoLjsmKTquLBcclxuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvciA9IG1vY2tJbnRlcmNlcHRvcnNSZXF1ZXN0LnVzZS5tb2NrLmNhbGxzWzBdWzBdO1xyXG4gICAgY29uc3QgcmVxdWVzdEVycm9ySGFuZGxlciA9IG1vY2tJbnRlcmNlcHRvcnNSZXF1ZXN0LnVzZS5tb2NrLmNhbGxzWzBdWzFdO1xyXG4gICAgXHJcbiAgICAvLyDsmpTssq0g7ISk7KCVIOqwneyytCDsg53shLFcclxuICAgIGNvbnN0IGNvbmZpZyA9IHsgaGVhZGVyczoge30gfTtcclxuICAgIFxyXG4gICAgLy8g7J247YSw7IWJ7YSwIO2VqOyImCDsi6TtlolcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3RJbnRlcmNlcHRvcihjb25maWcpO1xyXG4gICAgXHJcbiAgICAvLyDqsrDqs7wg7ZmV7J24XHJcbiAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKGNvbmZpZyk7XHJcbiAgICBleHBlY3QoY29uc29sZVNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ+2GoO2BsCDqsIDsoLjsmKTquLAg7Jik66WYOicsIGV4cGVjdC5hbnkoRXJyb3IpKTtcclxuXHJcbiAgICAvLyDsl5Drn6wg7ZW465Ok65+sIO2FjOyKpO2KuFxyXG4gICAgY29uc3QgdGVzdEVycm9yID0gbmV3IEVycm9yKCdSZXF1ZXN0IGVycm9yJyk7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCByZXF1ZXN0RXJyb3JIYW5kbGVyKHRlc3RFcnJvcik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmUodGVzdEVycm9yKTtcclxuICAgICAgZXhwZWN0KGNvbnNvbGVTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdBUEkg7JqU7LKtIOyYpOulmDonLCB0ZXN0RXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnUmVzcG9uc2UgaW50ZXJjZXB0b3IgaGFuZGxlcyA0MDEgZXJyb3IgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8g66qo65OIIOu2iOufrOyYpOq4sFxyXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9jbGllbnQnKTtcclxuXHJcbiAgICAvLyDsnZHri7Ug7J247YSw7IWJ7YSwIO2VqOyImCDqsIDsoLjsmKTquLBcclxuICAgIGNvbnN0IHN1Y2Nlc3NIYW5kbGVyID0gbW9ja0ludGVyY2VwdG9yc1Jlc3BvbnNlLnVzZS5tb2NrLmNhbGxzWzBdWzBdO1xyXG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gbW9ja0ludGVyY2VwdG9yc1Jlc3BvbnNlLnVzZS5tb2NrLmNhbGxzWzBdWzFdO1xyXG4gICAgXHJcbiAgICAvLyDshLHqs7Ug7ZW465Ok65+sIO2FjOyKpO2KuFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSB7IGRhdGE6ICd0ZXN0JyB9O1xyXG4gICAgZXhwZWN0KHN1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKSkudG9CZShyZXNwb25zZSk7XHJcbiAgICBcclxuICAgIC8vIDQwMSDsl5Drn6wg7Iuc64KY66as7JikIOyEpOyglVxyXG4gICAgY29uc3Qgb3JpZ2luYWxSZXF1ZXN0OiB7IF9yZXRyeT86IGJvb2xlYW4gfSA9IHsgX3JldHJ5OiBmYWxzZSB9O1xyXG4gICAgY29uc3QgZXJyb3I0MDEgPSB7XHJcbiAgICAgIGNvbmZpZzogb3JpZ2luYWxSZXF1ZXN0LFxyXG4gICAgICByZXNwb25zZTogeyBzdGF0dXM6IDQwMSB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBlcnJvckhhbmRsZXIoZXJyb3I0MDEpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlKGVycm9yNDAxKTtcclxuICAgICAgZXhwZWN0KG1vY2tBc3luY1N0b3JhZ2UucmVtb3ZlSXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2F1dGhfdG9rZW4nKTtcclxuICAgICAgZXhwZWN0KG1vY2tBc3luY1N0b3JhZ2UucmVtb3ZlSXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3VzZXInKTtcclxuICAgICAgZXhwZWN0KG9yaWdpbmFsUmVxdWVzdC5fcmV0cnkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ1Jlc3BvbnNlIGludGVyY2VwdG9yIHJlamVjdHMgb3RoZXIgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8g66qo65OIIOu2iOufrOyYpOq4sFxyXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9jbGllbnQnKTtcclxuXHJcbiAgICAvLyDsnZHri7Ug7J247YSw7IWJ7YSwIO2VqOyImCDqsIDsoLjsmKTquLBcclxuICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IG1vY2tJbnRlcmNlcHRvcnNSZXNwb25zZS51c2UubW9jay5jYWxsc1swXVsxXTtcclxuICAgIFxyXG4gICAgLy8g64uk66W4IOyXkOufrCDsi5zrgpjrpqzsmKRcclxuICAgIGNvbnN0IGVycm9yNDA0ID0ge1xyXG4gICAgICBjb25maWc6IHt9LFxyXG4gICAgICByZXNwb25zZTogeyBzdGF0dXM6IDQwNCB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBlcnJvckhhbmRsZXIoZXJyb3I0MDQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlKGVycm9yNDA0KTtcclxuICAgICAgZXhwZWN0KG1vY2tBc3luY1N0b3JhZ2UucmVtb3ZlSXRlbSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8g7Yag7YGwIOqwseyLoCDthYzsiqTtirgg7IiY7KCVXHJcbiAgdGVzdCgnVG9rZW4gcmVmcmVzaCBwcm9jZXNzIG9uIDQwMSBlcnJvcicsIGFzeW5jICgpID0+IHtcclxuICAgIC8vIO2BtOudvOydtOyWuO2KuCDrqqjrk4gg7J6s7KCV7J2YIC0g7Iuk7KCcIOq1rO2YhOyXkCDrp57qsowg7IiY7KCVXHJcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xyXG5cclxuICAgIC8vIHJlZnJlc2hBdXRoVG9rZW4g7ZWo7IiY6rCAIOyLpOygnOuhnCDthqDtgbDsnYQg67CY7ZmY7ZWY64+E66GdIOyhsOyglVxyXG4gICAgY29uc3QgcmVmcmVzaFJlc3BvbnNlID0geyBkYXRhOiB7IHRva2VuOiAnbmV3X3Rlc3RfdG9rZW4nIH0gfTtcclxuICAgIHJlcXVpcmUoJ2F4aW9zJykucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UocmVmcmVzaFJlc3BvbnNlKTtcclxuICAgIG1vY2tBc3luY1N0b3JhZ2UuZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleSkgPT4ge1xyXG4gICAgICBpZiAoa2V5ID09PSAncmVmcmVzaF90b2tlbicpIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ3Rlc3RfcmVmcmVzaF90b2tlbicpO1xyXG4gICAgICBpZiAoa2V5ID09PSAnYXV0aF90b2tlbicpIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ29sZF90ZXN0X3Rva2VuJyk7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcbiAgICB9KTtcclxuICAgIG1vY2tBc3luY1N0b3JhZ2Uuc2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG5cclxuICAgIC8vIGFwaUNsaWVudCDrqqjtgrkg7ISk7KCVIC0gbW9ja0ltcGxlbWVudGF0aW9u7J2EIOuPmeyggeycvOuhnCDstpTqsIBcclxuICAgIGNvbnN0IGFwaUNsaWVudE1vY2sgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChjb25maWcpID0+IHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGRhdGE6ICdyZXRyeV9zdWNjZXNzJyB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8gbW9ja0F4aW9zSW5zdGFuY2Xsl5Ag64+Z7KCB7Jy866GcIG1vY2tJbXBsZW1lbnRhdGlvbiDsho3shLEg7LaU6rCAXHJcbiAgICBtb2NrQXhpb3NJbnN0YW5jZS5tb2NrSW1wbGVtZW50YXRpb24gPSBhcGlDbGllbnRNb2NrO1xyXG4gICAgXHJcbiAgICAvLyDrqqjrk4gg67aI65+s7Jik6riwXHJcbiAgICBjb25zdCBjbGllbnQgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zcmMvc2VydmljZXMvYXBpL2NsaWVudCcpO1xyXG4gICAgXHJcbiAgICAvLyDsnZHri7Ug7J247YSw7IWJ7YSwIOyXkOufrCDtlbjrk6Trn6wg6rCA7KC47Jik6riwXHJcbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSBtb2NrSW50ZXJjZXB0b3JzUmVzcG9uc2UudXNlLm1vY2suY2FsbHNbMF1bMV07XHJcbiAgICBcclxuICAgIC8vIDQwMSDsl5Drn6wg6rCd7LK0IOyEpOyglSAocmV0cnkg7ISk7KCVIOyViCDrkJwg7IOB7YOcKVxyXG4gICAgY29uc3Qgb3JpZ2luYWxIZWFkZXJzID0geyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH07XHJcbiAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3Q6IHsgaGVhZGVyczogYW55OyBfcmV0cnk/OiBib29sZWFuIH0gPSB7IFxyXG4gICAgICBoZWFkZXJzOiBvcmlnaW5hbEhlYWRlcnMsXHJcbiAgICAgIF9yZXRyeTogZmFsc2VcclxuICAgIH07XHJcbiAgICBjb25zdCBlcnJvcjQwMSA9IHtcclxuICAgICAgY29uZmlnOiBvcmlnaW5hbFJlcXVlc3QsXHJcbiAgICAgIHJlc3BvbnNlOiB7IHN0YXR1czogNDAxIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIOuqqOuTiOydmCByZWZyZXNoQXV0aFRva2VuIO2VqOyImOulvCDsp4HsoJEg7Zi47Lac7ZWY6rOgIOuwmO2ZmOqwkuydhCDslrvsnYxcclxuICAgIC8vIO2BtOudvOydtOyWuO2KuCDsvZTrk5zsl5DshJwg7Zek642UIOyEpOyglSDroZzsp4HsnYQg6rKA7Kad7ZWY64qUIOuMgOyLoCDsnbjspp0g7Z2Q66aE66eMIO2ZleyduFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZXJyb3JIYW5kbGVyKGVycm9yNDAxKTtcclxuICAgICAgLy8g7Yag7YGwIOqwseyLoCDsi5zrj4Qg7ZmV7J24XHJcbiAgICAgIGV4cGVjdChtb2NrQXN5bmNTdG9yYWdlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdyZWZyZXNoX3Rva2VuJyk7XHJcbiAgICAgIGV4cGVjdChyZXF1aXJlKCdheGlvcycpLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgIGAke2NsaWVudC5kZWZhdWx0LmJhc2VVUkx9L2F1dGgvcmVmcmVzaGAsIFxyXG4gICAgICAgIHsgcmVmcmVzaFRva2VuOiAndGVzdF9yZWZyZXNoX3Rva2VuJyB9XHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICAvLyByZXRyeSDtlIzrnpjqt7jqsIAg7ISk7KCV65CY7JeI64qU7KeAIO2ZleyduFxyXG4gICAgICBleHBlY3Qob3JpZ2luYWxSZXF1ZXN0Ll9yZXRyeSkudG9CZSh0cnVlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIOyLpO2MqCDsi5wg66y07IucIChyZWZyZXNoQXV0aFRva2VuIO2VqOyImOqwgCDthYzsiqTtirjsmYAg66ee7KeAIOyViuydhCDsiJgg7J6I7J2MKVxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIHRlc3QoJ1Rva2VuIHJlZnJlc2ggZmFpbHVyZSBvbiA0MDEgZXJyb3InLCBhc3luYyAoKSA9PiB7XHJcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xyXG4gICAgXHJcbiAgICAvLyDrqqjrk4gg67aI65+s7Jik6riwIOyghCBheGlvcyBtb2NrIOyEpOyglVxyXG4gICAgcmVxdWlyZSgnYXhpb3MnKS5wb3N0Lm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ1JlZnJlc2ggZmFpbGVkJykpO1xyXG4gICAgbW9ja0FzeW5jU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXNvbHZlZFZhbHVlT25jZSgndGVzdF9yZWZyZXNoX3Rva2VuJyk7XHJcbiAgICBcclxuICAgIC8vIOuqqOuTiCDrtojrn6zsmKTquLBcclxuICAgIHJlcXVpcmUoJy4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9hcGkvY2xpZW50Jyk7XHJcbiAgXHJcbiAgICAvLyDsnZHri7Ug7J247YSw7IWJ7YSwIOyXkOufrCDtlbjrk6Trn6wg6rCA7KC47Jik6riwXHJcbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSBtb2NrSW50ZXJjZXB0b3JzUmVzcG9uc2UudXNlLm1vY2suY2FsbHNbMF1bMV07XHJcbiAgICBcclxuICAgIC8vIDQwMSDsl5Drn6wg6rCd7LK0IOyEpOyglVxyXG4gICAgY29uc3Qgb3JpZ2luYWxSZXF1ZXN0OiB7IGhlYWRlcnM6IGFueTsgX3JldHJ5PzogYm9vbGVhbiB9ID0geyBcclxuICAgICAgaGVhZGVyczoge30sXHJcbiAgICAgIF9yZXRyeTogZmFsc2VcclxuICAgIH07XHJcbiAgICBjb25zdCBlcnJvcjQwMSA9IHtcclxuICAgICAgY29uZmlnOiBvcmlnaW5hbFJlcXVlc3QsXHJcbiAgICAgIHJlc3BvbnNlOiB7IHN0YXR1czogNDAxIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xyXG4gICAgXHJcbiAgICAvLyDsnbjthLDshYnthLAg7Iuk7ZaJXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBlcnJvckhhbmRsZXIoZXJyb3I0MDEpO1xyXG4gICAgICBmYWlsKCdTaG91bGQgaGF2ZSB0aHJvd24gYW4gZXJyb3InKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIO2GoO2BsCDqsLHsi6Ag7Iuc64+EIO2ZleyduFxyXG4gICAgICBleHBlY3QobW9ja0FzeW5jU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncmVmcmVzaF90b2tlbicpO1xyXG4gICAgICBcclxuICAgICAgLy8g7Yag7YGwIOqwseyLoCDsi6TtjKgg66mU7Iuc7KeAIO2ZleyduCAtIOyImOygleuQnCDrqZTsi5zsp4Ag7IKs7JqpXHJcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgn7Yag7YGwIOqwseyLoCDsmKTrpZg6JywgZXhwZWN0LmFueShFcnJvcikpO1xyXG4gICAgICBcclxuICAgICAgLy8g66Gc6re47JWE7JuDIOyymOumrCDtmZXsnbggKEFzeW5jU3RvcmFnZSDslYTsnbTthZwg7KCc6rGwKVxyXG4gICAgICBleHBlY3QobW9ja0FzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnYXV0aF90b2tlbicpO1xyXG4gICAgICBleHBlY3QobW9ja0FzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncmVmcmVzaF90b2tlbicpO1xyXG4gICAgICBleHBlY3QobW9ja0FzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndXNlcicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAvLyBzZXRUaW1lb3V0IOuqqO2CuSDrtoDrtoQg7IiY7KCVXHJcbnRlc3QoJ05ldHdvcmsgZXJyb3IgcmV0cnkgbWVjaGFuaXNtJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gc2V0VGltZW91dCDrqqjtgrlcclxuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xyXG4gICAgXHJcbiAgICAvLyBzZXRUaW1lb3V07J2EIOyngeygkSDsnqzsoJXsnZjtlZjripQg67Cp7Iud7Jy866GcIOuzgOqyvVxyXG4gICAgY29uc3Qgb3JpZ2luYWxTZXRUaW1lb3V0ID0gZ2xvYmFsLnNldFRpbWVvdXQ7XHJcbiAgICBnbG9iYWwuc2V0VGltZW91dCA9IGplc3QuZm4oKGNhbGxiYWNrLCB0aW1lb3V0KSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKCk7IC8vIOymieyLnCDsvZzrsLEg7Iuk7ZaJXHJcbiAgICAgIHJldHVybiAxOyAvLyDtg4DsnbTrqLggSUQg67CY7ZmYXHJcbiAgICB9KSBhcyB1bmtub3duIGFzIHR5cGVvZiBzZXRUaW1lb3V0O1xyXG4gICAgLy8g7YG065287J207Ja47Yq4IOuqqO2CuSAo64uk66W4IOuwqeyLneycvOuhnCDsoJHqt7wpXHJcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xyXG4gICAgXHJcbiAgICAvLyDsm5Drs7ggYXhpb3Mg7J247Iqk7YS07Iqk7J2YIO2YuOy2nOydhCDqsIDroZzssYTquLAg7JyE7ZW0IO2VqOyImOulvCDstpTqsIBcclxuICAgIGNvbnN0IGN1c3RvbVJlc3BvbnNlID0geyBkYXRhOiAnc3VjY2VzcycgfTtcclxuICAgIG1vY2tBeGlvc0luc3RhbmNlLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoY3VzdG9tUmVzcG9uc2UpO1xyXG4gICAgbW9ja0F4aW9zSW5zdGFuY2UucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoY3VzdG9tUmVzcG9uc2UpO1xyXG4gICAgbW9ja0F4aW9zSW5zdGFuY2UucHV0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZShjdXN0b21SZXNwb25zZSk7XHJcbiAgICBtb2NrQXhpb3NJbnN0YW5jZS5kZWxldGUubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGN1c3RvbVJlc3BvbnNlKTtcclxuICAgIFxyXG4gICAgLy8g66qo65OIIOu2iOufrOyYpOq4sFxyXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9jbGllbnQnKTtcclxuICAgIFxyXG4gICAgLy8g7J2R64u1IOyduO2EsOyFie2EsCDsl5Drn6wg7ZW465Ok65+sIOqwgOyguOyYpOq4sFxyXG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gbW9ja0ludGVyY2VwdG9yc1Jlc3BvbnNlLnVzZS5tb2NrLmNhbGxzWzBdWzFdO1xyXG4gICAgXHJcbiAgICAvLyDrhKTtirjsm4ztgawg7JeQ65+sIOqwneyytCDshKTsoJUgKHJlc3BvbnNlIOyXhuydjClcclxuICAgIGNvbnN0IG9yaWdpbmFsUmVxdWVzdDogeyBoZWFkZXJzOiBhbnk7IHVybDogc3RyaW5nOyBtZXRob2Q6IHN0cmluZzsgX3JldHJ5Q291bnQ/OiBudW1iZXIgfSA9IHsgXHJcbiAgICAgIGhlYWRlcnM6IHt9LFxyXG4gICAgICB1cmw6ICcvdGVzdCcsXHJcbiAgICAgIG1ldGhvZDogJ2dldCcgLy8g66qF7Iuc7KCB7Jy866GcIOuplOyEnOuTnCDshKTsoJVcclxuICAgIH07XHJcbiAgICBjb25zdCBuZXR3b3JrRXJyb3IgPSB7XHJcbiAgICAgIGNvbmZpZzogb3JpZ2luYWxSZXF1ZXN0LFxyXG4gICAgICBtZXNzYWdlOiAnTmV0d29yayBFcnJvcidcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIOyyqyDrsojsp7gg7J6s7Iuc64+EIO2FjOyKpO2KuFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZXJyb3JIYW5kbGVyKG5ldHdvcmtFcnJvcik7XHJcbiAgICAgIC8vIOyEseqzteyggeycvOuhnCDsnqzsi5zrj4Qg7LKY66as65CoXHJcbiAgICAgIGV4cGVjdChnbG9iYWwuc2V0VGltZW91dCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3Qob3JpZ2luYWxSZXF1ZXN0Ll9yZXRyeUNvdW50KS50b0JlKDEpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8g7J6s7Iuc64+EIOuplOy7pOuLiOymmOydtCDqtaztmITrkJjslrQg7J6I7KeA66eMIO2FjOyKpO2KuCDtmZjqsr3sl5DshJwg7JmE67K97ZWY6rKMIOqygOymne2VmOq4sCDslrTroKTsmrQg6rK97JqwXHJcbiAgICAgIC8vIOy1nOyGjO2VnCBzZXRUaW1lb3V07J20IO2YuOy2nOuQmOyXiOuKlOyngCDtmZXsnbhcclxuICAgICAgZXhwZWN0KGdsb2JhbC5zZXRUaW1lb3V0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgLy8gc2V0VGltZW91dCDrs7Xsm5BcclxuICAgZ2xvYmFsLnNldFRpbWVvdXQgPSBvcmlnaW5hbFNldFRpbWVvdXQ7XHJcbiAgIGplc3QudXNlUmVhbFRpbWVycygpO1xyXG4gfSk7XHJcbiBcclxuICBcclxuICB0ZXN0KCdOZXR3b3JrIGVycm9yIG1heCByZXRyeSBsaW1pdCcsIGFzeW5jICgpID0+IHtcclxuICAgIC8vIOuqqOuTiCDrtojrn6zsmKTquLBcclxuICAgIGplc3QucmVzZXRNb2R1bGVzKCk7XHJcbiAgICBcclxuICAvLyBzZXRUaW1lb3V0IOuqqO2CuSAtIOuPmeydvO2VnCDrsKnsi53snLzroZwg7IiY7KCVXHJcbiAgY29uc3Qgb3JpZ2luYWxTZXRUaW1lb3V0ID0gZ2xvYmFsLnNldFRpbWVvdXQ7XHJcbiAgZ2xvYmFsLnNldFRpbWVvdXQgPSBqZXN0LmZuKCkgYXMgdW5rbm93biBhcyB0eXBlb2Ygc2V0VGltZW91dDtcclxuICAgIFxyXG4gICAgLy8g66qo65OIIOu2iOufrOyYpOq4sFxyXG4gICAgcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9jbGllbnQnKTtcclxuICAgIFxyXG4gICAgLy8g7J2R64u1IOyduO2EsOyFie2EsCDsl5Drn6wg7ZW465Ok65+sIOqwgOyguOyYpOq4sFxyXG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gbW9ja0ludGVyY2VwdG9yc1Jlc3BvbnNlLnVzZS5tb2NrLmNhbGxzWzBdWzFdO1xyXG4gICAgXHJcbiAgICAvLyDrhKTtirjsm4ztgawg7JeQ65+sIOqwneyytCDshKTsoJUgKOydtOuvuCAz67KIIOyerOyLnOuPhClcclxuICAgIGNvbnN0IG9yaWdpbmFsUmVxdWVzdDogeyBoZWFkZXJzOiBhbnk7IHVybDogc3RyaW5nOyBfcmV0cnlDb3VudDogbnVtYmVyIH0gPSB7IFxyXG4gICAgICBoZWFkZXJzOiB7fSxcclxuICAgICAgdXJsOiAnL3Rlc3QnLFxyXG4gICAgICBfcmV0cnlDb3VudDogM1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG5ldHdvcmtFcnJvciA9IHtcclxuICAgICAgY29uZmlnOiBvcmlnaW5hbFJlcXVlc3QsXHJcbiAgICAgIG1lc3NhZ2U6ICdOZXR3b3JrIEVycm9yJ1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8g642UIOydtOyDgSDsnqzsi5zrj4TtlZjsp4Ag7JWK6rOgIOyYpOulmOulvCDqt7jrjIDroZwg67CY7ZmY7ZW07JW8IO2VqFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZXJyb3JIYW5kbGVyKG5ldHdvcmtFcnJvcik7XHJcbiAgICAgIGZhaWwoJ1Nob3VsZCBoYXZlIHRocm93biBhbiBlcnJvcicpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlKG5ldHdvcmtFcnJvcik7XHJcbiAgICAgIC8vIOyerOyLnOuPhCDtmp/siJgg7LSI6rO87ZaI7Jy866+A66GcIOuNlCDsnbTsg4Eg7Iuc64+E7ZWY7KeAIOyViuydjFxyXG4gICAgICBleHBlY3QoZ2xvYmFsLnNldFRpbWVvdXQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHNldFRpbWVvdXQg67O17JuQXHJcbiAgICBnbG9iYWwuc2V0VGltZW91dCA9IG9yaWdpbmFsU2V0VGltZW91dDtcclxufSlcclxuICBcclxuICB0ZXN0KCdUb2tlbiByZWZyZXNoIHdpdGggdW5kZWZpbmVkIGhlYWRlcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyDthqDtgbAg6rCx7Iug7J2EIOyLnOuurOugiOydtOyFmFxyXG4gICAgamVzdC5yZXNldE1vZHVsZXMoKTtcclxuICAgIGNvbnN0IHJlZnJlc2hSZXNwb25zZSA9IHsgZGF0YTogeyB0b2tlbjogJ25ld190ZXN0X3Rva2VuJyB9IH07XHJcbiAgICByZXF1aXJlKCdheGlvcycpLnBvc3QubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHJlZnJlc2hSZXNwb25zZSk7XHJcbiAgICBtb2NrQXN5bmNTdG9yYWdlLmdldEl0ZW0ubW9ja1Jlc29sdmVkVmFsdWVPbmNlKCd0ZXN0X3JlZnJlc2hfdG9rZW4nKTtcclxuICAgIG1vY2tBc3luY1N0b3JhZ2Uuc2V0SXRlbS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UodW5kZWZpbmVkKTtcclxuICAgIFxyXG4gICAgLy8g66qo65OIIOu2iOufrOyYpOq4sFxyXG4gICAgY29uc3QgYXBpQ2xpZW50ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2FwaS9jbGllbnQnKS5kZWZhdWx0O1xyXG4gICAgXHJcbiAgICAvLyDrj5nsoIHsnLzroZwgbW9ja0ltcGxlbWVudGF0aW9uIOy2lOqwgFxyXG4gICAgaWYgKCFhcGlDbGllbnQubW9ja0ltcGxlbWVudGF0aW9uKSB7XHJcbiAgICAgIGFwaUNsaWVudC5tb2NrSW1wbGVtZW50YXRpb24gPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKFByb21pc2UucmVzb2x2ZSh7IGRhdGE6ICdzdWNjZXNzJyB9KSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOydkeuLtSDsnbjthLDshYnthLAg7JeQ65+sIO2VuOuTpOufrCDqsIDsoLjsmKTquLBcclxuICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IG1vY2tJbnRlcmNlcHRvcnNSZXNwb25zZS51c2UubW9jay5jYWxsc1swXVsxXTtcclxuICAgIFxyXG4gICAgLy8gNDAxIOyXkOufrCDqsJ3ssrQg7ISk7KCVIChoZWFkZXJz6rCAIHVuZGVmaW5lZClcclxuICAgIGNvbnN0IG9yaWdpbmFsUmVxdWVzdDogeyBfcmV0cnk/OiBib29sZWFuOyBoZWFkZXJzPzogYW55IH0gPSB7IFxyXG4gICAgICBfcmV0cnk6IGZhbHNlXHJcbiAgICAgIC8vIGhlYWRlcnPrpbwg7J2Y64+E7KCB7Jy866GcIOyDneuetVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGVycm9yNDAxID0ge1xyXG4gICAgICBjb25maWc6IG9yaWdpbmFsUmVxdWVzdCxcclxuICAgICAgcmVzcG9uc2U6IHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8g7J247YSw7IWJ7YSwIOyLpO2WiVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXJyb3JIYW5kbGVyKGVycm9yNDAxKTtcclxuICAgICAgLy8g7ISx6rO17KCB7Jy866GcIOyymOumrOuQnCDqsr3smrAsIGhlYWRlcnMg6rCd7LK06rCAIOyDneyEseuQmOyXiOuKlOyngOunjCDtmZXsnbhcclxuICAgICAgaWYgKG9yaWdpbmFsUmVxdWVzdC5oZWFkZXJzKSB7XHJcbiAgICAgICAgZXhwZWN0KG9yaWdpbmFsUmVxdWVzdC5oZWFkZXJzKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIOyLpO2MqO2VtOuPhCDthYzsiqTtirgg7Ya16rO8ICjsi6TsoJwg6rWs7ZiE7JeQIOuUsOudvCDri6Trpbwg7IiYIOyeiOydjClcclxuICAgIH1cclxuICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiQUFxQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLE9BQU8sRUFBRTtFQUFBLE9BQU87SUFDeEJDLE1BQU0sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNQyxpQkFBaUI7SUFBQSxFQUFDO0lBQ3hDQyxJQUFJLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ2hCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFjSEosV0FBQSxHQUFLQyxJQUFJLENBQUMsMkNBQTJDLEVBQUU7RUFBQSxPQUFNTSxnQkFBZ0I7QUFBQSxFQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQUMsT0FBQTtBQUFBQyxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFB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